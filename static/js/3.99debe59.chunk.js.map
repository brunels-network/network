{"version":3,"sources":["components/AboutOverlay.js","components/TextButton.js","components/AnalysisPanel.js","components/AnalysisButton.js","components/BioOverlay.js","components/SourceOverlay.js","components/Overlay.js","components/OverlayWrapper.js","components/Popover.js","components/d3/ForceGraph.d3.js","components/ForceGraph.js","components/Accordion.js","components/DefaultButton.js","components/CheckBox.js","components/ResponsiveList.js","components/GroupsList.js","components/ConnectionList.js","components/DateRangeButton.js","model/Errors.js","model/RoughDate.js","model/DateRange.js","components/SourceList.js","components/WeightsList.js","model/Person.js","model/People.js","model/Business.js","model/Businesses.js","model/Connection.js","model/Connections.js","model/Position.js","model/Positions.js","model/Affiliation.js","model/Affiliations.js","model/Source.js","model/Sources.js","model/Note.js","model/Notes.js","model/Project.js","model/Projects.js","model/Biographies.js","model/Social.js","components/InfoBox.js","components/NewTimeline.js","components/TimeLineBox.js","components/FilterBox.js","components/SlidingPanel.js","components/ShipSelector.js","components/ShipTitle.js","components/SearchBar.js","components/SearchOverlay.js","SocialApp.js","images sync /^/.//.*$","images/320px-SS_Great_Britain_diagram.jpg","images/320px-SS_Great_Britain_transverse_section.jpg","images/IllustriteZeitung_SS_GreatBritain.png","images/RHowlett_IKB.jpg","images/Sumerian_26th_c_Adab.jpg","components/AboutOverlay.module.css","components/TextButton.module.css","components/AnalysisPanel.module.css","components/AnalysisButton.module.css","components/Popover.module.css","components/BioOverlay.module.css","images/800px-Gutenberg_Bible.jpg","images/A_Specimen_by_William_Caslon.jpg","images/Brunel_letter_GWR.jpg","images/Great_Eastern_1866-crop.jpg","images/Great_Western_maiden_voyage.jpg","images/Great_eastern_launch_attempt.jpg","images/Launch-of-the-SS-GB.jpg","images/Launch-of-the-SS-GB.small.jpg","images/The_Steamer_Great_Western_small.jpg","images/bg-128-168.jpg","images/people/Joshua_field.jpg","images/ssgb_logo.png","components/SourceOverlay.module.css","components/Overlay.module.css","components/ForceGraph.module.css","components/Accordion.module.css","components/DefaultButton.module.css","components/CheckBox.module.css","components/ResponsiveList.module.css","components/GroupsList.module.css","components/ConnectionList.module.css","components/WeightsList.module.css","components/InfoBox.module.css","components/TimeLineBox.module.css","components/FilterBox.module.css","components/SlidingPanel.module.css","components/transitions/SlideFromLeft.module.css","components/transitions/SlideFromRight.module.css","components/transitions/SlideFromBottom.module.css","components/transitions/SlideFromTop.module.css","components/ShipSelector.module.css","components/ShipTitle.module.css","components/SearchBar.module.css","components/SearchOverlay.module.css","SocialApp.module.css"],"names":["AboutOverlay","className","styles","container","closeButton","onClick","this","props","close","style","background","border","fontSize","textContainer","header","intro","aboutText","introBody","sectionHeader","body","React","Component","TextButton","defaultCSS","fontFamily","color","cursor","padding","textAlign","clickFn","css","textColor","hoverColor","slice","button","children","AnalysisPanel","wrapperRef","createRef","setWrapperRef","bind","handleClickOutside","document","addEventListener","removeEventListener","node","event","contains","target","togglePanel","buttonPadding","indirectConnectionsText","indirectConnectionsVisible","unconnectedNodesText","unconnectedNodesVisible","physicsText","physicsEnabled","filterEngineersText","engineersFiltered","filterInvestorsText","investorsFiltered","ref","wholePanel","verticalSpaceTitle","titleText","verticalSpace","setOverlay","closeOverlay","filterEngineeringNodes","filterInvestorNodes","toggleindirectConnectionsVisible","toggleUnconnectedNodesVisible","togglePhysicsEnabled","resetFilters","toggleSearchOverlay","AnalysisButon","BioOverlay","state","isVisible","person","id","getID","name","getName","bio","social","getBiographies","getByID","replace","filename","imageFilenames","sourceButton","toggleSourceOverlay","sourceButtonText","toggleOverlay","nameHeader","positions","sources","sourcesHeader","divider","imageSection","key","src","require","alt","imageDescription","SourceOverlay","onChange","currentImage","elemCodes","imageElements","sourceIDs","map","push","imageID","setState","showArrows","length","sourceID","source","get","bioButton","toggleBioOverlay","sourceName","getDescription","biography","value","slidesPerPage","arrows","arrowLeft","icon","faAngleDoubleLeft","arrowLeftDisabled","faAngleLeft","arrowRight","faAngleDoubleRight","arrowRightDisabled","faAngleRight","addArrowClickHandler","Overlay","useState","open","setOpen","overlay","useBackground","overylayNoBackground","e","stopPropagation","defaultProps","OverlayWrapper","socialSources","getSources","isOverlayOpen","isSourceOverlayOpen","entity","isBioOverlayOpen","Popover","clearPopups","str","ellipsis","max","array","trim","split","join","selectedShipID","label","readMoreButton","buttonStrings","nodeType","getPeople","TypeError","getBusinesses","console","error","truncate","left","top","innerWidth","window","innerHeight","popoverHeight","popoverWidth","x","y","popOver","height","popoverHeightVH","width","popoverWidthVW","bioSection","edgeCount","readMore","sourceHeader","sourceSection","_null_function","constrain","w","r","Math","min","handleMouseOver","THIS","svg","_mainGroup","d3","raise","attr","items","selectAll","classed","highlight","each","d","target_id","source_id","signalMouseOver","handleMouseOut","signalMouseOut","_resolve","item","ForceGraphD3","updateSimulation","updateLink","updateNodeText","updateNode","draw","drawFromScratch","setPositionColors","getPositionColor","update","updateGraph","drag","dragLink","getWeight","uid","uuidv4","selected","highlighted","lastPhysics","signalClicked","hideUnconnectedNodes","standardSimulation","colors","groupTable","_size_changed","_graph_changed","_is_running","_is_drawn","_target_decay","_target_alpha","_tooltips","getConnections","find","gotConnections","h","graph","getGraph","l","lodash","cloneDeep","edges","edge","n","nodes","old_nodes","old","i","o","random","fixed","fx","fy","fixedLocation","randomShift","_graph","size_changed","Object","prototype","hasOwnProperty","call","greatEasternID","getProjects","getByName","positionGroups","positionCode","getPositionCode","code","shipID","getSelectedShipID","namedPositions","getPositions","colorTable","entries","position","trimPosition","toLowerCase","group","members","includes","startsWith","positionGroup","simulation","_simulation","on","restart","index","dx","dy","weight","data","select","enter","append","emitPopProps","text","node_text","log10","link","indirectStyle","linkIndirect","linkInvisible","type","linkWeak","stop","filter","v","alpha","alphaTarget","alphaDecay","force","strength","distanceMin","links","distance","iterations","radius","size","getGroupForce","_link","dr","sqrt","_node","_label","getLabelXOffset","restartSimulation","centreNodes","distanceMax","swapSection","maxOffset","offset","velocityDecay","alphaMin","log","remove","mainGroup","update_simulation","toggleSimulation","ForceGraph","popoversVisible","popups","updateSize","componentDidUpdate","localProps","offsetWidth","offsetHeight","prevState","assign","s","p","togglePopover","fastPhysics","slowPhysics","el","BAccordion","accordion","preExpanded","allowMultipleExpanded","allowZeroExpanded","BAccordionItem","accordionItem","uuid","BAccordionTitle","accordionButton","BAccordionPanel","DefaultButton","href","CheckBox","checkBox","checked","checkMark","ResponsiveList","list","ResponsiveListItem","null_function","GroupsList","groups","title","emitSelected","emitToggleFilter","projects","keys","forEach","is_filtered","isFiltered","project","projectHeader","projectBody","minWidth","ConnectionList","connections","listitems","DateRangeButton","_isARoughDateObject","_isADateRangeObject","isNull","toSimpleString","toDateRange","KeyError","args","Error","ValueError","MissingError","_toDate","val","def","_isAMomentObject","date","moment","isValid","_get_min","d1","d2","toDate","_get_max","RoughDate","start","end","raw","toISOString","delta","add","isFuzzy","format","getMonth","getDate","getFullYear","getEarliest","getLatest","DateRange","isExact","both","m","toMoment","other","s1","s2","getStart","getEnd","getRaw","getLatestDate","getEarliestDate","getEarliestString","getLatestString","eq","lt","gt","unDry","Dry","registerClass","_clean","hasBounds","isInstant","getStartString","getEndString","getEarliestStart","merge","getLatestEnd","hasStart","hasEnd","my_start","other_start","my_end","other_end","scale","getDelta","toString","tmp","dates","SourceList","output","daterange","mergeAll","WeightsList","weights","_filterWindow","values","ret","intersect","_filterProject","Person","titles","firstnames","surnames","suffixes","affiliations","alive","gender","notes","orig_name","edge_count","_getHook","_isAPersonObject","ids","seen","nsources","nprojects","getAlive","hook","parts","part","getTitle","getFirstName","getSurname","getSuffix","projectID","scores","content","projectKey","isAnchor","shape","getEdgeCount","sort","fixedNodes","c","_generate_person_uid","substring","People","registry","_names","_isAPeopleObject","load","_updateHooks","names","canAdd","existing","clone","results","indexOf","funcs","people","timeline","getTimeLine","anchor","getNode","is_anchor","element","Business","_isABusinessObject","business","_generate_business_uid","Businesses","_isABusinessesObject","businesses","_mergeSources","Connection","n0","n1","shared","duration","correspondances","_isAConnectionObject","node0","getNode0","node1","getNode1","nProjects","getDuration","getNode0Name","getNode1Name","getColorFromType","_generate_connection_uid","Connections","_isAConnectionsObject","connection","nnodes","_add","getNode0ID","getNode1ID","areNodesVisible","toEdge","Position","_isAPositionObject","canonical","makeCanonical","_generate_position_uid","Positions","_isAPositionsObject","_isApositionObject","Affiliation","_isAAffiliationObject","_generate_affiliation_uid","Affiliations","_isAAffiliationsObject","affiliation","Source","description","_isASourceObject","ne","_generate_source_uid","Sources","_isASourcesObject","Note","_isANoteObject","getText","_generate_note_uid","Notes","_isANotesObject","note","Project","url","_isAProjectObject","start_time","end_time","project_id","_generate_project_uid","Projects","_isAProjectsObject","Biographies","bios","_isABiographiesObject","_push","enabled","timestep","Social","cache","projectTimeLine","itemTimeLine","node_filters","edge_filters","max_window","_rebuilding","_isASocialObject","getHook","biographies","getWindow","filterWindow","project_filter","filterProject","source_filter","filterSource","node_filter","getConnectionsTo","group_filter","inGroup","new_window","getStartDate","getEndDate","fitted","_fitWindow","setWindow","clearCache","filtered","getNodeFilters","getEdgeFilters","f","_getType","result","getAffiliations","search","projectFilter","Array","isArray","toggleFilter","getNodes","concat","getEdges","added","getNotes","default_text","getBiography","pages","a","InfoBox","image","default_image","person_image","business_image","source_image","asources","getAffiliationSources","csources","getCorrespondanceSources","getWeights","getType","analysis_image","extractData","tabs","panes","tabId","tabPanel","tab","tabFor","heroImage","vertical","defaultTab","tablist","NewTimeline","setFilter","itemRenderer","defaultTimeStart","defaultTimeEnd","lastShip","textStyle","overflow","paddingLeft","textOverflow","whiteSpace","dateHeaderStyle","backgroundColor","shipName","itemContext","getItemProps","resizing","borderStyle","borderWidth","onMouseDown","timeline_items","getNewTimeLine","sidebarWidth","itemTouchSendsClick","stackItems","lineHeight","itemHeightRatio","showCursorLine","canMove","canResize","traditionalZoom","timeSteps","year","unit","intervals","headerContext","getRootProps","getIntervalProps","interval","borderLeft","startTime","TimeLineBox","dimensions","deactivate","activate","tabList","shipSelect","centerContainer","filterList","maxWidth","FilterBox","filter_text","getFilterText","emitClearFilters","filter_info","filterContainer","filterText","SlidingPanel","isOpen","defaultSize","minSize","maxSize","rightContainer","transition","SlideFromRight","horiz_size","vert_size","maxHeight","bottomContainer","SlideFromBottom","topContainer","SlideFromTop","leftContainer","SlideFromLeft","CSSTransition","in","timeout","classNames","unmountOnExit","ShipSelector","ssGW","shipFilter","ShipTitle","shipTitle","SearchResults","SearchBar","suggestions","searching","nextProps","searchText","emitResults","createButton","setSuggestions","setResults","setTimeout","startSearch","startSuggestion","isSearching","autocomplete","isEmpty","which","keyCode","searchFor","searchContainer","resultContainer","searchPending","display","fadeIn","closeResultButton","stopSearch","searchResult","searchBox","onKeyPress","onEnter","placeholder","isSearchingComponent","isSuggesting","isSuggestingComponent","hasResults","resultsComponent","SearchOverlay","haveResults","selectedEntity","infoOverlay","smallContainer","emitHighlighted","emitClicked","SocialApp","resetAllFilters","parse","graphData","setAnchor","setMaxWindow","highlighted_item","selected_item","overlayItem","isInfoPanelOpen","isTimeLinePanelOpen","isFilterPanelOpen","isHamburgerMenuOpen","isSearchOverlayOpen","isOptionsOverlayOpen","commericalNodeFilter","engineerNodeFilter","connectedNodes","isAnalysisOpen","selectedShip","findInvestorsAndEngineers","findConnectedNodes","slotToggleFilter","socialGraph","resetFiltersNotShip","toggleProjectFilter","clearProjectFilter","setFilters","clearFilters","showInfo","closePanels","getRegistry","findAndGroupNodes","entities","getIDs","positionID","getPosition","namedPosition","getNameByID","unconnectedNodes","b","nodesToFilter","toggleSimulationType","location","reload","searchOverlay","slotSelected","slotHighlighted","slotClicked","resetButtonContainer","resetAll","closePanelButton","slotSetFilter","shipNameContainer","slotSetShip","mainContainer","graphContainer","wobble","wobbleEnabled","rightSidePanel","AnalysisButton","toggleAnalysisPanel","toggleOptionsOverlay","toggleFilterPanel","toggleTimeLinePanel","webpackContext","req","webpackContextResolve","__webpack_require__","resolve","module","exports"],"mappings":"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","file":"static/js/3.99debe59.chunk.js","sourcesContent":["import PropTypes from \"prop-types\";\nimport React from \"react\";\n\nimport styles from \"./AboutOverlay.module.css\";\n\nimport aboutText from \"../data/aboutText.json\";\n\nclass AboutOverlay extends React.Component {\n  render() {\n    return (\n      <div className={styles.container}>\n        <div className={styles.closeButton}>\n          <button onClick={this.props.close} style={{ background: \"none\", border: \"none\", fontSize: \"2.4vh\" }}>\n            x\n          </button>\n        </div>\n        <div className={styles.textContainer}>\n          <div className={styles.header}>About</div>\n          <div className={styles.intro}>{aboutText[\"intro\"]}</div>\n          <div className={styles.introBody}>\n            <p>{aboutText[\"introParaOne\"]}</p>\n            <br></br>\n            <p>{aboutText[\"introParaTwo\"]}</p>\n          </div>\n          <div className={styles.sectionHeader}>{aboutText[\"methodHeader\"]}</div>\n          <div className={styles.body}>\n            <p>{aboutText[\"methodParaOne\"]}</p>\n            <br></br>\n            <p>{aboutText[\"methodParaTwo\"]}</p>\n          </div>\n          <div className={styles.sectionHeader}>{aboutText[\"sourcesHeader\"]}</div>\n          <div className={styles.body}>\n            <p>{aboutText[\"sourcesParaOne\"]}</p>\n            <br></br>\n            <p>{aboutText[\"sourcesParaTwo\"]}</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nAboutOverlay.propTypes = {\n  close: PropTypes.func.isRequired,\n};\n\nexport default AboutOverlay;\n","/** @jsx jsx */\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\nimport { jsx } from \"@emotion/core\";\n\nimport styles from \"./TextButton.module.css\";\n\nclass TextButton extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.defaultCSS = {\n      background: \"none\",\n      border: \"none\",\n      fontFamily: \"Playfair Display SC\",\n      color: \"#f1f1f1\",\n      cursor: \"pointer\",\n      fontSize: \"3vh\",\n      padding: \"1vh 1vw 1vh 1.4vw\",\n      textAlign: \"left\",\n      \"&:hover\": { color: \"black\" },\n    };\n  }\n  render() {\n    const css = this.defaultCSS;\n\n    if (this.props.textColor) {\n      css[\"color\"] = this.props.textColor;\n    }\n\n    if (this.props.hoverColor) {\n      css[\"&:hover\"][\"color\"] = this.props.hoverColor;\n    }\n\n    if (this.props.fontSize) {\n      css[\"fontSize\"] = this.props.fontSize;\n    }\n\n    if (this.props.padding) {\n      css[\"padding\"] = this.props.padding;\n    }\n\n    if (this.props.fontFamily) {\n      let fontSize = this.props.fontFamily;\n\n      if (this.props.fontFamily.slice(-2) !== \"vh\") {\n        fontSize = this.defaultCSS[\"fontSize\"];\n      }\n\n      css[\"fontFamily\"] = fontSize;\n    }\n\n    let clickFn;\n    if (this.props.onClick) {\n      clickFn = this.props.onClick;\n    } else {\n      clickFn = () => null;\n    }\n\n    return (\n      <button className={styles.button} css={css} onClick={clickFn}>\n        {this.props.children}\n      </button>\n    );\n  }\n}\n\nTextButton.propTypes = {\n  children: PropTypes.any,\n  hoverColor: PropTypes.string,\n  textColor: PropTypes.string,\n  onClick: PropTypes.func,\n  style: PropTypes.object,\n};\n\nexport default TextButton;\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport AboutOverlay from \"./AboutOverlay\";\n\nimport TextButton from \"./TextButton\";\nimport styles from \"./AnalysisPanel.module.css\";\n\nclass AnalysisPanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.wrapperRef = React.createRef();\n    this.setWrapperRef = this.setWrapperRef.bind(this);\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  setWrapperRef(node) {\n    this.wrapperRef = node;\n  }\n\n  handleClickOutside(event) {\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n      this.props.togglePanel();\n    }\n  }\n\n  render() {\n    const buttonPadding = \"1vh 1vw 1vh 1vw\";\n\n    let indirectConnectionsText = this.props.indirectConnectionsVisible ? \"Hide\" : \"Show\";\n    let unconnectedNodesText = this.props.unconnectedNodesVisible ? \"Hide\" : \"Show\";\n    let physicsText = this.props.physicsEnabled ? \"Disable \" : \"Enable \";\n\n    let filterEngineersText = this.props.engineersFiltered ? \"Remove engineer filter\" : \"Filter by engineers\";\n    let filterInvestorsText = this.props.investorsFiltered ? \"Remove investor filter\" : \"Filter by investors\";\n\n    return (\n      <div ref={this.setWrapperRef} className={styles.wholePanel}>\n        <div className={styles.verticalSpaceTitle}></div>\n        <div className={styles.titleText}>Analysis</div>\n        <div className={styles.verticalSpace}></div>\n        <TextButton\n          fontSize=\"2.3vh\"\n          padding={buttonPadding}\n          onClick={() => {\n            this.props.setOverlay(<AboutOverlay close={this.props.closeOverlay} />);\n            this.props.togglePanel();\n          }}\n        >\n          What is Brunel&apos;s Network?\n        </TextButton>\n        <TextButton\n          fontSize=\"2.4vh\"\n          padding={buttonPadding}\n          onClick={() => {\n            this.props.filterEngineeringNodes();\n            // this.props.togglePanel();\n          }}\n        >\n          {filterEngineersText}\n        </TextButton>\n        <TextButton\n          fontSize=\"2.4vh\"\n          padding={buttonPadding}\n          onClick={() => {\n            this.props.filterInvestorNodes();\n            // this.props.togglePanel();\n          }}\n        >\n          {filterInvestorsText}\n        </TextButton>\n        <TextButton\n          fontSize=\"2.4vh\"\n          padding={buttonPadding}\n          onClick={() => {\n            this.props.toggleindirectConnectionsVisible();\n            // this.props.togglePanel();\n          }}\n        >\n          {indirectConnectionsText + \" indirect connections\"}\n        </TextButton>\n        <TextButton\n          fontSize=\"2.4vh\"\n          padding={buttonPadding}\n          onClick={() => {\n            this.props.toggleUnconnectedNodesVisible();\n            // this.props.togglePanel();\n          }}\n        >\n          {unconnectedNodesText + \" unconnected nodes\"}\n        </TextButton>\n        <TextButton\n          fontSize=\"2.4vh\"\n          padding={buttonPadding}\n          onClick={() => {\n            this.props.togglePhysicsEnabled();\n            // this.props.togglePanel();\n          }}\n        >\n          {physicsText + \"physics\"}\n        </TextButton>\n\n        <TextButton\n          fontSize=\"2.4vh\"\n          padding={buttonPadding}\n          onClick={() => {\n            this.props.resetFilters();\n            // this.props.togglePanel();\n          }}\n        >\n          Reset filters\n        </TextButton>\n\n        <TextButton\n          fontSize=\"2.4vh\"\n          padding={buttonPadding}\n          onClick={() => {\n            this.props.toggleSearchOverlay();\n            this.props.togglePanel();\n          }}\n        >\n          Search\n        </TextButton>\n        <div className={styles.verticalSpace}></div>\n        <TextButton\n          fontSize=\"2.4vh\"\n          textColor=\"#222\"\n          hoverColor=\"white\"\n          padding={buttonPadding}\n          onClick={() => {\n            this.props.togglePanel();\n          }}\n        >\n          Close\n        </TextButton>\n      </div>\n    );\n  }\n}\n\nAnalysisPanel.propTypes = {\n  setOverlay: PropTypes.func,\n  toggleFilterPanel: PropTypes.func,\n  toggleOptionsOverlay: PropTypes.func,\n  togglePanel: PropTypes.func,\n  toggleSearchOverlay: PropTypes.func,\n  toggleUnconnectedNodesVisible: PropTypes.func.isRequired,\n  closeOverlay: PropTypes.func.isRequired,\n  toggleindirectConnectionsVisible: PropTypes.func.isRequired,\n  indirectConnectionsVisible: PropTypes.bool.isRequired,\n  filterEngineeringNodes: PropTypes.func.isRequired,\n  filterInvestorNodes: PropTypes.func.isRequired,\n  engineersFiltered: PropTypes.bool.isRequired,\n  investorsFiltered: PropTypes.bool.isRequired,\n  unconnectedNodesVisible: PropTypes.bool.isRequired,\n  physicsEnabled: PropTypes.bool.isRequired,\n  togglePhysicsEnabled: PropTypes.func.isRequired,\n  resetFilters: PropTypes.func.isRequired,\n};\n\nexport default AnalysisPanel;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./AnalysisButton.module.css\";\n\nclass AnalysisButon extends React.Component {\n  render() {\n    return (\n      <button className={styles.button} onClick={this.props.togglePanel}>\n        Analysis\n      </button>\n    );\n  }\n}\n\nAnalysisButon.propTypes = {\n  togglePanel: PropTypes.func.isRequired,\n};\n\nexport default AnalysisButon;\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\n\nimport imageFilenames from \"../data/entityImageFilenames.json\";\n\nimport TextButton from \"./TextButton\";\nimport Linkify from \"react-linkify\";\n\nimport styles from \"./BioOverlay.module.css\";\n\nclass BioOverlay extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { isVisible: false };\n  }\n\n  render() {\n    const person = this.props.person;\n    const id = person.getID();\n    const name = person.getName();\n    const biographies = this.props.social.getBiographies();\n\n    // Get biography and strip name\n    let bio = biographies.getByID(id);\n\n    if (!bio) {\n      bio = \"No biography found.\";\n    }\n\n    bio = bio.replace(name + \". \", \"\");\n\n    const filename = imageFilenames[id][\"filename\"];\n\n    let sourceButton = (\n      <TextButton\n        textColor=\"black\"\n        hoverColor=\"#808080\"\n        fontSize=\"1.8vh\"\n        padding=\"0px 4px 4px 4px\"\n        onClick={this.props.toggleSourceOverlay}\n      >\n        {this.props.sourceButtonText}\n      </TextButton>\n    );\n\n    return (\n      <div className={styles.container}>\n        <div className={styles.closeButton}>\n          <button onClick={this.props.toggleOverlay} style={{ background: \"none\", border: \"none\", fontSize: \"2vh\" }}>\n            x\n          </button>\n        </div>\n        <div className={styles.nameHeader}>{person.getName()}</div>\n        <div className={styles.positions}>{}</div>\n        <div className={styles.bio}>\n          <Linkify>{bio}</Linkify>\n        </div>\n        <div className={styles.sources}>\n          <div className={styles.sourcesHeader}>\n            Sources\n            <br />\n            <br />\n            <br />\n          </div>\n          <div>{sourceButton}</div>\n        </div>\n        <div className={styles.divider} />\n        <div className={styles.imageSection}>\n          <div>\n            <img key={id} src={require(`../images/${filename}`)} alt=\"Manuscript\" />\n          </div>\n          <div className={styles.imageDescription}>Image description</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nBioOverlay.propTypes = {\n  social: PropTypes.object.isRequired,\n  toggleOverlay: PropTypes.func.isRequired,\n  person: PropTypes.object.isRequired,\n  toggleSourceOverlay: PropTypes.func.isRequired,\n  sourceButtonText: PropTypes.string.isRequired,\n};\n\nexport default BioOverlay;\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport Carousel from \"@brainhubeu/react-carousel\";\n\nimport styles from \"./SourceOverlay.module.css\";\nimport \"@brainhubeu/react-carousel/lib/style.css\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleLeft, faAngleDoubleLeft, faAngleDoubleRight, faAngleRight } from \"@fortawesome/free-solid-svg-icons\";\n\nimport TextButton from \"./TextButton\";\n\nimport imageFilenames from \"../data/sourceImageFilenames.json\";\n\nclass SourceOverlay extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = this.onChange.bind(this);\n\n    this.state = { isVisible: false, currentImage: 0, elemCodes: [], imageElements: [] };\n\n    this.state.imageElements = this.props.sourceIDs.map((id) => {\n      const filename = imageFilenames[id][\"filename\"];\n\n      this.state.elemCodes.push(id);\n\n      return <img key={id} src={require(`../images/${filename}`)} alt=\"Manuscript\" />;\n    });\n  }\n\n  onChange(imageID) {\n    this.setState({ currentImage: imageID });\n  }\n\n  render() {\n    const sources = this.props.sources;\n    const person = this.props.person;\n\n    let showArrows = this.state.elemCodes.length > 1 ? true : false;\n\n    const sourceID = this.state.elemCodes[this.state.currentImage];\n    const source = sources.get(sourceID);\n\n    const bioButton = (\n      <TextButton\n        onClick={this.props.toggleBioOverlay}\n        textColor=\"black\"\n        hoverColor=\"#808080\"\n        fontSize=\"1.8vh\"\n        padding=\"2px 2px 2px 2px\"\n        fontFamily=\"Playfair Display Medium\"\n      >\n        Open biography\n      </TextButton>\n    );\n\n    return (\n      <div className={styles.container}>\n        <div className={styles.closeButton}>\n          <button onClick={this.props.toggleOverlay} style={{ background: \"none\", border: \"none\", fontSize: \"2vh\" }}>\n            x\n          </button>\n        </div>\n        <div className={styles.nameHeader}>{person.getName()}</div>\n\n        <div className={styles.body}>\n          <div className={styles.sourceName}>{source.getName()}</div>\n          <div>{source.getDescription()}</div>\n        </div>\n        <div className={styles.biography}>{bioButton}</div>\n        <div className={styles.divider} />\n        <div className={styles.imageSection}>\n          <Carousel\n            value={this.state.currentImage}\n            onChange={this.onChange}\n            slidesPerPage={1}\n            arrows={showArrows}\n            arrowLeft={<FontAwesomeIcon icon={faAngleDoubleLeft} />}\n            arrowLeftDisabled={<FontAwesomeIcon icon={faAngleLeft} />}\n            arrowRight={<FontAwesomeIcon icon={faAngleDoubleRight} />}\n            arrowRightDisabled={<FontAwesomeIcon icon={faAngleRight} />}\n            addArrowClickHandler\n          >\n            {this.state.imageElements}\n          </Carousel>\n        </div>\n      </div>\n    );\n  }\n}\n\nSourceOverlay.propTypes = {\n  sources: PropTypes.object.isRequired,\n  sourceIDs: PropTypes.array.isRequired,\n  toggleOverlay: PropTypes.func.isRequired,\n  toggleBioOverlay: PropTypes.func.isRequired,\n  person: PropTypes.object.isRequired,\n};\n\nexport default SourceOverlay;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./Overlay.module.css\";\n\n// Based on https://stackoverflow.com/a/55003301\nfunction Overlay(props) {\n  const { useState } = React;\n  const [open, setOpen] = useState(true);\n  if (open) {\n    let style = styles.overlay;\n\n    if (!props.useBackground) {\n      style = styles.overylayNoBackground;\n    }\n\n    return (\n      <div\n        className={style}\n        onClick={() => {\n          props.toggleOverlay();\n          setOpen(false);\n        }}\n      >\n        <div\n          onClick={(e) => {\n            e.stopPropagation();\n          }}\n        >\n          {props.children}\n        </div>\n      </div>\n    );\n  }\n  return null;\n}\n\nOverlay.defaultProps = {\n  useBackground: true,\n};\n\nexport default Overlay;\n\nOverlay.propTypes = {\n  toggleOverlay: PropTypes.func.isRequired,\n  children: PropTypes.element.isRequired,\n  useBackground: PropTypes.bool,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport BioOverlay from \"./BioOverlay\";\nimport SourceOverlay from \"./SourceOverlay\";\nimport Overlay from \"./Overlay\";\n\nclass OverlayWrapper extends React.Component {\n  render() {\n    const sourceButtonText = this.props.sourceButtonText;\n    const socialSources = this.props.social.getSources();\n\n    if (!this.props.sourceIDs) {\n      return null;\n    }\n\n    let overlay = null;\n    if (this.props.isOverlayOpen && this.props.isSourceOverlayOpen) {\n      overlay = (\n        <Overlay toggleOverlay={this.props.toggleOverlay}>\n          <SourceOverlay\n            sources={socialSources}\n            person={this.props.entity}\n            sourceIDs={this.props.sourceIDs}\n            toggleOverlay={this.props.toggleOverlay}\n            toggleBioOverlay={this.props.toggleBioOverlay}\n          />\n        </Overlay>\n      );\n    } else if (this.props.isOverlayOpen && this.props.isBioOverlayOpen) {\n      overlay = (\n        <Overlay toggleOverlay={this.props.toggleOverlay}>\n          <BioOverlay\n            sources={socialSources}\n            person={this.props.entity}\n            social={this.props.social}\n            toggleOverlay={this.props.toggleOverlay}\n            toggleSourceOverlay={this.props.toggleSourceOverlay}\n            sourceButtonText={sourceButtonText}\n          />\n        </Overlay>\n      );\n    }\n\n    return overlay;\n  }\n}\n\nOverlayWrapper.propTypes = {\n  entity: PropTypes.object.isRequired,\n  isBioOverlayOpen: PropTypes.bool.isRequired,\n  isOverlayOpen: PropTypes.bool.isRequired,\n  isSourceOverlayOpen: PropTypes.bool.isRequired,\n  social: PropTypes.object.isRequired,\n  sourceButtonText: PropTypes.string.isRequired,\n  sourceIDs: PropTypes.array.isRequired,\n  toggleBioOverlay: PropTypes.func.isRequired,\n  toggleOverlay: PropTypes.func.isRequired,\n  toggleSourceOverlay: PropTypes.func.isRequired,\n};\n\nexport default OverlayWrapper;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport TextButton from \"./TextButton\";\n\nimport styles from \"./Popover.module.css\";\n\nimport OverlayWrapper from \"./OverlayWrapper\";\n\n// The detection of outside clicks in this class taken from\n// https://stackoverflow.com/a/42234988\n\nclass Popover extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.setWrapperRef = this.setWrapperRef.bind(this);\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n\n    this.toggleSourceOverlay = this.toggleSourceOverlay.bind(this);\n    this.toggleBioOverlay = this.toggleBioOverlay.bind(this);\n\n    this.toggleOverlay = this.toggleOverlay.bind(this);\n\n    this.state = { isOverlayOpen: false };\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  setWrapperRef(node) {\n    this.wrapperRef = node;\n  }\n\n  handleClickOutside(event) {\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n      this.props.clearPopups();\n    }\n  }\n\n  toggleOverlay() {\n    this.setState({ isOverlayOpen: !this.state.isOverlayOpen });\n    this.props.clearPopups();\n  }\n\n  toggleSourceOverlay() {\n    this.setState({ isOverlayOpen: true, isSourceOverlayOpen: true, isBioOverlayOpen: false });\n  }\n\n  toggleBioOverlay() {\n    this.setState({ isOverlayOpen: true, isSourceOverlayOpen: false, isBioOverlayOpen: true });\n  }\n\n  truncate(str, max = 10) {\n    const array = str.trim().split(\" \");\n\n    let ellipsis;\n    if (array.length > max) {\n      ellipsis = \"...\";\n      //   this.setState({ readMoreEnabled: true });\n    } else {\n      ellipsis = \"\";\n    }\n\n    return array.slice(0, max).join(\" \") + ellipsis;\n  }\n\n  render() {\n    const node = this.props.node;\n    const selectedShipID = this.props.selectedShipID;\n\n    const name = node.label;\n    const social = this.props.social;\n    const socialSources = social.getSources();\n\n    let readMoreButton = (\n      <TextButton\n        textColor=\"#9B1C31\"\n        hoverColor=\"#808080\"\n        fontSize=\"1.5vh\"\n        padding=\"0px 2px 2px 2px\"\n        fontFamily=\"Playfair Display Medium\"\n        onClick={this.toggleBioOverlay}\n      >\n        Read more\n      </TextButton>\n    );\n\n    const buttonStrings = [];\n\n    let nodeType = node[\"type\"];\n\n    let entity;\n    if (nodeType === \"person\") {\n      entity = this.props.social.getPeople(false).get(node.id);\n    } else if (nodeType === \"business\") {\n      entity = this.props.social.getBusinesses(false).get(node.id);\n    } else {\n      throw new TypeError(\"Incorrect type or no type on node\");\n    }\n\n    const sourceIDs = entity.getSources()[selectedShipID];\n\n    let sourceButtonText = \"\";\n    if (!sourceIDs) {\n      console.error(\"Cannot find sources for this project : \", selectedShipID, \"\\n Sources : \", socialSources);\n    } else {\n      for (const id of sourceIDs) {\n        buttonStrings.push(socialSources.get(id).getName());\n      }\n    }\n\n    sourceButtonText = buttonStrings.join(\", \");\n\n    // Get biography for node\n    let bio = social.getBiographies().getByID(node.id);\n\n    if (!bio) {\n      bio = \"No biography found.\";\n    } else {\n      bio = bio.replace(name + \".  \", \"\");\n      bio = this.truncate(bio, 40);\n    }\n\n    // Get the location of the click within the viewport so we can open the popover\n    // in the correct location\n    const innerWidth = window.innerWidth; // px\n    const innerHeight = window.innerHeight; // px\n\n    const popoverHeightVH = 30; // vh\n    const popoverWidthVW = 15; // vw\n\n    const popoverHeight = innerHeight * (popoverHeightVH / 100); // px\n    const popoverWidth = innerWidth * (popoverWidthVW / 100); // px\n\n    let left;\n    if (node.x > innerWidth - popoverWidth) {\n      left = node.x - 20 - popoverWidth + \"px\";\n    } else {\n      left = node.x + 10 + \"px\";\n    }\n\n    let top;\n    if (node.y > innerHeight - popoverHeight) {\n      top = node.y - 10 - popoverHeight + \"px\";\n    } else {\n      top = node.y + \"px\";\n    }\n\n    return (\n      <div ref={this.setWrapperRef}>\n        <div\n          className={styles.popOver}\n          style={{ top: top, left: left, height: popoverHeightVH + \"vh\", width: popoverWidthVW + \"vw\" }}\n        >\n          <div className={styles.closeButton}>\n            <button onClick={this.props.clearPopups} style={{ background: \"none\", border: \"none\", fontSize: \"2vh\" }}>\n              x\n            </button>\n          </div>\n          <div className={styles.header}>{name}</div>\n          <div className={styles.bioSection}>{bio}</div>\n          <div className={styles.edgeCount}>Number of connections: {node[\"edge_count\"][selectedShipID]}</div>\n          <div className={styles.readMore}>{readMoreButton}</div>\n          <div className={styles.sourceHeader}>Sources</div>\n          <div className={styles.sourceSection}>\n            <TextButton\n              textColor=\"black\"\n              hoverColor=\"#808080\"\n              fontSize=\"1.5vh\"\n              padding=\"0px 4px 4px 4px\"\n              onClick={this.toggleSourceOverlay}\n            >\n              {sourceButtonText}\n            </TextButton>\n          </div>\n        </div>\n        <OverlayWrapper\n          isBioOverlayOpen={this.state.isBioOverlayOpen}\n          isOverlayOpen={this.state.isOverlayOpen}\n          isSourceOverlayOpen={this.state.isSourceOverlayOpen}\n          toggleOverlay={this.toggleOverlay}\n          toggleBioOverlay={this.toggleBioOverlay}\n          toggleSourceOverlay={this.toggleSourceOverlay}\n          node={node}\n          social={social}\n          entity={entity}\n          sourceButtonText={sourceButtonText}\n          sourceIDs={sourceIDs}\n        />\n      </div>\n    );\n  }\n}\n\nPopover.propTypes = {\n  social: PropTypes.object.isRequired,\n  node: PropTypes.object.isRequired,\n  togglePopover: PropTypes.func.isRequired,\n  selectedShipID: PropTypes.string,\n  clearPopups: PropTypes.func.isRequired,\n};\n\nexport default Popover;\n","import PropTypes from \"prop-types\";\nimport * as d3 from \"d3\";\n\nimport React from \"react\";\n\nimport lodash from \"lodash\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport styles from \"../ForceGraph.module.css\";\n\nimport positionGroups from \"../../data/positionGroups.json\";\n\nfunction _null_function() {}\n\nfunction constrain(x, w, r = 20) {\n  return Math.max(3 * r, Math.min(w - r, x));\n}\n\nfunction handleMouseOver(THIS) {\n  function handle() {\n    let svg = THIS._mainGroup;\n    if (!svg) {\n      return;\n    }\n\n    let node = d3.select(this);\n    node.raise();\n\n    let id = node.attr(\"id\");\n\n    if (!id) {\n      return;\n    }\n\n    //highlight the node\n    let items = svg.selectAll(`#${id}`);\n    items.classed(styles.highlight, true);\n\n    //highlight the connection lines with this node as a source\n    items = svg.selectAll(`[source_id=${id}]`);\n    items.classed(styles.highlight, true);\n\n    //highlight the nodes with this node as a target\n    items.each((d) => {\n      let target_id = d.target.id;\n      svg.selectAll(`#${target_id}`).classed(styles.highlight, true);\n    });\n\n    //highlight the connection lines with this node as a target\n    items = svg.selectAll(`[target_id=${id}]`);\n    items.classed(styles.highlight, true);\n\n    //highlight the nodes with this node as a source\n    items.each((d) => {\n      let source_id = d.source.id;\n      svg.selectAll(`#${source_id}`).classed(styles.highlight, true);\n    });\n\n    if (node.attr(\"source_id\")) {\n      svg.selectAll(`#${node.attr(\"source_id\")}`).classed(styles.highlight, true);\n\n      svg.selectAll(`#${node.attr(\"target_id\")}`).classed(styles.highlight, true);\n    }\n\n    THIS.state.signalMouseOver(id);\n  }\n\n  return handle;\n}\n\nfunction handleMouseOut(THIS) {\n  function handle() {\n    let svg = THIS._mainGroup;\n    if (!svg) {\n      return;\n    }\n\n    let node = d3.select(this);\n    let id = node.attr(\"id\");\n\n    let items = svg.selectAll(`#${id}`);\n\n    items.classed(styles.highlight, false);\n\n    //highlight the connection lines with this node as a source\n    items = svg.selectAll(`[source_id=${id}]`);\n    items.classed(styles.highlight, false);\n\n    //highlight the nodes with this node as a target\n    items.each((d) => {\n      let target_id = d.target.id;\n      svg.selectAll(`#${target_id}`).classed(styles.highlight, false);\n    });\n\n    //highlight the connection lines with this node as a target\n    items = svg.selectAll(`[target_id=${id}]`);\n    items.classed(styles.highlight, false);\n\n    //highlight the nodes with this node as a source\n    items.each((d) => {\n      let source_id = d.source.id;\n      svg.selectAll(`#${source_id}`).classed(styles.highlight, false);\n    });\n\n    if (node.attr(\"source_id\")) {\n      svg.selectAll(`#${node.attr(\"source_id\")}`).classed(styles.highlight, false);\n\n      svg.selectAll(`#${node.attr(\"target_id\")}`).classed(styles.highlight, false);\n    }\n\n    THIS.state.signalMouseOut(id);\n  }\n\n  return handle;\n}\n\nfunction _resolve(item) {\n  if (!item) {\n    return null;\n  } else if (item.getID) {\n    return item.getID();\n  } else {\n    return item;\n  }\n}\n\n/* eslint-disable react/no-direct-mutation-state */\nclass ForceGraphD3 extends React.Component {\n  constructor(props) {\n    super(props);\n    this.updateSimulation = this.updateSimulation.bind(this);\n    this.updateLink = this.updateLink.bind(this);\n    this.updateNodeText = this.updateNodeText.bind(this);\n    this.updateNode = this.updateNode.bind(this);\n    this.draw = this.draw.bind(this);\n    this.drawFromScratch = this.drawFromScratch.bind(this);\n    this.setPositionColors = this.setPositionColors.bind(this);\n    this.getPositionColor = this.getPositionColor.bind(this);\n    this.update = this.update.bind(this);\n    this.updateGraph = this.updateGraph.bind(this);\n\n    this.drag = this.drag.bind(this);\n    this.dragLink = this.dragLink.bind(this);\n    this.getWeight = this.getWeight.bind(this);\n\n    // Generate a UID for this graph so that we don't clash\n    // with any other graphs on the same page\n    let uid = uuidv4();\n\n    this.state = {\n      width: null,\n      height: null,\n      social: null,\n      selected: null,\n      highlighted: null,\n      lastPhysics: \"fast\",\n      physicsEnabled: this.props.physicsEnabled,\n      signalClicked: _null_function,\n      signalMouseOut: _null_function,\n      signalMouseOver: _null_function,\n      indirectConnectionsVisible: false,\n      hideUnconnectedNodes: false,\n      standardSimulation: true,\n      colors: {},\n      groupTable: {},\n      uid: uid.slice(uid.length - 8),\n    };\n\n    this._size_changed = true;\n    this._graph_changed = true;\n    this._is_running = false;\n    this._is_drawn = false;\n\n    // Set parameters for the force simulation\n    this._target_decay = 0.1;\n    this._target_alpha = 0.3;\n\n    this._tooltips = [];\n    // this.updateGraph = this.updateGraph.bind(this);\n    // this.update = this.update.bind(this);\n\n    this.state.standardSimulation = true;\n\n    this.update(props);\n  }\n\n  getSelectedShipID() {\n    return this.props.selectedShipID;\n\n    // This code is now uneeded as props are updated properly\n    // const filter = this.state.social.getFilter();\n\n    // if (filter[\"project\"]) {\n    //   return Object.keys(filter[\"project\"])[0];\n    // } else {\n    //   console.error(\"Error finding project code from filter\");\n    // }\n  }\n\n  getNodeBio(id) {\n    return this.state.social.getBiographies().getByID(id);\n  }\n\n  getNodeConnections(id) {\n    return this.state.social.getConnections().find(id);\n  }\n\n  gotConnections(id) {\n    return this.state.social.getConnections().gotConnections(id);\n  }\n\n  updateGraph(social) {\n    let w = this.state.width;\n    let h = this.state.height;\n\n    this.state.social = social;\n\n    if (!w || !h) {\n      return;\n    }\n\n    let graph = null;\n\n    if (social) {\n      graph = social.getGraph();\n    }\n\n    // The social object will cache the 'getGraph' result, meaning\n    // that any change in this object signals that the graph needs\n    // to be redrawn\n    if (graph !== this.state.graph) {\n      //save the cached graph\n      this.state.graph = graph;\n      //   this.setState({ graph: graph });\n\n      // This view needs to clone its own copy of the graph, as\n      // D3 will update the graph object. We need to clone in case\n      // two ForceGraph.d3 views are viewing the same Social graph\n      graph = lodash.cloneDeep(this.state.graph);\n\n      // need to update IDs so that the edges refer to the index\n      // of the node in the nodes array - this could be optimised!\n      for (let l in graph.edges) {\n        let edge = graph.edges[l];\n        for (let n in graph.nodes) {\n          let node = graph.nodes[n];\n          if (edge.source === node.id) {\n            edge.source = n;\n            edge.source_id = node.id;\n          } else if (edge.target === node.id) {\n            edge.target = n;\n            edge.target_id = node.id;\n          }\n        }\n      }\n\n      //index any old nodes\n      let old_nodes = [];\n      let old = {};\n\n      //   if (this._graph) {\n      //     old_nodes = this._graph.nodes;\n\n      //     for (let n in old_nodes) {\n      //       old[old_nodes[n].id] = n;\n      //     }\n      //   }\n\n      for (let n in graph.nodes) {\n        let node = graph.nodes[n];\n\n        let i = old[node.id];\n\n        if (i) {\n          let o = old_nodes[i];\n          node.x = o.x;\n          node.y = o.y;\n        } else if (this.gotConnections(node.id)) {\n          node.x = w * Math.random();\n          node.y = h * Math.random();\n        } else {\n          node.x = w - 0.15 * w;\n          node.y = h * Math.random();\n        }\n\n        if (node.fixed && this.props.standardSimulation) {\n          if (i) {\n            node.fx = node.x;\n            node.fy = node.y;\n          } else if (node.fixedLocation) {\n            node.fx = w * node.fixedLocation[\"x\"] * this.randomShift();\n            node.fy = h * node.fixedLocation[\"y\"] * this.randomShift();\n          } else {\n            node.fx = w * 0.66;\n            node.fy = h * 0.5;\n          }\n        }\n      }\n\n      this._graph = graph;\n      this._graph_changed = true;\n    }\n  }\n\n  randomShift(min = 0.01, max = 0.15) {\n    // Adds a small bit of randomness to the placement of the fixed nodes so it\n    // doesn't look so fixed\n    return 1 - Math.random() * (max - min) + max;\n  }\n\n  update(props) {\n    let size_changed = false;\n\n    if (!this.state.physicsEnabled) {\n      this.state.physicsEnabled = this.props.physicsEnabled;\n    }\n\n    if (!this.state.hideUnconnectedNodes) {\n      this.state.hideUnconnectedNodes = this.props.hideUnconnectedNodes;\n    }\n\n    if (!this.state.standardSimulation) {\n      this.state.standardSimulation = this.props.standardSimulation;\n    }\n\n    if (props.indirectConnectionsVisible !== this.state.indirectConnectionsVisible) {\n      this.state.indirectConnectionsVisible = props.indirectConnectionsVisible;\n      this._graph_changed = true;\n    }\n\n    let hasWidth = Object.prototype.hasOwnProperty.call(props, \"width\");\n\n    if (hasWidth) {\n      if (this.state.width !== props.width) {\n        this.state.width = props.width;\n        // this.setState({ width: props.width });\n        size_changed = true;\n      }\n    }\n\n    let hasHeight = Object.prototype.hasOwnProperty.call(props, \"height\");\n\n    if (hasHeight) {\n      if (this.state.height !== props.height) {\n        this.state.height = props.height;\n        // this.setState({ height: props.height });\n        size_changed = true;\n      }\n    }\n\n    if (size_changed) {\n      this._size_changed = true;\n    }\n\n    let hasSignalClicked = Object.prototype.hasOwnProperty.call(props, \"signalClicked\");\n\n    if (hasSignalClicked) {\n      if (this.state.signalClicked) {\n        this.state.signalClicked = props.signalClicked;\n        // this.setState({ signalClicked: props.signalClicked });\n      } else {\n        this.state.signalClicked = _null_function;\n        // this.setState({ signalClicked: _null_function });\n      }\n    }\n\n    let hasSignalMouseOut = Object.prototype.hasOwnProperty.call(props, \"signalMouseOut\");\n\n    if (hasSignalMouseOut) {\n      if (this.state.signalMouseOut) {\n        this.state.signalMouseOut = props.signalMouseOut;\n        // this.setState({ signalMouseOut: props.signalMouseOut });\n      } else {\n        this.state.signalMouseOut = _null_function;\n        // this.setState({ signalMouseOut: _null_function });\n      }\n    }\n\n    let hasSignalMouseOver = Object.prototype.hasOwnProperty.call(props, \"signalMouseOver\");\n\n    if (hasSignalMouseOver) {\n      if (this.state.signalMouseOver) {\n        this.state.signalMouseOver = props.signalMouseOver;\n        // this.setState({ signalMouseOver: props.signalMouseOver });\n      } else {\n        this.state.signalMouseOver = _null_function;\n        // this.setState({ signalMouseOver: _null_function });\n      }\n    }\n\n    let hasSocial = Object.prototype.hasOwnProperty.call(props, \"social\");\n\n    if (hasSocial) {\n      this.updateGraph(props.social);\n    }\n\n    // We can setup the colours object\n    this.setPositionColors();\n\n    let hasSelected = Object.prototype.hasOwnProperty.call(props, \"selected\");\n\n    if (hasSelected) {\n      this.state.selected = _resolve(props.selected);\n      //   this.setState({ selected: _resolve(props.selected) });\n    }\n\n    let hasHighlighted = Object.prototype.hasOwnProperty.call(props, \"highlighted\");\n\n    if (hasHighlighted) {\n      this.state.highlighted = _resolve(props.highlighted);\n      //   this.setState({ highlighted: _resolve(props.highlighted) });\n    }\n\n    if (props.standardSimulation !== this.state.standardSimulation) {\n      this.state.standardSimulation = props.standardSimulation;\n      //   this.toggleSimulation();\n      this._graph_changed = true;\n    }\n\n    // For now get the ID of the SS Great Eastern so we don't assign force to the nodes\n    this.state.greatEasternID = this.state.social.getProjects().getByName(\"SS Great Eastern\").getID();\n  }\n\n  className() {\n    return `ForceGraphD3-${this.state.uid}`;\n  }\n\n  getPositionColor(entity) {\n    // Businesses have a single colour\n    if (entity[\"type\"] === \"business\") {\n      return positionGroups[\"business\"][\"color\"];\n    }\n\n    // Anchor\n    if (entity[\"group\"] === \"anchor\") {\n      return positionGroups[\"anchor\"][\"color\"];\n    }\n\n    // This shouldn't happen, but all nodes must have a colour set\n    if (!entity[\"positions\"]) {\n      console.error(\"No colour available for this entity : \", entity);\n      return \"#FFFFFF\";\n    }\n\n    const positionCode = this.getPositionCode(entity);\n\n    let color = this.state.colors[positionCode];\n\n    return color;\n  }\n\n  getPositionCode(entity) {\n    // There might not be a position for this project\n    let code;\n\n    const shipID = this.getSelectedShipID();\n\n    try {\n      code = entity[\"positions\"][shipID][0];\n    } catch (error) {\n      code = \"NA\";\n    }\n\n    return code;\n  }\n\n  setPositionColors() {\n    // Read all the positions for this graph\n    const namedPositions = this.state.social.getPositions().items();\n\n    let colorTable = {};\n    let groupTable = {};\n\n    // Read the positions and colours from a JSON file that can be easily updated\n    for (let [position, uid] of Object.entries(namedPositions)) {\n      // Process these to remove whitespace and non letter/number characters so we have less likelihood of errors\n      let trimPosition = position\n        .toLowerCase()\n        .replace(/\\s/g, \"\")\n        .replace(/[.,/#!$%^&*;:{}=\\-_`~()]/g, \"\");\n\n      // Here positionGroups is the import JSON object containing\n      // which positions are in which group and the colour assigned to them\n      for (let [group, members] of Object.entries(positionGroups)) {\n        if (members[\"members\"].includes(trimPosition)) {\n          colorTable[uid] = members[\"color\"];\n          groupTable[uid] = group;\n          break;\n        } else {\n          // Assign bright blue to any we don't recognize, but this\n          // shouldn't (hopefully) happen if the JSON is correct\n          colorTable[uid] = positionGroups[\"unknown\"][\"color\"];\n        }\n      }\n    }\n\n    // Set the colour for the anchor\n    colorTable[\"anchor\"] = positionGroups[\"anchor\"][\"color\"];\n\n    // This is being called from within the ctor so we can't use setState here\n    this.state.colors = colorTable;\n    this.state.groupTable = groupTable;\n  }\n\n  getGroupForce(entity) {\n    if (!entity.positions) {\n      const entity_id = entity[\"id\"].toLowerCase();\n\n      // Need a better way of handling businesses\n      if (entity_id.startsWith(\"b\")) {\n        return -0.11;\n      } else {\n        console.error(\"Undefined positions for entity \", entity);\n        return 0;\n      }\n    }\n\n    if (this.props.selectedShipID === this.state.greatEasternID) {\n      return 0;\n    }\n\n    if (!this.gotConnections(entity.id)) {\n      return 0;\n    }\n\n    const leftForce = [\"engineering\"];\n    const rightForce = [\"commercial\"];\n    const noForce = [\"other\", \"anchor\", \"business\", \"unknown\"];\n\n    // Get the position codes for this entity\n    const positionCode = this.getPositionCode(entity);\n    // The groupTable tells us which group this entity belongs to and so determines its force\n    const positionGroup = this.state.groupTable[positionCode];\n\n    if (leftForce.includes(positionGroup)) {\n      return -0.17;\n    } else if (rightForce.includes(positionGroup)) {\n      return 0.1;\n    } else if (noForce.includes(positionGroup)) {\n      return 0.1;\n    }\n\n    return 0;\n  }\n\n  drag() {\n    let simulation = this._simulation;\n\n    return d3\n      .drag()\n      .on(\"start\", (d) => {\n        d.fx = d.x;\n        d.fy = d.y;\n      })\n      .on(\"drag\", (d) => {\n        if (!this._is_running) simulation.restart();\n\n        let w = this.state.width;\n        let h = this.state.height;\n\n        d.fx = constrain(d3.event.x, w, d.r);\n        d.fy = constrain(d3.event.y, h, d.r);\n      })\n      .on(\"end\", (d) => {\n        if (!d.fixed) {\n          d.fx = null;\n          d.fy = null;\n        }\n      });\n  }\n\n  dragLink() {\n    let simulation = this._simulation;\n\n    return d3\n      .drag()\n      .on(\"start\", (d) => {\n        //find the two nodes connected to this edge\n        let source = this._graph.nodes[d.source.index];\n        let target = this._graph.nodes[d.target.index];\n\n        //fix those nodes in place\n        source.fx = source.x;\n        source.fy = source.y;\n\n        target.fx = target.x;\n        target.fy = target.y;\n      })\n      .on(\"drag\", (d) => {\n        if (!this._is_running) simulation.restart();\n\n        //find the two nodes connected to this edge\n        let source = this._graph.nodes[d.source.index];\n        let target = this._graph.nodes[d.target.index];\n\n        //moves those nodes with the event - move the center point of the\n        //line connecting these two nodes...\n        let dx = 0.5 * (target.x - source.x);\n        let dy = 0.5 * (target.y - source.y);\n\n        source.fx = constrain(d3.event.x - dx, this.state.width, source.r);\n        source.fy = constrain(d3.event.y - dy, this.state.height, source.r);\n\n        target.fx = constrain(d3.event.x + dx, this.state.width, target.r);\n        target.fy = constrain(d3.event.y + dy, this.state.height, target.r);\n      })\n      .on(\"end\", (d) => {\n        // simulation.alphaTarget(0).restart();\n\n        //find the two nodes connected to this edge\n        let source = this._graph.nodes[d.source.index];\n        let target = this._graph.nodes[d.target.index];\n\n        if (!source.fixed) {\n          source.fx = null;\n          source.fy = null;\n        }\n\n        if (!target.fixed) {\n          target.fx = null;\n          target.fy = null;\n        }\n      });\n  }\n\n  getWeight(item) {\n    const shipID = this.getSelectedShipID();\n    // Big weights make the size of circles too large\n    const sizeScale = 0.5;\n\n    // let weight = sizeScale * item[\"weight\"][shipID];\n    let weight = sizeScale * item[\"weight\"][shipID];\n\n    if (!weight) weight = 2;\n\n    return weight;\n  }\n\n  updateNode(data) {\n    let node = this._mainGroup.select(\".node-group\").selectAll(\".node\");\n\n    node = node\n      .data(data, (d) => d.id)\n      .join(\n        (enter) => enter.append(\"circle\").attr(\"class\", `node ${styles.node}`),\n        (update) => update.attr(\"class\", `node ${styles.node}`)\n      )\n      // Here size is the weight given to that entity\n      .attr(\"r\", (d) => {\n        // If no project selected keep previous weight\n        // Otherwise update using the selected project code\n        return this.getWeight(d);\n      })\n      .attr(\"id\", (d) => {\n        return d.id;\n      })\n      .attr(\"fill\", (d) => {\n        return this.getPositionColor(d);\n      })\n      .on(\"click\", (d) => this.props.emitPopProps(d))\n      .on(\"mouseover\", handleMouseOver(this))\n      .on(\"mouseout\", handleMouseOut(this))\n      .call(this.drag());\n\n    return node;\n  }\n\n  updateNodeText(data) {\n    let text = this._mainGroup.select(\".node_text-group\").selectAll(\".node_text\");\n\n    // Big weights make the size of circles too large\n    const sizeScale = 0.5;\n\n    text = text\n      .data(data, (d) => d.id)\n      .join(\n        (enter) => enter.append(\"text\").attr(\"class\", `node_text ${styles.node_text}`),\n        (update) => update.attr(\"class\", `node_text ${styles.node_text}`)\n      )\n      .text((d) => d.label)\n      .style(\"font-size\", (d) => {\n        return Math.max(1.2, 2 * Math.log10(this.getWeight(d))) + \"vh\";\n      })\n      .attr(\"dx\", (d) => {\n        return this.getWeight(d) + \"px\";\n      })\n      .attr(\"dy\", (d) => {\n        return -1 * (3 + sizeScale * this.getWeight(d)) + \"px\";\n      })\n      .attr(\"text-anchor\", \"start\")\n      .attr(\"id\", (d) => {\n        return d.id;\n      })\n      .on(\"click\", (d) => this.props.emitPopProps(d))\n      .on(\"mouseover\", handleMouseOver(this))\n      .on(\"mouseout\", handleMouseOut(this))\n      .call(this.drag());\n\n    return text;\n  }\n\n  updateLink(data) {\n    let link = this._mainGroup.select(\".link-group\").selectAll(\".link\");\n\n    // Add prop here\n    let indirectStyle = this.state.indirectConnectionsVisible ? styles.linkIndirect : styles.linkInvisible;\n\n    const weightCutoff = 4;\n\n    link = link\n      .data(data, (d) => d.id)\n      .join(\n        (enter) => enter.append(\"path\").attr(\"class\", `link ${styles.link}`),\n        (update) => update.attr(\"class\", `link ${styles.link}`)\n      )\n      .attr(\"class\", (d) => {\n        // Here we're using the weight of the edges between\n        // nodes to  change the properties of the line drawn\n        if (d.type === \"direct\") {\n          if (d.value > weightCutoff) {\n            return `link ${styles.link}`;\n          } else {\n            return `link ${styles.linkWeak}`;\n          }\n        } else {\n          return `link ${indirectStyle}`;\n        }\n      })\n      .attr(\"id\", (d) => {\n        return d.id;\n      })\n      .attr(\"source_id\", (d) => {\n        return d.source_id;\n      })\n      .attr(\"target_id\", (d) => {\n        return d.target_id;\n      })\n      .on(\"mouseover\", handleMouseOver(this))\n      .on(\"mouseout\", handleMouseOut(this))\n      .call(this.dragLink());\n\n    return link;\n  }\n\n  updateSimulation() {\n    if (this._simulation) {\n      this._simulation.stop();\n      this._simulation = null;\n      this._is_running = false;\n    }\n\n    let w = this.state.width;\n    let h = this.state.height;\n\n    // We don't want a force applied to null edges\n    let edges = this._graph.edges.filter((v) => v[\"type\"]);\n\n    let simulation = d3\n      .forceSimulation(this._graph.nodes)\n      .alpha(0.6)\n      .alphaTarget(0)\n      .alphaDecay(0.01)\n      .force(\"charge\", d3.forceManyBody().strength(-40).distanceMin(4))\n      .force(\n        \"link\",\n        d3\n          .forceLink()\n          .links(edges)\n          .distance((d) => {\n            if (d[\"type\"] === \"direct\") {\n              return 75 * (1 + d.value);\n            } else {\n              return 125 * (1 + d.value);\n            }\n          })\n          .iterations(5)\n      )\n      .force(\n        \"collision\",\n        d3\n          .forceCollide()\n          .radius((d) => {\n            return 3 * (1 + 10 * d.size);\n          })\n          .strength(10.0)\n          .iterations(5)\n      )\n      // This forces the groupings given in position_groups.json left/right\n      .force(\n        \"X\",\n        d3.forceX().strength((d) => {\n          return this.getGroupForce(d);\n        })\n      )\n      // This function with help from https://stackoverflow.com/a/13456081\n      .on(\"tick\", () => {\n        this._link.attr(\"d\", (d) => {\n          const curveFactor = 3;\n          const dx = d.target.x - d.source.x;\n          const dy = d.target.y - d.source.x;\n          const dr = curveFactor * Math.sqrt(dx * dx + dy * dy);\n\n          return \"M\" + d.source.x + \",\" + d.source.y + \"A\" + dr + \",\" + dr + \" 0 0,1 \" + d.target.x + \",\" + d.target.y;\n        });\n        this._node\n          .attr(\"cx\", (d) => {\n            return (d.x = constrain(d.x, w, d.r));\n          })\n          .attr(\"cy\", (d) => {\n            return (d.y = constrain(d.y, h, d.r));\n          });\n\n        this._label.attr(\"x\", (d) => this.getLabelXOffset(d)).attr(\"y\", (d) => d.y);\n      })\n      .on(\"end\", () => {\n        this.restartSimulation();\n      });\n\n    this._is_running = true;\n\n    // Save the simulation so that we can update it later...\n    this._simulation = simulation;\n  }\n\n  toggleSimulation() {\n    if (this._graph) {\n      if (this.props.standardSimulation) {\n        this.updateGraph(this.state.social, true);\n        this.updateSimulation();\n      } else {\n        this.centreNodes();\n      }\n    }\n  }\n\n  centreNodes() {\n    if (this._simulation) {\n      this._simulation.stop();\n      this._simulation = null;\n      this._is_running = false;\n    }\n    let w = this.state.width;\n    let h = this.state.height;\n\n    let simulation = d3\n      .forceSimulation(this._graph.nodes)\n      .alpha(0.4)\n      .alphaTarget(0)\n      .alphaDecay(0.05)\n      .force(\n        \"link\",\n        d3\n          .forceLink()\n          .links(this._graph.edges)\n          .distance((d) => {\n            return 75 * (1 + d.value);\n          })\n          .iterations(5)\n      )\n      .force(\n        \"collision\",\n        d3\n          .forceCollide()\n          .radius((d) => {\n            return 3 * (1 + d.size);\n          })\n          .strength(1.0)\n          .iterations(5)\n      )\n      .force(\"charge\", d3.forceManyBody().strength(-10).distanceMin(10).distanceMax(25))\n      .force(\n        \"X\",\n        d3\n          .forceX()\n          .strength(0.5)\n          .x(w / 2)\n      )\n      .force(\n        \"Y\",\n        d3\n          .forceY()\n          .strength(0.5)\n          .y(h / 2)\n      )\n      .on(\"tick\", () => {\n        this._link.attr(\"d\", (d) => {\n          const curveFactor = 3;\n          const dx = d.target.x - d.source.x;\n          const dy = d.target.y - d.source.x;\n          const dr = curveFactor * Math.sqrt(dx * dx + dy * dy);\n\n          return \"M\" + d.source.x + \",\" + d.source.y + \"A\" + dr + \",\" + dr + \" 0 0,1 \" + d.target.x + \",\" + d.target.y;\n        });\n        this._node\n          .attr(\"cx\", (d) => {\n            return (d.x = constrain(d.x, w, d.r));\n          })\n          .attr(\"cy\", (d) => {\n            return (d.y = constrain(d.y, h, d.r));\n          });\n\n        this._label.attr(\"x\", (d) => this.getLabelXOffset(d)).attr(\"y\", (d) => d.y);\n      })\n      .on(\"end\", () => {\n        this.restartSimulation();\n      });\n\n    this._is_running = true;\n\n    // Save the simulation so that we can update it later...\n    this._simulation = simulation;\n\n    this.updateGraph(this.state.social);\n  }\n\n  getLabelXOffset(d) {\n    const swapSection = 20 * (window.innerWidth / 100);\n\n    let x;\n    if (d.x > window.innerWidth - swapSection) {\n      const radius = this.getWeight(d);\n      const maxOffset = 0.2 * window.innerWidth;\n      const offset = Math.min(radius * d[\"label\"].length, maxOffset);\n\n      x = d.x - offset;\n    } else {\n      x = d.x;\n    }\n\n    return x;\n  }\n\n  slowPhysics() {\n    if (this._simulation && this.state.physicsEnabled === true) {\n      this.state.physicsEnabled = false;\n      this._simulation.alpha(0.1).alphaTarget(0).alphaDecay(0.05).velocityDecay(0.8).restart();\n    }\n  }\n\n  fastPhysics() {\n    if (this._simulation && this.state.physicsEnabled === false) {\n      this.state.physicsEnabled = true;\n      this._simulation.alpha(1).alphaTarget(0.5).alphaMin(0.2).alphaDecay(0.001).restart();\n    }\n  }\n\n  restartSimulation() {\n    if (this._simulation) {\n      this._simulation.restart();\n      this._is_running = true;\n    }\n  }\n\n  stopSimulation() {\n    this._simulation.stop();\n    this._is_running = false;\n  }\n\n  isRunning() {\n    return this._is_running;\n  }\n\n  updateLinks(indirectConnectionsVisible) {\n    if (this._graph.edges) {\n      this.setState({ indirectConnectionsVisible: indirectConnectionsVisible });\n      this.updateLink(this._graph.edges);\n    }\n  }\n\n  drawFromScratch() {\n    console.log(\"DRAW FROM SCRATCH\");\n    let graph = this._graph;\n\n    if (!graph) {\n      if (this.state.social) {\n        this.updateGraph(this.state.social);\n      }\n\n      graph = this._graph;\n      if (!graph) {\n        console.log(\"Nothing to draw...\");\n        return;\n      }\n    }\n\n    d3.select(`.${this.className()} > *`).remove();\n\n    let container = d3.select(`.${this.className()}`);\n\n    if (!container) {\n      console.log(`Cannot find container element class ${this.className()}`);\n      return;\n    }\n\n    const width = this.state.width;\n    const height = this.state.height;\n\n    console.log(`REDRAW ${width}x${height}`);\n\n    if (!width || !height) {\n      console.log(`Invalid width or height? ${width} x ${height}`);\n      return;\n    }\n\n    let svg = container\n      .append(\"svg\")\n      .attr(\"height\", height)\n      .attr(\"width\", width)\n      .attr(\"id\", \"svg-viz\")\n      .attr(\"align\", \"center\")\n      .on(\"click\", () => {\n        this.state.signalClicked(null);\n      });\n\n    let mainGroup = svg;\n    this._mainGroup = mainGroup;\n\n    this.updateSimulation();\n\n    mainGroup.append(\"g\").attr(\"class\", \"link-group\");\n    mainGroup.append(\"g\").attr(\"class\", \"node-group\");\n    mainGroup.append(\"g\").attr(\"class\", \"node_text-group\");\n\n    this._link = this.updateLink(graph.edges);\n    this._node = this.updateNode(graph.nodes);\n    this._label = this.updateNodeText(graph.nodes);\n\n    this._is_drawn = true;\n  }\n\n  draw() {\n    if (!this._is_drawn) {\n      this.drawFromScratch();\n      this._size_changed = false;\n      this._graph_changed = false;\n      return;\n    }\n\n    let update_simulation = false;\n\n    if (this._size_changed) {\n      let container = d3.select(`.${this.className()}`);\n      container.selectAll(\"svg\").attr(\"width\", this.state.width).attr(\"height\", this.state.height);\n      this._size_changed = false;\n      update_simulation = true;\n      this._label = this.updateNodeText(this._graph.nodes);\n    }\n\n    if (this._graph_changed) {\n      this._node = this.updateNode(this._graph.nodes);\n      this._label = this.updateNodeText(this._graph.nodes);\n      this._link = this.updateLink(this._graph.edges);\n      this._graph_changed = false;\n      update_simulation = true;\n    }\n\n    if (update_simulation) {\n      this.toggleSimulation();\n    }\n  }\n}\n\nForceGraphD3.propTypes = {\n  emitPopProps: PropTypes.func.isRequired,\n  hideUnconnectedNodes: PropTypes.bool.isRequired,\n  physicsEnabled: PropTypes.bool.isRequired,\n  standardSimulation: PropTypes.bool.isRequired,\n  selectedShipID: PropTypes.string,\n};\n\nexport default ForceGraphD3;\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\n\nimport Popover from \"./Popover\";\nimport ForceGraphD3 from \"./d3/ForceGraph.d3.js\";\n\nimport lodash from \"lodash\";\n\nclass ForceGraph extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      popoversVisible: false,\n      popups: {},\n    };\n\n    this.updateSize = this.updateSize.bind(this);\n    this.emitPopProps = this.emitPopProps.bind(this);\n    this.clearPopups = this.clearPopups.bind(this);\n    this.componentDidUpdate = this.componentDidUpdate.bind(this);\n\n    this.graph = new ForceGraphD3(props);\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"resize\", this.updateSize);\n    this.updateSize();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateSize);\n  }\n\n  componentDidUpdate() {\n    // TODO - look up better way of doing this\n    // This feels very clunky\n    let localProps = lodash.cloneDeep(this.props);\n    localProps[\"emitPopProps\"] = this.emitPopProps;\n    this.graph.props = localProps;\n    this.graph.update(this.props);\n    this.graph.draw();\n  }\n\n  updateSize() {\n    if (this.container && this.graph) {\n      this.graph.update({\n        width: this.container.offsetWidth,\n        height: this.container.offsetHeight,\n      });\n      this.graph.draw();\n    }\n  }\n\n  // Used for multiple popups\n  updatePopupState(id, node) {\n    this.setState((prevState) => {\n      let popups = Object.assign({}, prevState.popups);\n      popups[id] = node;\n      return { popups: popups };\n    });\n  }\n\n  emitPopProps(node) {\n    // this.clearPopups();\n    this.setState({ popups: { id: node } });\n\n    // Keep code for multiple popups\n    // if (this.state.popups[id]) {\n    //   this.updatePopupState(id, false);\n    // } else {\n    //   this.updatePopupState(id, node);\n    // }\n  }\n\n  clearPopups() {\n    this.setState({ popups: {} });\n  }\n\n  render() {\n    let s = this.graph.className();\n\n    let popups = [];\n\n    for (let [id, node] of Object.entries(this.state.popups)) {\n      if (node !== false) {\n        let p = (\n          <Popover\n            key={id}\n            togglePopover={this.emitPopProps}\n            node={node}\n            social={this.props.social}\n            selectedShipID={this.props.selectedShipID}\n            clearPopups={this.clearPopups}\n          />\n        );\n        popups.push(p);\n      }\n    }\n\n    if (!this.props.physicsEnabled) {\n      this.graph.slowPhysics();\n    } else {\n      this.graph.fastPhysics();\n    }\n\n    return (\n      <div ref={(el) => (this.container = el)} style={{ width: \"100%\", height: \"100%\" }}>\n        <div id={s} className={s}>\n          {popups}\n        </div>\n      </div>\n    );\n  }\n}\n\nForceGraph.propTypes = {\n  social: PropTypes.object.isRequired,\n  selectedShipID: PropTypes.string,\n  indirectConnectionsVisible: PropTypes.bool.isRequired,\n  physicsEnabled: PropTypes.bool.isRequired,\n  hideUnconnectedNodes: PropTypes.bool.isRequired,\n};\n\nexport default ForceGraph;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport {\n  Accordion,\n  AccordionItem,\n  AccordionItemHeading,\n  AccordionItemButton,\n  AccordionItemPanel,\n} from \"react-accessible-accordion\";\n\nimport styles from \"./Accordion.module.css\";\n\nfunction BAccordion(props) {\n  return (\n    <Accordion\n      className={styles.accordion}\n      preExpanded={props.preExpanded}\n      allowMultipleExpanded={props.allowMultipleExpanded}\n      allowZeroExpanded={props.allowZeroExpanded}\n    >\n      {props.children}\n    </Accordion>\n  );\n}\n\nBAccordion.propTypes = {\n  preExpanded: PropTypes.bool,\n  allowMultipleExpanded: PropTypes.bool,\n  allowZeroExpanded: PropTypes.bool,\n  children: PropTypes.string,\n};\n\nfunction BAccordionItem(props) {\n  return (\n    <AccordionItem className={styles.accordionItem} style={props.style} uuid={props.uuid}>\n      {props.children}\n    </AccordionItem>\n  );\n}\n\nBAccordionItem.propTypes = {\n  style: PropTypes.string,\n  uuid: PropTypes.string,\n  children: PropTypes.string,\n};\n\nfunction BAccordionTitle(props) {\n  return (\n    <AccordionItemHeading style={props.style}>\n      <AccordionItemButton className={styles.accordionButton}>{props.children}</AccordionItemButton>\n    </AccordionItemHeading>\n  );\n}\n\nBAccordionTitle.propTypes = {\n  style: PropTypes.string,\n  children: PropTypes.string,\n};\n\nfunction BAccordionPanel(props) {\n  return <AccordionItemPanel style={props.style}>{props.children}</AccordionItemPanel>;\n}\n\nBAccordionPanel.propTypes = {\n  style: PropTypes.string,\n  children: PropTypes.string,\n};\n\nexport {\n  BAccordion as Accordion,\n  BAccordionItem as AccordionItem,\n  BAccordionTitle as AccordionTitle,\n  BAccordionPanel as AccordionPanel,\n  BAccordion as default,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./DefaultButton.module.css\";\n\nfunction DefaultButton(props) {\n  return (\n    <button href=\"#\" className={styles.button} onClick={props.onClick} style={props.style}>\n      {props.children}\n    </button>\n  );\n}\n\nDefaultButton.propTypes = {\n  onClick: PropTypes.func,\n  style: PropTypes.object,\n  children: PropTypes.string,\n};\n\nexport default DefaultButton;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./CheckBox.module.css\";\n\nfunction CheckBox(props) {\n  return (\n    <label className={styles.checkBox} style={props.style}>\n      <input type=\"checkbox\" checked={props.checked} onChange={props.onChange} />\n      <span className={styles.checkMark} />\n    </label>\n  );\n}\n\nCheckBox.propTypes = {\n  style: PropTypes.string,\n  checked: PropTypes.bool,\n  onChange: PropTypes.func,\n};\n\nexport default CheckBox;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./ResponsiveList.module.css\";\n\nfunction ResponsiveList(props) {\n  return <div className={styles.list}>{props.children}</div>;\n}\n\nResponsiveList.propTypes = {\n  children: PropTypes.elementType.isRequired,\n};\n\nfunction ResponsiveListItem(props) {\n  return (\n    <div className={styles.item} key={props.key}>\n      {props.children}\n    </div>\n  );\n}\n\nResponsiveListItem.propTypes = {\n  key: PropTypes.string.isRequired,\n  children: PropTypes.elementType.isRequired,\n};\n\nexport { ResponsiveListItem, ResponsiveList, ResponsiveList as default };\n","import React from \"react\";\n\nimport DefaultButton from \"./DefaultButton\";\nimport CheckBox from \"./CheckBox\";\nimport { ResponsiveList, ResponsiveListItem } from \"./ResponsiveList\";\n\nimport styles from \"./GroupsList.module.css\";\n\nfunction null_function() {}\n\nfunction GroupsList({\n  groups,\n  title = null,\n  emitSelected = null_function,\n  emitToggleFilter = null_function,\n  social = null,\n}) {\n  if (!groups) {\n    return null;\n  }\n\n  let projects = [];\n\n  Object.keys(groups).forEach((key) => {\n    let items = [];\n\n    for (let index in groups[key]) {\n      let group = social.get(groups[key][index]);\n      let is_filtered = social.isFiltered(group);\n\n      items.push(\n        <ResponsiveListItem key={group.getName()}>\n          <DefaultButton\n            onClick={() => {\n              emitSelected(group);\n            }}\n            style={{ width: \"70%\" }}\n          >\n            {group.getName()}\n          </DefaultButton>\n          <CheckBox\n            onChange={() => {\n              emitToggleFilter(group);\n            }}\n            style={{ width: \"20%\" }}\n            checked={is_filtered}\n          />\n        </ResponsiveListItem>\n      );\n    }\n\n    let project = social.get(key);\n    let is_filtered = social.isFiltered(project);\n\n    projects.push(\n      <div className={styles.project} key={project.getName()}>\n        <div className={styles.projectHeader}>\n          <DefaultButton\n            style={{ width: \"75%\" }}\n            onClick={() => {\n              emitSelected(project);\n            }}\n          >\n            {project.getName()}\n          </DefaultButton>\n          <CheckBox\n            onChange={() => {\n              emitToggleFilter(project);\n            }}\n            style={{ width: \"20%\" }}\n            checked={is_filtered}\n          />\n        </div>\n        <div className={styles.projectBody}>\n          <ResponsiveList style={{ minWidth: \"100%\" }}>{items}</ResponsiveList>\n        </div>\n      </div>\n    );\n  });\n\n  if (title) {\n    return (\n      <div>\n        <div className={styles.title}>{title}</div>\n        {projects}\n      </div>\n    );\n  } else {\n    return projects;\n  }\n}\n\nexport default GroupsList;\n","import React from \"react\";\n\nimport DefaultButton from \"./DefaultButton\";\nimport CheckBox from \"./CheckBox\";\n\nimport { ResponsiveList, ResponsiveListItem } from \"./ResponsiveList\";\n\nimport styles from \"./ConnectionList.module.css\";\n\nfunction null_function() {}\n\nfunction ConnectionList({\n  connections,\n  title,\n  emitSelected = null_function,\n  emitToggleFilter = null_function,\n  social = null,\n}) {\n  if (!connections || connections.length === 0) {\n    return null;\n  }\n\n  const listitems = connections.map((item) => {\n    let i = item;\n    let name = item.getName();\n\n    let is_filtered = false;\n\n    if (social) {\n      is_filtered = social.isFiltered(item);\n    }\n\n    return (\n      <ResponsiveListItem key={name}>\n        <DefaultButton\n          onClick={() => {\n            emitSelected(i);\n          }}\n          style={{ width: \"70%\" }}\n        >\n          {name}\n        </DefaultButton>\n        <CheckBox\n          onChange={() => {\n            emitToggleFilter(i);\n          }}\n          checked={is_filtered}\n          style={{ width: \"20%\" }}\n        />\n      </ResponsiveListItem>\n    );\n  });\n\n  if (title) {\n    return (\n      <div className={styles.connections}>\n        <div className={styles.title}>{title}</div>\n        <ResponsiveList>{listitems}</ResponsiveList>\n      </div>\n    );\n  } else {\n    return (\n      <div className={styles.connections}>\n        <ResponsiveList>{listitems}</ResponsiveList>\n      </div>\n    );\n  }\n}\n\nexport default ConnectionList;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport DefaultButton from \"./DefaultButton\";\n\nfunction _null_function() {}\n\nfunction DateRangeButton(props) {\n  let d = props.value;\n\n  if (!d) {\n    return null;\n  }\n\n  if (!(d._isARoughDateObject || d._isADateRangeObject)) {\n    return null;\n  }\n\n  if (d.isNull()) {\n    return null;\n  }\n\n  let emitSelected = props.emitSelected;\n\n  if (!emitSelected) {\n    emitSelected = _null_function;\n  }\n\n  let s = d.toSimpleString();\n\n  if (d._isARoughDateObject) {\n    d = d.toDateRange();\n  }\n\n  return (\n    <DefaultButton\n      onClick={() => {\n        emitSelected(d);\n      }}\n      style={props.style}\n    >\n      {s}\n    </DefaultButton>\n  );\n}\n\nDateRangeButton.propTypes = {\n  value: PropTypes.func,\n  emitSelected: PropTypes.func,\n  style: PropTypes.string,\n};\n\nexport default DateRangeButton;\n","class KeyError extends Error {\n  constructor(...args) {\n    super(...args);\n    Error(this, KeyError);\n  }\n}\n\nclass ValueError extends Error {\n  constructor(...args) {\n    super(...args);\n    Error(this, ValueError);\n  }\n}\n\nclass DuplicateError extends Error {\n  constructor(...args) {\n    super(...args);\n    Error(this, DuplicateError);\n  }\n}\n\nclass MissingError extends Error {\n  constructor(...args) {\n    super(...args);\n    Error(this, MissingError);\n  }\n}\n\nexport { KeyError, ValueError, DuplicateError, MissingError };\n","import Dry from \"json-dry\";\nimport moment from \"moment\";\nimport lodash from \"lodash\";\n\nimport DateRange from \"./DateRange\";\n\nimport { ValueError } from \"./Errors\";\n\nfunction _toDate(val, def = null) {\n  if (val) {\n    if (val._isAMomentObject) {\n      return val;\n    }\n\n    /*if (val.toISOString){\n      val = val.toISOString();\n    }*/\n\n    let date = moment(val);\n\n    if (!date.isValid()) {\n      console.log(`Invalid Date ${val}`);\n      throw new ValueError(`Invalid Date ${val}`);\n    }\n\n    return date;\n  } else {\n    if (!def) {\n      return null;\n    } else {\n      return _toDate(def);\n    }\n  }\n}\n\n// NOTE FOR FUTURE - moment(x) < moment(y) === true\n//            even though moment(x).toDate() < moment(y).toDate() === false\n//   MOMENT COMPARISONS ARE BROKEN!\n\nfunction _get_min(d1, d2) {\n  if (d1) {\n    if (d2) {\n      if (d1.toDate() < d2.toDate()) {\n        return d1;\n      } else {\n        return d2;\n      }\n    } else {\n      return d1;\n    }\n  } else {\n    return d2;\n  }\n}\n\nfunction _get_max(d1, d2) {\n  if (d1) {\n    if (d2) {\n      if (d1.toDate() > d2.toDate()) {\n        return d1;\n      } else {\n        return d2;\n      }\n    } else {\n      return d1;\n    }\n  } else {\n    return d2;\n  }\n}\n\nfunction _merge_raw(s1, s2) {\n  if (!s1) {\n    return s2;\n  } else if (!s2) {\n    return s1;\n  }\n\n  return `${s1} + ${s2}`;\n}\n\nclass RoughDate {\n  constructor(state) {\n    this.state = {\n      start: null,\n      end: null,\n      raw: null,\n    };\n\n    this.setState(state);\n\n    this._isARoughDateObject = true;\n  }\n\n  setState(state) {\n    if (!state || state === \"null\" || state === null) {\n      this.state = { start: null };\n      return;\n    } else if (state._isARoughDateObject) {\n      this.state = { ...state.state };\n      return;\n    } else if (state._isADateRangeObject) {\n      this.state = state.toDate();\n      return;\n    } else if (state._isAMomentObject) {\n      this.state = { start: _toDate(state) };\n      return;\n    } else if (state.toISOString) {\n      this.state = { start: _toDate(state) };\n      return;\n    } else if (Object.prototype.hasOwnProperty.call(state, \"value\")) {\n      this.state = { start: state.value };\n      return;\n    } else if (typeof state === \"string\") {\n      this.state = { start: _toDate(state), raw: state };\n      return;\n    }\n\n    let start = _toDate(state.start);\n    let end = _toDate(state.end);\n\n    if (!start) {\n      this.state = { start: null };\n      return;\n    }\n\n    this.state.start = start;\n    this.state.end = end;\n    this.state.raw = state.raw;\n\n    if (this.isNull()) {\n      console.log(\"NULL RoughDate?\");\n      console.log(state);\n    }\n  }\n\n  static clone(item) {\n    let d = new RoughDate();\n    d.state = lodash.cloneDeep(item.state);\n    return d;\n  }\n\n  static max(d1, d2) {\n    return new RoughDate(_get_max(d1.getLatest(), d2.getLatest()));\n  }\n\n  static min(d1, d2) {\n    return new RoughDate(_get_min(d1.getEarliest(), d2.getEarliest()));\n  }\n\n  static delta(d1, d2) {\n    return d1.getLatestDate() - d2.getEarliestDate();\n  }\n\n  static getDelta(d1, d2) {\n    return RoughDate.delta(d1, d2);\n  }\n\n  static eq(item, other) {\n    if (item._isARoughDateObject && other._isARoughDateObject) {\n      return (\n        item.getEarliestString() === other.getEarliestString() && item.getLatestString() === other.getLatestString()\n      );\n    } else {\n      return false;\n    }\n  }\n\n  static lt(d1, d2) {\n    if (d1.isNull() || d2.isNull()) {\n      return false;\n    } else {\n      return d1.getEarliestDate() < d2.getEarliestDate();\n    }\n  }\n\n  static gt(d1, d2) {\n    if (d1.isNull() || d2.isNull()) {\n      return false;\n    } else {\n      return d1.getEarliestDate() > d2.getEarliestDate();\n    }\n  }\n\n  static le(d1, d2) {\n    return RoughDate.eq(d1, d2) || RoughDate.lt(d1, d2);\n  }\n\n  static ge(d1, d2) {\n    return RoughDate.eq(d1, d2) || RoughDate.gt(d1, d2);\n  }\n\n  static ne(d1, d2) {\n    return !RoughDate.eq(d1, d2);\n  }\n\n  add(delta) {\n    if (this.state.start) {\n      this.state.start.add(delta);\n    }\n\n    if (this.state.end) {\n      this.state.end.add(delta);\n    }\n\n    this.state.raw = null;\n  }\n\n  sub(delta) {\n    this.add(-delta);\n  }\n\n  isNull() {\n    if (this.state.start) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  isFuzzy() {\n    if (this.state.end) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  isExact() {\n    return !(this.isNull() || this.isFuzzy());\n  }\n\n  toString() {\n    if (this.isNull()) {\n      return \"Date:unknown\";\n    } else if (this.isFuzzy()) {\n      return `~${this.state.start.format(\"LL\")}-${this.state.end.format(\"LL\")}`;\n    } else {\n      return this.state.start.format(\"LL\");\n    }\n  }\n\n  toSimpleString() {\n    if (this.isNull()) {\n      return \"unknown\";\n    } else if (this.isFuzzy()) {\n      let s = this.state.start.toDate();\n      let e = this.state.end.toDate();\n\n      if (s.getMonth() === 0 && e.getMonth() === 11 && s.getDate() === 1 && e.getDate() === 31) {\n        //the dates span full years\n        if (s.getFullYear() === e.getFullYear()) {\n          return s.getFullYear();\n        } else {\n          return `${s.getFullYear()}-${e.getFullYear()}`;\n        }\n      } else {\n        return `${s.getDate()}/${s.getMonth() + 1}/${s.getFullYear()}-${e.getDate()}/${\n          e.getMonth() + 1\n        }/${e.getFullYear()}`;\n      }\n    } else {\n      return this.state.start.format(\"LL\");\n    }\n  }\n\n  getEarliest() {\n    let state = { start: this.state.start };\n    let r = new RoughDate();\n    r.state = state;\n    return r;\n  }\n\n  getLatest() {\n    if (this.state.end) {\n      let state = { start: this.state.end };\n      let r = new RoughDate();\n      r.state = state;\n      return r;\n    } else {\n      return this.getEarliest();\n    }\n  }\n\n  getEarliestDate() {\n    let d = this.getEarliest();\n\n    if (d) {\n      return d.toDate();\n    } else {\n      return null;\n    }\n  }\n\n  getLatestDate() {\n    let d = this.getLatest();\n\n    if (d) {\n      return d.toDate();\n    } else {\n      return null;\n    }\n  }\n\n  getEarliestString() {\n    let d = this.getEarliest();\n\n    if (d) {\n      return d.toDate().toISOString();\n    } else {\n      return null;\n    }\n  }\n\n  getLatestString() {\n    let d = this.getLatest();\n\n    if (d) {\n      return d.toDate().toISOString();\n    } else {\n      return null;\n    }\n  }\n\n  toRange() {\n    if (this.isNull()) {\n      return new DateRange();\n    } else if (this.isExact()) {\n      return new DateRange({ both: this.state.start });\n    } else {\n      return new DateRange({ start: this.state.start, end: this.state.end });\n    }\n  }\n\n  toDateRange() {\n    if (this.isNull()) {\n      return new DateRange();\n    } else if (this.isFuzzy()) {\n      return new DateRange({ start: this.getEarliest(), end: this.getLatest() });\n    } else {\n      return new DateRange({ both: this.getEarliest() });\n    }\n  }\n\n  toDate() {\n    let m = this.toMoment();\n\n    if (m) {\n      try {\n        return m.toDate();\n      } catch (error) {\n        console.log(`STRANGE ERROR ${error}`);\n        console.log(`m = ${m}`);\n        console.log(m);\n        return null;\n      }\n    } else {\n      return null;\n    }\n  }\n\n  //   toUnixTimestamp() {\n  //     return parseInt((this.toDate().getTime() / 1000).toFixed(0));\n  //   }\n\n  toMoment() {\n    if (this.isNull()) {\n      return null;\n    } else if (this.isExact()) {\n      return this.state.start;\n    } else {\n      throw new ValueError(`Cannot extract a single date from an inexact date ${this}`);\n    }\n  }\n\n  getRaw() {\n    return this.state.raw;\n  }\n\n  getStart() {\n    return this.state.start;\n  }\n\n  getEnd() {\n    if (this.state.end) {\n      return this.state.end;\n    } else {\n      return this.state.start;\n    }\n  }\n\n  merge(other) {\n    let state = {\n      start: _get_min(this.getStart(), other.getStart()),\n      end: _get_max(this.getEnd(), other.getEnd()),\n      raw: _merge_raw(this.getRaw(), other.getRaw()),\n    };\n\n    let date = new RoughDate();\n    date.state = state;\n\n    return date;\n  }\n}\n\nRoughDate.unDry = function (value) {\n  return new RoughDate(value);\n};\n\nDry.registerClass(\"Date\", RoughDate);\n\nexport default RoughDate;\n","import Dry from \"json-dry\";\nimport lodash from \"lodash\";\n\nimport RoughDate from \"./RoughDate\";\nimport { ValueError } from \"./Errors\";\n\nfunction _clean(val) {\n  if (!val || val._isADateRangeObject) {\n    return val;\n  } else if (val._isARoughDateObject) {\n    return val.toDateRange();\n  } else if (\n    Object.prototype.hasOwnProperty.call(val, \"start\") ||\n    Object.prototype.hasOwnProperty.call(val, \"end\") ||\n    Object.prototype.hasOwnProperty.call(val, \"both\") ||\n    Object.prototype.hasOwnProperty.call(val, \"value\")\n  ) {\n    return new DateRange(val);\n  } else {\n    return new DateRange({ both: new RoughDate(val) });\n  }\n}\n\nclass DateRange {\n  constructor(state) {\n    this.state = {\n      start: null,\n      end: null,\n    };\n\n    this.setState(state);\n    this._isADateRangeObject = true;\n  }\n\n  toString() {\n    if (this.hasBounds()) {\n      if (this.isInstant()) {\n        return `DateRange(${this.getStartString()})`;\n      } else {\n        return `DateRange(${this.getStartString()} to ${this.getEndString()})`;\n      }\n    } else {\n      return \"DateRange::unbounded\";\n    }\n  }\n\n  toSimpleString() {\n    if (this.hasBounds()) {\n      if (this.isInstant()) {\n        return this.getStart().toSimpleString();\n      } else {\n        return this.getEarliestStart().merge(this.getLatestEnd()).toSimpleString();\n      }\n    } else if (this.hasStart()) {\n      return `${this.getStart().toSimpleString()}<=>future`;\n    } else if (this.hasEnd()) {\n      return `past<=>${this.getEnd().toSimpleString()}`;\n    } else {\n      return \"past<=>future\";\n    }\n  }\n\n  static clone(item) {\n    let d = new DateRange();\n    d.state = lodash.cloneDeep(item.state);\n    return d;\n  }\n\n  static eq(item, other) {\n    if (item === other) {\n      return true;\n    }\n\n    if (item.hasStart() && other.hasStart()) {\n      if (!RoughDate.eq(item.getStart(), other.getStart())) {\n        return false;\n      }\n    } else if (item.hasStart() || other.hasStart()) {\n      return false;\n    }\n\n    if (item.hasEnd() && other.hasEnd()) {\n      if (!RoughDate.eq(item.getEnd(), other.getEnd())) {\n        return false;\n      }\n    } else if (item.hasEnd() || other.hasEnd()) {\n      return false;\n    }\n\n    return true;\n  }\n\n  static mergeAll(dates) {\n    if (!dates) {\n      return null;\n    } else if (dates._isARoughDateObject || dates._isARoughDateObject) {\n      return dates;\n    }\n\n    if (!dates.length || dates.length === 0) {\n      return null;\n    }\n\n    let date = dates[0];\n\n    if (dates.length > 1) {\n      for (let i = 1; i < dates.length; ++i) {\n        if (!dates[i].isNull()) {\n          if (date.isNull()) {\n            date = dates[i];\n          } else {\n            date = date.merge(dates[i]);\n          }\n        }\n      }\n    }\n\n    if (date.isNull()) {\n      return null;\n    } else {\n      return date;\n    }\n  }\n\n  merge(other) {\n    if (!other) {\n      return this;\n    } else if (other._isARoughDateObject) {\n      other = other.toDateRange();\n    }\n\n    return new DateRange({\n      start: RoughDate.min(this.getEarliestStart(), other.getEarliestStart()),\n      end: RoughDate.max(this.getLatestEnd(), other.getLatestEnd()),\n    });\n  }\n\n  hasBounds() {\n    return this.hasStart() && this.hasEnd();\n  }\n\n  hasEnd() {\n    if (this.state.end) {\n      return !this.state.end.isNull();\n    } else {\n      return false;\n    }\n  }\n\n  hasStart() {\n    if (this.state.start) {\n      return !this.state.start.isNull();\n    } else {\n      return false;\n    }\n  }\n\n  isInstant() {\n    return this.hasStart() && this.state.start === this.state.end;\n  }\n\n  // Returns a DateRange object\n  toDate() {\n    if (this.hasStart()) {\n      if (this.hasEnd()) {\n        return this.getStart().merge(this.getEnd());\n      } else {\n        return this.getStart();\n      }\n    } else {\n      return this.getEnd();\n    }\n  }\n\n  contains(date) {\n    date = _clean(date);\n\n    if (!date) {\n      return true;\n    } else if (date._isADateRangeObject) {\n      const my_start = this.getEarliestStart();\n      const other_start = date.getEarliestStart();\n\n      if (my_start && other_start) {\n        if (RoughDate.gt(my_start, other_start)) {\n          return false;\n        }\n      } else if (other_start) {\n        return false;\n      }\n\n      const my_end = this.getLatestEnd();\n      const other_end = date.getLatestEnd();\n\n      if (my_end && other_end) {\n        if (RoughDate.lt(my_end, other_end)) {\n          return false;\n        }\n      } else if (my_end) {\n        return false;\n      }\n\n      return true;\n    } else {\n      throw new ValueError(`Invalid Date ${date}`);\n    }\n  }\n\n  intersect(other) {\n    other = _clean(other);\n\n    if (!other) {\n      return this;\n    }\n\n    if (!other.hasBounds()) {\n      return this;\n    } else if (!this.hasBounds()) {\n      return other;\n    }\n\n    const start = RoughDate.max(this.getStart(), other.getStart());\n\n    if (!this.contains(start)) {\n      return null;\n    }\n\n    const end = RoughDate.min(this.getEnd(), other.getEnd());\n\n    if (!this.contains(end)) {\n      return null;\n    }\n\n    if (RoughDate.eq(start, end)) {\n      return new DateRange({ both: start });\n    } else {\n      return new DateRange({ start: start, end: end });\n    }\n  }\n\n  union(other) {\n    other = _clean(other);\n    if (!other) {\n      return this;\n    } else if (!other._isADateRangeObject) {\n      other = new DateRange({ value: other });\n    }\n\n    const start = RoughDate.min(this.getStart(), other.getStart());\n    const end = RoughDate.max(this.getEnd(), other.getEnd());\n\n    if (RoughDate.eq(start, end)) {\n      return new DateRange({ both: start });\n    } else {\n      return new DateRange({ start: start, end: end });\n    }\n  }\n\n  getDelta() {\n    if (this.hasStart() && this.hasEnd()) {\n      try {\n        return this.getLatestEnd().toDate() - this.getEarliestStart().toDate();\n      } catch (error) {\n        console.log(error);\n        console.log(this.hasStart(), this.hasEnd());\n        console.log(this.getStart(), this.getEnd());\n        console.log(this.getLatestEnd(), this.getEarliestStart());\n        throw error;\n      }\n    } else {\n      return null;\n    }\n  }\n\n  zoomIn(scale = 1) {\n    let state = lodash.cloneDeep(this.state);\n\n    let delta = null;\n\n    if (state.start !== null && state.end !== null) {\n      delta = this.getDelta() / (2.0 + scale);\n    } else {\n      delta = 3600000;\n    }\n\n    if (state.start) {\n      state.start.add(delta, \"ms\");\n    }\n\n    if (state.end) {\n      state.end.add(-delta, \"ms\");\n    }\n\n    return new DateRange(state);\n  }\n\n  zoomOut(scale = 1) {\n    let state = lodash.cloneDeep(this.state);\n\n    let delta = null;\n\n    if (state.start !== null && state.end !== null) {\n      delta = this.getDelta() * scale;\n    } else {\n      delta = 3600000;\n    }\n\n    if (state.start) {\n      state.start.add(-delta, \"ms\");\n    }\n\n    if (state.end) {\n      state.end.add(delta, \"ms\");\n    }\n\n    return new DateRange(state);\n  }\n\n  shiftEarlier(delta = null) {\n    let state = lodash.cloneDeep(this.state);\n\n    if (delta === null) {\n      if (state.start !== null && state.end !== null) {\n        delta = -this.getDelta(); //milliseconds\n      } else {\n        delta = -3600000; //milliseconds\n      }\n    }\n\n    if (state.start) {\n      state.start.add(delta, \"ms\");\n    }\n\n    if (state.end) {\n      state.end.add(delta, \"ms\");\n    }\n\n    return new DateRange(state);\n  }\n\n  shiftLater(delta = null) {\n    let state = lodash.cloneDeep(this.state);\n\n    if (delta === null) {\n      if (state.start !== null && state.end !== null) {\n        delta = this.getDelta(); //milliseconds\n      } else {\n        delta = 3600000; //milliseconds\n      }\n    }\n\n    if (state.start) {\n      state.start.add(delta, \"ms\");\n    }\n\n    if (state.end) {\n      state.end.add(delta, \"ms\");\n    }\n\n    return new DateRange(state);\n  }\n\n  getStart() {\n    return this.state.start;\n  }\n\n  getEnd() {\n    return this.state.end;\n  }\n\n  getEarliestStart() {\n    if (this.hasStart()) {\n      return this.getStart().getEarliest();\n    } else {\n      return null;\n    }\n  }\n\n  getLatestEnd() {\n    if (this.hasEnd()) {\n      return this.getEnd().getLatest();\n    } else {\n      return null;\n    }\n  }\n\n  getStartDate() {\n    let e = this.getEarliestStart();\n    if (e) {\n      return e.toDate();\n    } else {\n      return null;\n    }\n  }\n\n  getEndDate() {\n    let e = this.getLatestEnd();\n    if (e) {\n      return e.toDate();\n    } else {\n      return null;\n    }\n  }\n\n  getStartString() {\n    if (this.state.start) {\n      return this.state.start.toString();\n    } else {\n      return \"unbounded\";\n    }\n  }\n\n  getEndString() {\n    if (this.state.end) {\n      return this.state.end.toString();\n    } else {\n      return \"unbounded\";\n    }\n  }\n\n  setState(state) {\n    if (state) {\n      if (state === \"null\" || state === null) {\n        this.state = { start: null, end: null };\n        return;\n      } else if (state._isADateRangeObject) {\n        this.state = { ...state.state };\n      } else if (state._isARoughDateObject) {\n        this.state = { start: state, end: state };\n      } else if (Object.prototype.hasOwnProperty.call(state, \"value\")) {\n        this.setState(state.value);\n        return;\n      } else if (Object.prototype.hasOwnProperty.call(state, \"both\")) {\n        this.state.start = new RoughDate(state.both);\n        this.state.end = this.state.start;\n      } else if (typeof state === \"string\") {\n        this.state.start = new RoughDate(state);\n        this.state.end = this.state.start;\n      } else {\n        let start = null;\n\n        if (state.start) {\n          start = new RoughDate(state.start);\n\n          if (start.isNull()) {\n            start = null;\n          }\n        }\n\n        let end = null;\n\n        if (state.end) {\n          end = new RoughDate(state.end);\n\n          if (end.isNull()) {\n            end = null;\n          }\n        }\n\n        if (start && end) {\n          if (RoughDate.gt(start, end)) {\n            let tmp = start;\n            start = end;\n            end = tmp;\n          }\n\n          if (RoughDate.gt(start, end)) {\n            let tmp = RoughDate.min(start, end);\n            end = RoughDate.max(start, end);\n            start = tmp;\n          }\n        }\n\n        this.state.start = start;\n        this.state.end = end;\n      }\n    } else {\n      this.state.start = null;\n      this.state.end = null;\n    }\n  }\n\n  toDry() {\n    return this.state;\n  }\n}\n\nDateRange.unDry = function (value) {\n  return new DateRange(value);\n};\n\nDry.registerClass(\"DateRange\", DateRange);\n\nexport default DateRange;\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\n\nimport DateRangeButton from \"./DateRangeButton\";\nimport DateRange from \"../model/DateRange\";\nimport DefaultButton from \"./DefaultButton\";\n\nimport { ResponsiveList, ResponsiveListItem } from \"./ResponsiveList\";\n\nimport styles from \"./SourceList.module.css\";\n\nfunction _null_function() {}\n\nfunction SourceList(props) {\n  let social = props.social;\n  let sources = props.sources;\n  let emitSelected = props.emitSelected;\n  let title = props.title;\n\n  if (!social || !sources) {\n    return null;\n  }\n\n  if (!emitSelected) {\n    emitSelected = _null_function;\n  }\n\n  let output = Object.keys(sources).map((key) => {\n    let source = social.get(key);\n    let daterange = DateRange.mergeAll(sources[key]);\n\n    if (daterange) {\n      return (\n        <ResponsiveListItem key={source.getName()}>\n          <DefaultButton\n            onClick={() => {\n              emitSelected(source);\n            }}\n            style={{ width: \"50%\" }}\n          >\n            {source.getName()}\n          </DefaultButton>\n          <DateRangeButton style={{ width: \"40%\" }} value={daterange} emitSelected={emitSelected} />\n        </ResponsiveListItem>\n      );\n    } else {\n      return (\n        <ResponsiveListItem key={source.getName()}>\n          <DefaultButton\n            onClick={() => {\n              emitSelected(source);\n            }}\n          >\n            {source.getName()}\n          </DefaultButton>\n        </ResponsiveListItem>\n      );\n    }\n  });\n\n  if (!output || output.length === 0) {\n    return null;\n  }\n\n  if (title) {\n    return (\n      <div className={styles.container}>\n        <div className={styles.title}>{title}</div>\n        <div className={styles.body}>\n          <ResponsiveList>{output}</ResponsiveList>\n        </div>\n      </div>\n    );\n  } else {\n    return <ResponsiveList>{output}</ResponsiveList>;\n  }\n}\n\nSourceList.propTypes = {\n  emitSelected: PropTypes.func.isRequired,\n  social: PropTypes.func.isRequired,\n  sources: PropTypes.object.isRequired,\n  title: PropTypes.string,\n};\n\nexport default SourceList;\n","import React from \"react\";\n\nimport DefaultButton from \"./DefaultButton\";\nimport CheckBox from \"./CheckBox\";\n\nimport styles from \"./WeightsList.module.css\";\n\nfunction null_function() {}\n\nfunction WeightsList({\n  weights,\n  title = null,\n  emitSelected = null_function,\n  emitToggleFilter = null_function,\n  social = null,\n  type = null,\n}) {\n  if (!weights) {\n    return null;\n  }\n\n  let projects = [];\n\n  Object.keys(weights).forEach((key) => {\n    let project = social.get(key);\n    let is_filtered = social.isFiltered(project);\n\n    let weight = weights[key];\n\n    projects.push(\n      <div className={styles.project} key={project.getName()}>\n        <div className={styles.projectHeader}>\n          <DefaultButton\n            style={{ width: \"75%\" }}\n            onClick={() => {\n              emitSelected(project);\n            }}\n          >\n            {project.getName()}\n          </DefaultButton>\n          <CheckBox\n            onChange={() => {\n              emitToggleFilter(project);\n            }}\n            style={{ width: \"20%\" }}\n            checked={is_filtered}\n          />\n        </div>\n        <div className={styles.projectBody}>\n          Weight = {weight}, Type = {type}\n        </div>\n      </div>\n    );\n  });\n\n  if (title) {\n    return (\n      <div>\n        <div className={styles.title}>{title}</div>\n        {projects}\n      </div>\n    );\n  } else {\n    return projects;\n  }\n}\n\nexport default WeightsList;\n","import Dry from \"json-dry\";\nimport lodash from \"lodash\";\n\nimport DateRange from \"./DateRange\";\n\nimport fixedNodes from \"../data/fixedNodes.json\";\n\nimport { ValueError } from \"./Errors\";\n\nfunction setState(val, def = null) {\n  if (val) {\n    return val;\n  } else {\n    return def;\n  }\n}\n\nfunction _filterWindow(values, window) {\n  if (!values) {\n    return values;\n  }\n\n  let ret = null;\n\n  Object.keys(values).forEach((key) => {\n    let dates = values[key];\n\n    let intersect = window.intersect(dates);\n\n    if (!intersect) {\n      if (!ret) {\n        ret = { ...values };\n      }\n      delete ret[key];\n    }\n  });\n\n  if (ret) {\n    return ret;\n  } else {\n    return values;\n  }\n}\n\nfunction _filterProject(values, project) {\n  if (!values) {\n    return values;\n  }\n\n  let ret = null;\n\n  Object.keys(values).forEach((key) => {\n    if (!(key in project)) {\n      if (!ret) {\n        ret = { ...values };\n      }\n      delete ret[key];\n    }\n  });\n\n  if (ret) {\n    return ret;\n  } else {\n    return values;\n  }\n}\n\nclass Person {\n  constructor(props) {\n    this.state = {\n      name: null,\n      titles: [],\n      firstnames: [],\n      surnames: [],\n      suffixes: [],\n      id: null,\n      positions: {},\n      affiliations: {},\n      projects: {},\n      sources: {},\n      alive: null,\n      gender: null,\n      notes: [],\n      orig_name: null,\n      weight: {},\n      edge_count: {},\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n    this._isAPersonObject = true;\n  }\n\n  static clone(item) {\n    let c = new Person();\n    c._getHook = item._getHook;\n    c.state = lodash.cloneDeep(item.state);\n    return c;\n  }\n\n  isNode() {\n    return true;\n  }\n\n  inGroup(group) {\n    if (group.getID) {\n      let ids = {};\n      ids[group.getID()] = 1;\n      group = ids;\n    }\n\n    let seen = {};\n\n    Object.keys(this.state.affiliations).forEach((key) => {\n      for (let index in this.state.affiliations[key]) {\n        if (this.state.affiliations[key][index] in group) {\n          seen[this.state.affiliations[key][index]] = 1;\n        }\n      }\n    });\n\n    Object.keys(this.state.positions).forEach((key) => {\n      for (let index in this.state.positions[key]) {\n        if (this.state.positions[key][index] in group) {\n          seen[this.state.positions[key][index]] = 1;\n        }\n      }\n    });\n\n    return Object.keys(seen).length === Object.keys(group).length;\n  }\n\n  getID() {\n    return this.state.id;\n  }\n\n  filterSource(source) {\n    if (source.getID) {\n      let id = source.getID();\n      source = {};\n      source[id] = 1;\n    }\n\n    let nsources = Object.keys(source).length;\n\n    let seen = {};\n\n    Object.keys(this.state.sources).forEach((key) => {\n      let s = this.state.sources[key];\n\n      Object.keys(source).forEach((source_id) => {\n        if (s.includes(source_id)) {\n          seen[source_id] = 1;\n        }\n      });\n    });\n\n    if (Object.keys(seen).length !== nsources) {\n      return null;\n    } else {\n      return this;\n    }\n  }\n\n  filterProject(project) {\n    if (project.getID) {\n      let id = project.getID();\n      project = {};\n      project[id] = 1;\n    }\n\n    let nprojects = Object.keys(project).length;\n\n    let seen = {};\n\n    Object.keys(this.state.projects).forEach((key) => {\n      if (key in project) {\n        seen[key] = 1;\n      }\n    });\n\n    if (Object.keys(seen).length !== nprojects) {\n      return null;\n    }\n\n    let affiliations = _filterProject(this.state.affiliations, project);\n    let positions = _filterProject(this.state.positions, project);\n\n    if (affiliations !== this.state.affiliations || positions !== this.state.positions) {\n      let person = new Person();\n      person.state = { ...this.state };\n      person.state.affiliations = affiliations;\n      person.state.positions = positions;\n      person._getHook = this._getHook;\n      return person;\n    } else {\n      return this;\n    }\n  }\n\n  filterWindow(window) {\n    if (!window) {\n      return this;\n    } else if (!window._isADateRangeObject) {\n      window = new DateRange(window);\n    }\n\n    window = window.intersect(this.getAlive());\n\n    if (!window) {\n      return null;\n    }\n\n    let affiliations = _filterWindow(this.state.affiliations, window);\n    let positions = _filterWindow(this.state.positions, window);\n\n    if (affiliations !== this.state.affiliations || positions !== this.state.positions) {\n      let person = new Person();\n      person.state = { ...this.state };\n      person.state.affiliations = affiliations;\n      person.state.positions = positions;\n      person._getHook = this._getHook;\n      return person;\n    } else {\n      return this;\n    }\n  }\n\n  setState(state) {\n    if (state) {\n      this.state.titles = setState(state.titles, []);\n      this.state.firstnames = setState(state.firstnames, []);\n      this.state.surnames = setState(state.surnames, []);\n      this.state.suffixes = setState(state.suffixes, []);\n      this.state.id = setState(state.id);\n      this.state.positions = setState(state.positions, {});\n      this.state.affiliations = setState(state.affiliations, {});\n      this.state.projects = setState(state.projects, {});\n      this.state.sources = setState(state.sources, {});\n      this.state.alive = setState(state.alive);\n      this.state.gender = setState(state.gender);\n      this.state.orig_name = setState(state.orig_name);\n      this.state.notes = setState(state.notes, []);\n      this.state.weight = setState(state.weight);\n      this.state.edge_count = setState(state.edge_count);\n\n      if (!this.state.orig_name || this.state.orig_name === \"None\") {\n        throw new ValueError(`No name for ${this}`);\n      }\n    }\n  }\n\n  _updateHooks(hook) {\n    this._getHook = hook;\n  }\n\n  merge() {\n    return this;\n  }\n\n  toString() {\n    return `Person(${this.getName()})`;\n  }\n\n  getAlive() {\n    return this.state.alive;\n  }\n\n  getFirstName() {\n    if (this.state.firstnames) {\n      return this.state.firstnames.join(\" \");\n    } else {\n      return null;\n    }\n  }\n\n  getTitle() {\n    if (this.state.titles) {\n      return this.state.titles.join(\" \");\n    } else {\n      return null;\n    }\n  }\n\n  getSurname() {\n    if (this.state.surnames) {\n      return this.state.surnames.join(\" \");\n    } else {\n      return null;\n    }\n  }\n\n  getSuffix() {\n    if (this.state.suffixes) {\n      return this.state.suffixes.join(\" \");\n    } else {\n      return null;\n    }\n  }\n\n  getName() {\n    var parts = [];\n\n    let part = this.getTitle();\n    if (part) {\n      parts.push(part);\n    }\n\n    part = this.getFirstName();\n    if (part) {\n      parts.push(part);\n    }\n\n    part = this.getSurname();\n    if (part) {\n      parts.push(part);\n    }\n\n    part = this.getSuffix();\n    if (part) {\n      parts.push(part);\n    }\n\n    if (parts.length > 0) {\n      return parts.join(\" \");\n    } else {\n      return \"null\";\n    }\n  }\n\n  getAffiliations() {\n    return this.state.affiliations;\n  }\n\n  getSources() {\n    return this.state.sources;\n  }\n\n  getPositions() {\n    // Returns the positions object for each project\n    return this.state.positions;\n  }\n\n  getPosition(projectID) {\n    // Return the position for the associated projectID\n    // Returns an array of position IDs\n    return this.state.positions[projectID];\n  }\n\n  getScores() {\n    return this.state.scores;\n  }\n\n  getBorn() {\n    if (this.state.alive) {\n      return this.state.alive.getStart();\n    } else {\n      return null;\n    }\n  }\n\n  getDied() {\n    if (this.state.alive) {\n      return this.state.alive.getEnd();\n    } else {\n      return null;\n    }\n  }\n\n  getTimeLine() {\n    const alive = this.getAlive();\n\n    if (!alive) {\n      return null;\n    } else {\n      return {\n        start: alive.getStart(),\n        end: alive.getEnd(),\n        id: this.getID(),\n        content: this.getName(),\n      };\n    }\n  }\n\n  getWeight() {\n    return this.state.weight;\n  }\n\n  getEdgeCount() {\n    return this.state.edge_count;\n  }\n\n  getProjectWeight(projectKey) {\n    const weight = this.state.weight[projectKey];\n\n    if (!weight) {\n      console.error(\"No weight for \" + this.getName() + this.getID() + \" for project with key \" + projectKey);\n      return 1;\n    }\n\n    return weight;\n  }\n\n  getNode(isAnchor = false) {\n    let node = {\n      id: this.getID(),\n      label: this.getName(),\n      title: this.getName(),\n      fixed: false,\n      shape: \"circle\",\n    };\n\n    const name = this.getName();\n\n    node[\"weight\"] = this.getWeight();\n    node[\"type\"] = \"person\";\n\n    // Position will be used to set the colour used\n    // for the node representing this person\n    node[\"positions\"] = this.getPositions();\n    node[\"edge_count\"] = this.getEdgeCount();\n\n    let keys = Object.keys(this.state.projects);\n\n    if (keys.length > 0) {\n      node[\"group\"] = keys.sort().join(\":\");\n    } else {\n      node[\"group\"] = \"unknown\";\n    }\n\n    if (isAnchor) {\n      node[\"shape\"] = \"rect\";\n      node[\"fixed\"] = true;\n      node[\"group\"] = \"anchor\";\n    }\n\n    if (name in fixedNodes) {\n      node[\"fixed\"] = true;\n      node[\"fixedLocation\"] = fixedNodes[name];\n    }\n\n    return node;\n  }\n\n  toDry() {\n    return { value: this.state };\n  }\n}\n\nPerson.unDry = function (value) {\n  return new Person(value);\n};\n\nDry.registerClass(\"Person\", Person);\n\nexport default Person;\n","import Dry from \"json-dry\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport lodash from \"lodash\";\n\nimport Person from \"./Person\";\nimport { KeyError, MissingError } from \"./Errors\";\n\nfunction _generate_person_uid() {\n  let uid = uuidv4();\n  return \"P\" + uid.substring(uid.length - 7);\n}\n\nclass People {\n  constructor(props) {\n    this.state = {\n      registry: {},\n    };\n\n    this._names = {};\n    this._isAPeopleObject = true;\n    this.load(props);\n  }\n\n  _updateHooks(hook) {\n    this._getHook = hook;\n    for (let key in this.state.registry) {\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  static clone(item) {\n    let c = new People();\n    c.state = lodash.cloneDeep(item.state);\n    c._names = lodash.cloneDeep(item._names);\n    c._getHook = item._getHook;\n    return c;\n  }\n\n  values() {\n    let names = Object.keys(this._names);\n    names.sort();\n\n    let output = [];\n\n    names.forEach((key) => {\n      output.push(this.get(this._names[key]));\n    });\n\n    return output;\n  }\n\n  canAdd(item) {\n    return item instanceof Person || item._isAPersonObject;\n  }\n\n  add(person) {\n    if (!this.canAdd(person)) {\n      return null;\n    }\n\n    let existing = null;\n\n    try {\n      existing = this.getByName(person.getName());\n    } catch (error) {\n      console.error(error);\n    }\n\n    if (existing) {\n      existing = existing.merge(person);\n      this.state.registry[existing.getID()] = existing;\n      return existing;\n    }\n\n    person = Person.clone(person);\n\n    let id = person.getID();\n\n    if (id) {\n      if (id in this.state.registry) {\n        throw new KeyError(`Duplicate Person ID ${person}`);\n      }\n\n      person._updateHooks(this._getHook);\n      this.state.registry[id] = person;\n    } else {\n      let uid = _generate_person_uid();\n\n      while (uid in this.state.registry) {\n        uid = _generate_person_uid();\n      }\n\n      person.state.id = uid;\n    }\n\n    person._updateHooks(this._getHook);\n    this._names[person.getName()] = person.getID();\n    this.state.registry[person.getID()] = person;\n\n    return person;\n  }\n\n  getByName(name) {\n    let id = this._names[name];\n\n    if (id) {\n      return this.get(id);\n    } else {\n      throw new MissingError(`No Person with name ${name}`);\n    }\n  }\n\n  find(name) {\n    if (name instanceof Person || name._isAPersonObject) {\n      return this.get(name.getID());\n    }\n\n    name = name.trim().toLowerCase();\n\n    let results = [];\n\n    Object.keys(this._names).forEach((key) => {\n      if (key.toLowerCase().indexOf(name) !== -1) {\n        results.push(this.get(this._names[key]));\n      }\n    });\n\n    if (results.length === 1) {\n      return results[0];\n    } else if (results.length > 1) {\n      return results;\n    }\n\n    let keys = Object.keys(this._names).join(\"', '\");\n\n    throw new MissingError(`No Person matches '${name}. Available People are '${keys}'`);\n  }\n\n  filter(funcs = []) {\n    if (funcs.length === 0) {\n      return this;\n    }\n\n    let registry = {};\n    let names = {};\n\n    Object.keys(this.state.registry).forEach((key) => {\n      let person = this.state.registry[key];\n\n      if (person) {\n        for (let i = 0; i < funcs.length; ++i) {\n          person = funcs[i](person);\n          if (!person) {\n            break;\n          }\n        }\n\n        if (person) {\n          registry[key] = person;\n          names[person.getName()] = key;\n        }\n      }\n    });\n\n    let people = new People();\n    people.state.registry = registry;\n    people._names = names;\n    people._updateHooks(this._getHook);\n\n    return people;\n  }\n\n  getTimeLine() {\n    let items = [];\n\n    Object.keys(this.state.registry).forEach((key) => {\n      let person = this.state.registry[key];\n      if (person) {\n        let timeline = person.getTimeLine();\n        if (timeline) {\n          items.push(timeline);\n        }\n      }\n    });\n\n    return items;\n  }\n\n  getNodes({ anchor = null } = {}) {\n    let nodes = [];\n\n    if (anchor.getID) {\n      anchor = anchor.getID();\n    }\n\n    Object.keys(this.state.registry).forEach((key) => {\n      let person = this.state.registry[key];\n\n      if (person) {\n        let node = null;\n        if (key === anchor) {\n          node = person.getNode({ is_anchor: true });\n        } else {\n          node = person.getNode();\n        }\n\n        if (node) {\n          nodes.push(node);\n        }\n      }\n    });\n\n    return nodes;\n  }\n\n  getRegistry() {\n    // Returns the registry of people\n    // key: value - uid: person\n    return this.state.registry;\n  }\n\n  get(id) {\n    let person = this.state.registry[id];\n\n    if (!person) {\n      throw new MissingError(`No Person with ID ${id}`);\n    }\n\n    return person;\n  }\n\n  load(data) {\n    if (data) {\n      if (data.array) {\n        data = data.array;\n      }\n      data.forEach((element) => {\n        let person = Person.load(element);\n        this.add(person);\n      });\n    }\n  }\n\n  toDry() {\n    return { value: this.state };\n  }\n}\n\nPeople.unDry = function (value) {\n  let people = new People();\n  people.state = value;\n  people._names = {};\n\n  Object.keys(value.registry).forEach((key) => {\n    let v = value.registry[key];\n    people._names[v.getName()] = key;\n  });\n\n  return people;\n};\n\nDry.registerClass(\"People\", People);\n\nexport default People;\n","import Dry from \"json-dry\";\nimport lodash from \"lodash\";\n\nimport DateRange from \"./DateRange\";\n\nimport fixedNodes from \"../data/fixedNodes.json\";\n\nimport { ValueError } from \"./Errors\";\n\nfunction setState(val, def = null) {\n  if (val) {\n    return val;\n  } else {\n    return def;\n  }\n}\n\nfunction _filterWindow(values, window) {\n  if (!values) {\n    return values;\n  }\n\n  let ret = null;\n\n  Object.keys(values).forEach((key) => {\n    let dates = values[key];\n\n    let intersect = window.intersect(dates);\n\n    if (!intersect) {\n      if (!ret) {\n        ret = { ...values };\n      }\n      delete ret[key];\n    }\n  });\n\n  if (ret) {\n    return ret;\n  } else {\n    return values;\n  }\n}\n\nfunction _filterProject(values, project) {\n  if (!values) {\n    return values;\n  }\n\n  let ret = null;\n\n  Object.keys(values).forEach((key) => {\n    if (!(key in project)) {\n      if (!ret) {\n        ret = { ...values };\n      }\n      delete ret[key];\n    }\n  });\n\n  if (ret) {\n    return ret;\n  } else {\n    return values;\n  }\n}\n\nclass Business {\n  constructor(props) {\n    this.state = {\n      name: null,\n      id: null,\n      projects: {},\n      sources: {},\n      positions: {},\n      scores: {},\n      affiliations: {},\n      notes: [],\n      weight: {},\n      edge_count: {},\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n    this._isABusinessObject = true;\n  }\n\n  static clone(item) {\n    let c = new Business();\n    c._getHook = item._getHook;\n    c.state = lodash.cloneDeep(item.state);\n    return c;\n  }\n\n  isNode() {\n    return true;\n  }\n\n  inGroup(group) {\n    if (group.getID) {\n      let ids = {};\n      ids[group.getID()] = 1;\n      group = ids;\n    }\n\n    let seen = {};\n\n    Object.keys(this.state.affiliations).forEach((key) => {\n      for (let index in this.state.affiliations[key]) {\n        if (this.state.affiliations[key][index] in group) {\n          seen[this.state.affiliations[key][index]] = 1;\n        }\n      }\n    });\n\n    Object.keys(this.state.positions).forEach((key) => {\n      for (let index in this.state.positions[key]) {\n        if (this.state.positions[key][index] in group) {\n          seen[this.state.positions[key][index]] = 1;\n        }\n      }\n    });\n\n    return Object.keys(seen).length === Object.keys(group).length;\n  }\n\n  getID() {\n    return this.state.id;\n  }\n\n  filterSource(source) {\n    if (source.getID) {\n      let id = source.getID();\n      source = {};\n      source[id] = 1;\n    }\n\n    let nsources = Object.keys(source).length;\n\n    let seen = {};\n\n    Object.keys(this.state.sources).forEach((key) => {\n      let s = this.state.sources[key];\n\n      Object.keys(source).forEach((source_id) => {\n        if (s.includes(source_id)) {\n          seen[source_id] = 1;\n        }\n      });\n    });\n\n    if (Object.keys(seen).length !== nsources) {\n      return null;\n    } else {\n      return this;\n    }\n  }\n\n  filterProject(project) {\n    if (project.getID) {\n      let id = project.getID();\n      project = {};\n      project[id] = 1;\n    }\n\n    let nprojects = Object.keys(project).length;\n\n    let seen = {};\n\n    Object.keys(this.state.projects).forEach((key) => {\n      if (key in project) {\n        seen[key] = 1;\n      }\n    });\n\n    if (Object.keys(seen).length !== nprojects) {\n      return null;\n    }\n\n    let affiliations = _filterProject(this.state.affiliations, project);\n    let positions = _filterProject(this.state.positions, project);\n\n    if (affiliations !== this.state.affiliations || positions !== this.state.positions) {\n      let business = new Business();\n      business.state = { ...this.state };\n      business.state.affiliations = affiliations;\n      business.state.positions = positions;\n      business._getHook = this._getHook;\n      return business;\n    } else {\n      return this;\n    }\n  }\n\n  filterWindow(window) {\n    if (!window) {\n      return this;\n    } else if (!window._isADateRangeObject) {\n      window = new DateRange(window);\n    }\n\n    let affiliations = _filterWindow(this.state.affiliations, window);\n    let positions = _filterProject(this.state.positions, window);\n\n    if (affiliations !== this.state.affiliations || positions !== this.state.positions) {\n      let business = new Business();\n      business.state = { ...this.state };\n      business.state.affiliations = affiliations;\n      business.state.positions = positions;\n      business._getHook = this._getHook;\n      return business;\n    } else {\n      return this;\n    }\n  }\n\n  setState(state) {\n    if (state) {\n      this.state.name = setState(state.name);\n      this.state.id = setState(state.id);\n      this.state.projects = setState(state.projects, {});\n      this.state.affiliations = setState(state.affiliations, {});\n      this.state.positions = setState(state.positions, {});\n      this.state.scores = setState(state.scores, {});\n      this.state.sources = setState(state.sources, {});\n      this.state.notes = setState(state.notes, []);\n      this.state.weight = setState(state.weight);\n      this.state.edge_count = setState(state.edge_count);\n\n      if (!this.state.name) {\n        throw new ValueError(\"You cannot have an Business without a name\");\n      }\n    }\n  }\n\n  _updateHooks(hook) {\n    this._getHook = hook;\n  }\n\n  merge() {\n    return this;\n  }\n\n  getWeight() {\n    return this.state.weight;\n  }\n\n  toString() {\n    return `Business(${this.getName()})`;\n  }\n\n  getName() {\n    return this.state.name;\n  }\n\n  getAffiliations() {\n    return this.state.affiliations;\n  }\n\n  getPosition(projectID) {\n    // Return the position for the associated projectID\n    // Returns an array of position IDs\n    return this.state.positions[projectID];\n  }\n\n  getPositions() {\n    // Return the position for the associated projectID\n    // Returns an array of position IDs\n    return this.state.positions;\n  }\n\n  getSources() {\n    return this.state.sources;\n  }\n\n  getScores() {\n    return this.state.scores;\n  }\n\n  getEdgeCount() {\n    return this.state.edge_count;\n  }\n\n  getNode(is_anchor = false) {\n    let node = { id: this.getID(), label: this.getName(), title: this.getName(), shape: \"circle\" };\n\n    const weight = this.getWeight();\n\n    node[\"size\"] = 0.5 * weight;\n    node[\"weight\"] = weight;\n    node[\"type\"] = \"business\";\n\n    node[\"edge_count\"] = this.getEdgeCount();\n\n    // Position will be used to set the colour used\n    // for the node representing this person\n    node[\"positions\"] = this.getPositions();\n\n    let keys = Object.keys(this.state.projects);\n\n    if (keys.length > 0) {\n      node[\"group\"] = keys.sort().join(\":\");\n    } else {\n      node[\"group\"] = \"unknown\";\n    }\n\n    if (is_anchor) {\n      node[\"shape\"] = \"rect\";\n      node[\"physics\"] = false;\n      node[\"group\"] = \"anchor\";\n      node[\"size\"] = 20.0;\n    }\n\n    if (this.getName() in fixedNodes) {\n      node[\"fixed\"] = true;\n    }\n    return node;\n  }\n\n  toDry() {\n    return { value: this.state };\n  }\n}\n\nBusiness.unDry = function (value) {\n  return new Business(value);\n};\n\nDry.registerClass(\"Business\", Business);\n\nexport default Business;\n","import Dry from \"json-dry\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport lodash from \"lodash\";\n\nimport Business from \"./Business\";\nimport { KeyError, MissingError } from \"./Errors\";\n\nfunction _generate_business_uid() {\n  let uid = uuidv4();\n  return \"B\" + uid.substring(uid.length - 7);\n}\n\nclass Businesses {\n  constructor(props) {\n    this.state = {\n      registry: {},\n    };\n\n    this._names = {};\n    this._isABusinessesObject = true;\n    this.load(props);\n  }\n\n  _updateHooks(hook) {\n    this._getHook = hook;\n    for (let key in this.state.registry) {\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  static clone(item) {\n    let c = new Businesses();\n    c.state = lodash.cloneDeep(item.state);\n    c._names = lodash.cloneDeep(item._names);\n    c._getHook = item._getHook;\n    return c;\n  }\n\n  values() {\n    let names = Object.keys(this._names);\n    names.sort();\n\n    let output = [];\n\n    names.forEach((key) => {\n      output.push(this.get(this._names[key]));\n    });\n\n    return output;\n  }\n\n  canAdd(item) {\n    return item instanceof Business || item._isABusinessObject;\n  }\n\n  add(business) {\n    if (!this.canAdd(business)) {\n      return null;\n    }\n\n    let existing = null;\n\n    try {\n      existing = this.getByName(business.getName());\n    } catch (error) {\n      console.error(error);\n    }\n\n    if (existing) {\n      existing = existing.merge(business);\n      this.state.registry[existing.getID()] = existing;\n      return existing;\n    }\n\n    business = Business.clone(business);\n\n    let id = business.getID();\n\n    if (id) {\n      if (id in this.state.registry) {\n        throw new KeyError(`Duplicate Business ID ${business}`);\n      }\n\n      business._updateHooks(this._getHook);\n      this.state.registry[id] = business;\n    } else {\n      let uid = _generate_business_uid();\n\n      while (uid in this.state.registry) {\n        uid = _generate_business_uid();\n      }\n\n      business.state.id = uid;\n    }\n\n    business._updateHooks(this._getHook);\n    this._names[business.getName()] = business.getID();\n    this.state.registry[business.getID()] = business;\n\n    return business;\n  }\n\n  getByName(name) {\n    let id = this._names[name];\n\n    if (id) {\n      return this.get(id);\n    } else {\n      throw new MissingError(`No Business with name ${name}`);\n    }\n  }\n\n  find(name) {\n    if (name instanceof Business || name._isABusinessObject) {\n      return this.get(name.getID());\n    }\n\n    name = name.trim().toLowerCase();\n\n    let results = [];\n\n    Object.keys(this._names).forEach((key) => {\n      if (key.toLowerCase().indexOf(name) !== -1) {\n        results.push(this.get(this._names[key]));\n      }\n    });\n\n    if (results.length === 1) {\n      return results[0];\n    } else if (results.length > 1) {\n      return results;\n    }\n\n    let keys = Object.keys(this._names).join(\"', '\");\n\n    throw new MissingError(`No Business matches '${name}. Available Businesses are '${keys}'`);\n  }\n\n  filter(funcs = []) {\n    if (funcs.length === 0) {\n      return this;\n    }\n\n    let registry = {};\n    let names = {};\n\n    Object.keys(this.state.registry).forEach((key) => {\n      let business = this.state.registry[key];\n\n      if (business) {\n        for (let i = 0; i < funcs.length; ++i) {\n          business = funcs[i](business);\n          if (!business) {\n            break;\n          }\n        }\n\n        if (business) {\n          registry[key] = business;\n          names[business.getName()] = key;\n        }\n      }\n    });\n\n    let businesses = new Businesses();\n    businesses.state.registry = registry;\n    businesses._names = names;\n    businesses._updateHooks(this._getHook);\n\n    return businesses;\n  }\n\n  getTimeLine() {\n    let items = [];\n\n    Object.keys(this.state.registry).forEach((key) => {\n      let business = this.state.registry[key];\n      if (business) {\n        let timeline = business.getTimeLine();\n        if (timeline) {\n          items.push(timeline);\n        }\n      }\n    });\n\n    return items;\n  }\n\n  getNodes({ anchor = null } = {}) {\n    let nodes = [];\n\n    Object.keys(this.state.registry).forEach((key) => {\n      let business = this.state.registry[key];\n\n      if (business) {\n        let node = null;\n        if (key === anchor) {\n          node = business.getNode({ is_anchor: true });\n        } else {\n          node = business.getNode();\n        }\n\n        if (node) {\n          nodes.push(node);\n        }\n      }\n    });\n\n    return nodes;\n  }\n\n  get(id) {\n    let business = this.state.registry[id];\n\n    if (!business) {\n      throw new MissingError(`No Business with ID ${id}`);\n    }\n\n    return business;\n  }\n\n  getRegistry() {\n    // Returns the registry of people\n    // key: value - uid: person\n    return this.state.registry;\n  }\n\n  load(data) {\n    if (data) {\n      if (data.array) {\n        data = data.array;\n      }\n      data.forEach((element) => {\n        let business = Business.load(element);\n        this.add(business);\n      });\n    }\n  }\n\n  toDry() {\n    return { value: this.state };\n  }\n}\n\nBusinesses.unDry = function (value) {\n  let businesses = new Businesses();\n  businesses.state = value;\n  businesses._names = {};\n\n  Object.keys(value.registry).forEach((key) => {\n    let v = value.registry[key];\n    businesses._names[v.getName()] = key;\n  });\n\n  return businesses;\n};\n\nDry.registerClass(\"Businesses\", Businesses);\n\nexport default Businesses;\n","import Dry from \"json-dry\";\nimport lodash from \"lodash\";\n\nimport DateRange from \"./DateRange\";\n\nimport { ValueError } from \"./Errors\";\n\nfunction setState(val, def = null) {\n  if (val) {\n    return val;\n  } else {\n    return def;\n  }\n}\n\nfunction _mergeSources(state, other, key) {\n  state = state[key];\n  other = other[key];\n\n  Object.keys(other).forEach((key) => {\n    if (!(key in state)) {\n      state[key] = other[key];\n    } else {\n      for (let item in other[key]) {\n        if (!(item in state[key])) {\n          state[key].push(item);\n        }\n      }\n    }\n  });\n}\n\nclass Connection {\n  constructor(props) {\n    this.state = {\n      id: null,\n      n0: null,\n      n1: null,\n      shared: null,\n      type: null,\n      duration: null,\n      affiliations: null,\n      correspondances: null,\n      projects: null,\n      notes: null,\n    };\n\n    this.setState(props);\n    this._getHook = null;\n    this._isAConnectionObject = true;\n  }\n\n  static clone(item) {\n    let c = new Connection();\n    c._getHook = item._getHook;\n    c.state = lodash.cloneDeep(item.state);\n    return c;\n  }\n\n  _updateHooks(hook) {\n    this._getHook = hook;\n  }\n\n  getID() {\n    return this.state.id;\n  }\n\n  getName() {\n    let n0 = this.state.n0;\n    let n1 = this.state.n1;\n\n    if (n0 <= n1) {\n      return `${n0}<=>${n1}`;\n    } else {\n      return `${n1}<=>${n0}`;\n    }\n  }\n\n  getNode0() {\n    if (this._getHook) {\n      return this._getHook(this.state.n0);\n    } else {\n      return this.state.n0;\n    }\n  }\n\n  getNode1() {\n    if (this._getHook) {\n      return this._getHook(this.state.n1);\n    } else {\n      return this.state.n1;\n    }\n  }\n\n  getNode0ID() {\n    return this.state.n0;\n  }\n\n  getNode1ID() {\n    return this.state.n1;\n  }\n\n  areNodesVisible(n) {\n    return n[this.state.n0] && n[this.state.n1];\n  }\n\n  getNode0Name() {\n    let node0 = this.getNode0();\n\n    try {\n      return node0.getName();\n    } catch (error) {\n      return node0;\n    }\n  }\n\n  getNode1Name() {\n    let node1 = this.getNode1();\n\n    try {\n      return node1.getName();\n    } catch (error) {\n      return node1;\n    }\n  }\n\n  getDuration() {\n    return this.state.duration;\n  }\n\n  getAffiliationSources() {\n    return this.state.affiliations;\n  }\n\n  getCorrespondanceSources() {\n    return this.state.correspondances;\n  }\n\n  filterSource(source) {\n    if (source.getID) {\n      let id = source.getID();\n      source = {};\n      source[id] = 1;\n    }\n\n    let nsources = Object.keys(source).length;\n\n    let seen = {};\n\n    Object.keys(source).forEach((key) => {\n      if (this.state.affiliations[key] || this.state.correspondances[key]) {\n        seen[key] = 1;\n      }\n    });\n\n    if (Object.keys(seen).length !== nsources) {\n      return null;\n    } else {\n      return this;\n    }\n  }\n\n  filterProject(project) {\n    // Filter this connection by project ID\n    if (project.getID) {\n      let id = project.getID();\n      project = {};\n      project[id] = 1;\n    }\n\n    let nProjects = Object.keys(project).length;\n\n    let seen = {};\n\n    Object.keys(this.state.projects).forEach((key) => {\n      if (key in project) {\n        seen[key] = 1;\n      }\n    });\n\n    if (Object.keys(seen).length !== nProjects) {\n      return null;\n    } else {\n      return this;\n    }\n  }\n\n  filterWindow(window) {\n    if (!window) {\n      return this;\n    } else if (!window._isADateRangeObject) {\n      window = new DateRange(window);\n    }\n\n    if (!window) {\n      return this;\n    }\n\n    let duration = this.getDuration();\n\n    if (!duration) {\n      return this;\n    }\n\n    let intersect = window.intersect(duration);\n\n    if (!intersect) {\n      return null;\n    } else {\n      return this;\n    }\n  }\n\n  setState(state) {\n    if (state) {\n      this.state.id = setState(state.id);\n      this.state.n0 = setState(state.n0);\n      this.state.n1 = setState(state.n1);\n      this.state.shared = setState(state.shared, []);\n      this.state.type = setState(state.type);\n      this.state.duration = setState(state.duration);\n      this.state.affiliations = setState(state.affiliations, {});\n      this.state.correspondances = setState(state.correspondances, {});\n      this.state.notes = setState(state.notes, []);\n      this.state.weights = setState(state.weights, {});\n      this.state.projects = setState(state.projects, {});\n\n      if (!this.state.n0 || !this.state.n1) {\n        throw new ValueError(`Invalid connection ${this}`);\n      }\n    }\n  }\n\n  merge(other) {\n    if (!this._getHook) {\n      if (other._getHook) {\n        return other.merge(this);\n      }\n    }\n\n    let state = lodash.cloneDeep(this.state);\n\n    Object.keys(other.state.shared).forEach((key) => {\n      if (!(key in state.shared)) {\n        state.shared[key] = other.state.shared[key];\n      }\n    });\n\n    Object.keys(other.state.notes).forEach((key) => {\n      if (!(key in state.notes)) {\n        state.notes[key] = other.state.notes[key];\n      }\n    });\n\n    _mergeSources(state, other.state, \"affiliations\");\n    _mergeSources(state, other.state, \"correspondances\");\n\n    state.duration = state.duration.merge(other.state.duration);\n\n    let c = new Connection();\n    c.state = state;\n    c._getHook = this._getHook;\n\n    return c;\n  }\n\n  toString() {\n    return `Connection(${this.getNode0Name()}<=>${this.getNode1Name()})`;\n  }\n\n  getColorFromType() {\n    switch (this.state.type) {\n      case \"direct\":\n        return \"rgb(180,150,150)\";\n      case \"indirect\":\n        return \"rgb(180,180,180)\";\n      default:\n        console.log(`Unknown type? ${this.state.type}`);\n        return \"red\";\n    }\n  }\n\n  getType() {\n    return this.state.type;\n  }\n\n  getWeights() {\n    return this.state.weights;\n  }\n\n  getWeight() {\n    let weight = 1.0;\n\n    Object.keys(this.state.weights).forEach((key) => {\n      weight += this.state.weights[key];\n    });\n\n    return weight;\n  }\n\n  getWeightFromType() {\n    let weight = this.getWeight();\n\n    switch (this.state.type) {\n      case \"direct\":\n        return 1.0 * weight;\n      case \"indirect\":\n        return 0.5 * weight;\n      default:\n        console.log(`Unknown type? ${this.state.type}`);\n        return 0.5 * weight;\n    }\n  }\n\n  toEdge() {\n    let color = this.getColorFromType();\n    // let weight = this.getWeightFromType();\n    let weight = this.getWeight();\n\n    let edge = {\n      id: this.getID(),\n      source: this.state.n0,\n      target: this.state.n1,\n      value: weight,\n      type: this.state.type,\n      color: color,\n    };\n\n    return edge;\n  }\n\n  toDry() {\n    return { value: this.state };\n  }\n}\n\nConnection.unDry = function (value) {\n  return new Connection(value);\n};\n\nConnection.load = function (data) {\n  return new Connection({ name: data.name });\n};\n\nDry.registerClass(\"Connection\", Connection);\n\nexport default Connection;\n","import Dry from \"json-dry\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport lodash from \"lodash\";\n\nimport Connection from \"./Connection\";\nimport { KeyError, MissingError } from \"./Errors\";\n\nfunction _generate_connection_uid() {\n  let uid = uuidv4();\n  return \"C\" + uid.substring(uid.length - 7);\n}\n\nclass Connections {\n  constructor() {\n    this.state = {\n      registry: {},\n    };\n\n    this._names = {};\n    this._isAConnectionsObject = true;\n  }\n\n  _updateHooks(hook) {\n    this._getHook = hook;\n    for (let key in this.state.registry) {\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  static clone(item) {\n    let c = new Connections();\n    c.state = lodash.cloneDeep(item.state);\n    c._names = lodash.cloneDeep(item._names);\n    c._getHook = item._getHook;\n    return c;\n  }\n\n  canAdd(item) {\n    return item instanceof Connection || item._isAConnectionObject;\n  }\n\n  add(connection) {\n    if (!this.canAdd(connection)) {\n      return null;\n    }\n\n    let existing = null;\n\n    try {\n      existing = this.getByName(connection.getName());\n    } catch (error) {\n      console.error(error);\n    }\n\n    if (existing) {\n      existing = existing.merge(connection);\n      this.state.registry[existing.getID()] = existing;\n      return existing;\n    }\n\n    connection = Connection.clone(connection);\n\n    let id = connection.getID();\n\n    if (id) {\n      if (id in this.state.registry) {\n        throw new KeyError(`Duplicate Connection ID ${connection}`);\n      }\n    } else {\n      let uid = _generate_connection_uid();\n\n      while (uid in this.state.registry) {\n        uid = _generate_connection_uid();\n      }\n\n      connection.state.id = uid;\n    }\n\n    connection._updateHooks(this._getHook);\n    this._names[connection.getName()] = connection.getID();\n    this.state.registry[connection.getID()] = connection;\n\n    return connection;\n  }\n\n  getByName(name) {\n    let id = this._names[name];\n\n    if (id) {\n      return this.get(id);\n    } else {\n      throw new MissingError(`No connection with name ${name}`);\n    }\n  }\n\n  find(name) {\n    if (name instanceof Connection || name._isAConnectionObject) {\n      return this.get(name.getID());\n    }\n\n    name = name.trim().toLowerCase();\n\n    let results = [];\n\n    Object.keys(this._names).forEach((key) => {\n      if (key.toLowerCase().indexOf(name) !== -1) {\n        results.push(this.get(this._names[key]));\n      }\n    });\n\n    if (results.length === 1) {\n      return results[0];\n    } else if (results.length > 1) {\n      return results;\n    } else {\n      return results;\n    }\n\n    // let keys = Object.keys(this._names).join(\"', '\");\n\n    // throw new TypeError(`No connection matches '${name}. Available Connections are '${keys}'`);\n  }\n\n  gotConnections(id) {\n    return !(this.find(id).length === 0);\n  }\n\n  get(id) {\n    let connection = this.state.registry[id];\n\n    if (!connection) {\n      throw new MissingError(`No Connection with ID ${id}`);\n    }\n\n    return connection;\n  }\n\n  filter(funcs = []) {\n    if (funcs.length === 0) {\n      return this;\n    }\n\n    let registry = {};\n    let names = {};\n\n    Object.keys(this.state.registry).forEach((key) => {\n      let connection = this.state.registry[key];\n\n      if (connection) {\n        for (let i = 0; i < funcs.length; ++i) {\n          connection = funcs[i](connection);\n          if (!connection) {\n            break;\n          }\n        }\n\n        if (connection) {\n          registry[key] = connection;\n          names[connection.getName()] = key;\n        }\n      }\n    });\n\n    let connections = new Connections();\n\n    connections.state.registry = registry;\n    connections._names = names;\n    connections._updateHooks(this._getHook);\n\n    return connections;\n  }\n\n  getConnectionsTo(item) {\n    if (item.getID) {\n      let id = item.getID();\n      item = {};\n      item[id] = 1;\n    }\n\n    let nnodes = Object.keys(item).length;\n\n    let seen = {};\n\n    function _add(id) {\n      if (!(id in seen)) {\n        seen[id] = 1;\n      } else {\n        seen[id] += 1;\n      }\n    }\n\n    for (let key in this.state.registry) {\n      let connection = this.state.registry[key];\n\n      if (connection.getNode0ID() in item) {\n        _add(connection.getNode1ID());\n      } else if (connection.getNode1ID() in item) {\n        _add(connection.getNode0ID());\n      }\n    }\n\n    let connections = [];\n\n    if (this._getHook) {\n      Object.keys(seen).forEach((key) => {\n        try {\n          if (seen[key] === nnodes) {\n            connections.push(this._getHook(key));\n          }\n        } catch (error) {\n          console.error(error);\n        }\n      });\n    } else {\n      connections = Object.keys(seen);\n    }\n\n    return connections;\n  }\n\n  getEdges(ids = null) {\n    let edges = [];\n\n    if (ids) {\n      Object.keys(this.state.registry).forEach((key) => {\n        let connection = this.state.registry[key];\n        if (connection.areNodesVisible(ids)) {\n          edges.push(connection.toEdge());\n        }\n      });\n    } else {\n      Object.keys(this.state.registry).forEach((key) => {\n        let connection = this.state.registry[key];\n        edges.push(connection.toEdge());\n      });\n    }\n\n    return edges;\n  }\n\n  toDry() {\n    return { value: this.state };\n  }\n}\n\nConnections.unDry = function (value) {\n  let connections = new Connections();\n  connections.state = value;\n  connections._names = {};\n\n  Object.keys(value.registry).forEach((key) => {\n    let v = value.registry[key];\n    connections._names[v.getName()] = key;\n  });\n\n  return connections;\n};\n\nDry.registerClass(\"Connections\", Connections);\n\nexport default Connections;\n","import Dry from \"json-dry\";\nimport lodash from \"lodash\";\n\nimport { ValueError } from \"./Errors\";\n\nfunction setState(val, def = null) {\n  if (val) {\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Position {\n  constructor(props) {\n    this.state = {\n      name: null,\n      id: null,\n      sources: [],\n      notes: [],\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n    this._isAPositionObject = true;\n  }\n\n  static clone(item) {\n    let c = new Position();\n    c._getHook = item._getHook;\n    c.state = lodash.cloneDeep(item.state);\n    return c;\n  }\n\n  getID() {\n    return this.state.id;\n  }\n\n  static makeCanonical(name) {\n    if (!name) {\n      return null;\n    } else {\n      return name.trim().toLowerCase();\n    }\n  }\n\n  setState(state) {\n    if (state) {\n      this.state.name = setState(state.name);\n      this.state.id = setState(state.id);\n      this.state.notes = setState(state.notes, []);\n      this.state.sources = setState(state.sources, []);\n\n      this.state.canonical = Position.makeCanonical(this.state.name);\n\n      if (!this.state.name){\n        throw new ValueError(\"You cannot have an Position without a name\");\n      }\n    }\n  }\n\n  _updateHooks(hook) {\n    this._getHook = hook;\n  }\n\n  merge() {\n    return this;\n  }\n\n  toString() {\n    return `Position(${this.getName()})`;\n  }\n\n  getName() {\n    return this.state.name;\n  }\n\n  toDry() {\n    return { value: this.state };\n  }\n}\n\nPosition.unDry = function (value) {\n  return new Position(value);\n};\n\nDry.registerClass(\"Position\", Position);\n\nexport default Position;\n","import Dry from \"json-dry\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport lodash from \"lodash\";\n\nimport Position from \"./Position\";\nimport { KeyError, MissingError } from \"./Errors\";\n\nfunction _generate_position_uid() {\n  let uid = uuidv4();\n  return \"Q\" + uid.substring(uid.length - 7);\n}\n\nclass Positions {\n  constructor() {\n    this.state = {\n      registry: {},\n    };\n\n    this._names = {};\n    this._isAPositionsObject = true;\n  }\n\n  _updateHooks(hook) {\n    this._getHook = hook;\n    for (let key in this.state.registry) {\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  static clone(item) {\n    let c = new Positions();\n    c.state = lodash.cloneDeep(item.state);\n    c._names = lodash.cloneDeep(item._names);\n    c._getHook = item._getHook;\n    return c;\n  }\n\n  values() {\n    let names = Object.keys(this._names);\n    names.sort();\n\n    let output = [];\n\n    names.forEach((key) => {\n      output.push(this.get(this._names[key]));\n    });\n\n    return output;\n  }\n\n  items() {\n    return this._names;\n  }\n\n  canAdd(item) {\n    return item instanceof Position || item._isAPositionObject;\n  }\n\n  add(position) {\n    if (!this.canAdd(position)) {\n      return null;\n    }\n\n    let existing = null;\n\n    try {\n      existing = this.getByName(position.getName());\n    } catch (error) {\n      console.error(error);\n    }\n\n    if (existing) {\n      existing = existing.merge(position);\n      this.state.registry[existing.getID()] = existing;\n      return existing;\n    }\n\n    position = Position.clone(position);\n\n    let id = position.getID();\n\n    if (id) {\n      if (id in this.state.registry) {\n        throw new KeyError(`Duplicate Position ID ${position}`);\n      }\n\n      position._updateHooks(this._getHook);\n      this.state.registry[id] = position;\n    } else {\n      let uid = _generate_position_uid();\n\n      while (uid in this.state.registry) {\n        uid = _generate_position_uid();\n      }\n\n      position.state.id = uid;\n    }\n\n    position._updateHooks(this._getHook);\n    this._names[position.getName()] = position.getID();\n    this.state.registry[position.getID()] = position;\n\n    return position;\n  }\n\n  getByName(name) {\n    let id = this._names[name];\n\n    if (id) {\n      return this.get(id);\n    } else {\n      throw new MissingError(`No position with name ${name}`);\n    }\n  }\n\n  getNameByID(id) {\n    return this.get(id).getName();\n  }\n\n  find(name) {\n    if (name instanceof Position || name._isApositionObject) {\n      return this.get(name.getID());\n    }\n\n    name = name.trim().toLowerCase();\n\n    let results = [];\n\n    Object.keys(this._names).forEach((key) => {\n      if (key.toLowerCase().indexOf(name) !== -1) {\n        results.push(this.get(this._names[key]));\n      }\n    });\n\n    if (results.length === 1) {\n      return results[0];\n    } else if (results.length > 1) {\n      return results;\n    }\n\n    let keys = Object.keys(this._names).join(\"', '\");\n\n    throw new MissingError(`No position matches '${name}. Available Positions are '${keys}'`);\n  }\n\n  get(id) {\n    let position = this.state.registry[id];\n\n    if (!position) {\n      throw new MissingError(`No Position with ID ${id}`);\n    }\n\n    return position;\n  }\n\n  toDry() {\n    return { value: this.state };\n  }\n}\n\nPositions.unDry = function (value) {\n  let positions = new Positions();\n  positions.state = value;\n  positions._names = {};\n\n  Object.keys(value.registry).forEach((key) => {\n    let v = value.registry[key];\n    positions._names[v.getName()] = key;\n  });\n\n  return positions;\n};\n\nDry.registerClass(\"Positions\", Positions);\n\nexport default Positions;\n","import Dry from \"json-dry\";\nimport lodash from \"lodash\";\n\nimport { ValueError } from \"./Errors\";\n\nfunction setState(val, def = null) {\n  if (val) {\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Affiliation {\n  constructor(props) {\n    this.state = {\n      name: null,\n      id: null,\n      sources: [],\n      notes: [],\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n    this._isAAffiliationObject = true;\n  }\n\n  static clone(item) {\n    let c = new Affiliation();\n    c._getHook = item._getHook;\n    c.state = lodash.cloneDeep(item.state);\n    return c;\n  }\n\n  getID() {\n    return this.state.id;\n  }\n\n  static makeCanonical(name) {\n    if (!name) {\n      return null;\n    } else {\n      return name.trim().toLowerCase();\n    }\n  }\n\n  setState(state) {\n    if (state) {\n      this.state.name = setState(state.name);\n      this.state.id = setState(state.id);\n      this.state.notes = setState(state.notes, []);\n      this.state.sources = setState(state.sources, []);\n\n      this.state.canonical = Affiliation.makeCanonical(this.state.name);\n\n      if (!this.state.name) {\n        throw new ValueError(\"You cannot have an Affiliation without a name\");\n      }\n    }\n  }\n\n  _updateHooks(hook) {\n    this._getHook = hook;\n  }\n\n  merge() {\n    return this;\n  }\n\n  toString() {\n    return `Affiliation(${this.getName()})`;\n  }\n\n  getName() {\n    return this.state.name;\n  }\n\n  toDry() {\n    return { value: this.state };\n  }\n}\n\nAffiliation.unDry = function (value) {\n  return new Affiliation(value);\n};\n\nDry.registerClass(\"Affiliation\", Affiliation);\n\nexport default Affiliation;\n","import Dry from \"json-dry\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport lodash from \"lodash\";\n\nimport Affiliation from \"./Affiliation\";\nimport { KeyError, MissingError } from \"./Errors\";\n\nfunction _generate_affiliation_uid() {\n  let uid = uuidv4();\n  return \"A\" + uid.substring(uid.length - 7);\n}\n\nclass Affiliations {\n  constructor() {\n    this.state = {\n      registry: {},\n    };\n\n    this._names = {};\n    this._isAAffiliationsObject = true;\n  }\n\n  _updateHooks(hook) {\n    this._getHook = hook;\n    for (let key in this.state.registry) {\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  static clone(item) {\n    let c = new Affiliations();\n    c.state = lodash.cloneDeep(item.state);\n    c._names = lodash.cloneDeep(item._names);\n    c._getHook = item._getHook;\n    return c;\n  }\n\n  values() {\n    let names = Object.keys(this._names);\n    names.sort();\n\n    let output = [];\n\n    names.forEach((key) => {\n      output.push(this.get(this._names[key]));\n    });\n\n    return output;\n  }\n\n  canAdd(item) {\n    return item instanceof Affiliation || item._isAAffiliationObject;\n  }\n\n  add(affiliation) {\n    if (!this.canAdd(affiliation)) {\n      return null;\n    }\n\n    let existing = null;\n\n    try {\n      existing = this.getByName(affiliation.getName());\n    } catch (error) {\n      console.error(error);\n    }\n\n    if (existing) {\n      existing = existing.merge(affiliation);\n      this.state.registry[existing.getID()] = existing;\n      return existing;\n    }\n\n    affiliation = Affiliation.clone(affiliation);\n\n    let id = affiliation.getID();\n\n    if (id) {\n      if (id in this.state.registry) {\n        throw new KeyError(`Duplicate Affiliation ID ${affiliation}`);\n      }\n\n      affiliation._updateHooks(this._getHook);\n      this.state.registry[id] = affiliation;\n    } else {\n      let uid = _generate_affiliation_uid();\n\n      while (uid in this.state.registry) {\n        uid = _generate_affiliation_uid();\n      }\n\n      affiliation.state.id = uid;\n    }\n\n    affiliation._updateHooks(this._getHook);\n    this._names[affiliation.getName()] = affiliation.getID();\n    this.state.registry[affiliation.getID()] = affiliation;\n\n    return affiliation;\n  }\n\n  getByName(name) {\n    let id = this._names[name];\n\n    if (id) {\n      return this.get(id);\n    } else {\n      throw new MissingError(`No affiliation with name ${name}`);\n    }\n  }\n\n  find(name) {\n    if (name instanceof Affiliation || name._isAAffiliationObject) {\n      return this.get(name.getID());\n    }\n\n    name = name.trim().toLowerCase();\n\n    let results = [];\n\n    Object.keys(this._names).forEach((key) => {\n      if (key.toLowerCase().indexOf(name) !== -1) {\n        results.push(this.get(this._names[key]));\n      }\n    });\n\n    if (results.length === 1) {\n      return results[0];\n    } else if (results.length > 1) {\n      return results;\n    }\n\n    let keys = Object.keys(this._names).join(\"', '\");\n\n    throw new MissingError(`No affiliation matches '${name}. Available Affiliations are '${keys}'`);\n  }\n\n  get(id) {\n    let affiliation = this.state.registry[id];\n\n    if (!affiliation) {\n      throw new MissingError(`No Affiliation with ID ${id}`);\n    }\n\n    return affiliation;\n  }\n\n  toDry() {\n    return { value: this.state };\n  }\n}\n\nAffiliations.unDry = function (value) {\n  let affiliations = new Affiliations();\n  affiliations.state = value;\n  affiliations._names = {};\n\n  Object.keys(value.registry).forEach((key) => {\n    let v = value.registry[key];\n    affiliations._names[v.getName()] = key;\n  });\n\n  return affiliations;\n};\n\nDry.registerClass(\"Affiliations\", Affiliations);\n\nexport default Affiliations;\n","import Dry from \"json-dry\";\nimport lodash from \"lodash\";\n\nimport RoughDate from \"./RoughDate\";\n\nimport { ValueError } from \"./Errors\";\n\nfunction setState(val, def = null) {\n  if (val) {\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Source {\n  constructor(props) {\n    this.state = {\n      name: null,\n      id: null,\n      date: null,\n      description: null,\n      notes: [],\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n    this._isASourceObject = true;\n  }\n\n  static clone(item) {\n    let c = new Source();\n    c._getHook = item._getHook;\n    c.state = lodash.cloneDeep(item.state);\n    return c;\n  }\n\n  getID() {\n    return this.state.id;\n  }\n\n  getDate() {\n    return this.state.date;\n  }\n\n  updateDate(date, force = false) {\n    if (!(date instanceof RoughDate || date._isARoughDateObject)) {\n      date = new RoughDate(date);\n    }\n\n    if (date.isNull()) {\n      return false;\n    }\n\n    if (this.getDate().isNull()) {\n      this.state.date = date;\n      return true;\n    }\n\n    if (RoughDate.ne(this.getDate(), date)) {\n      if (force) {\n        this.state.date = this.getDate().merge(date);\n        return true;\n      } else {\n        console.log(`Disagreement of date for ${this}: ${this.getDate()} vs ${date}`);\n      }\n    }\n\n    return false;\n  }\n\n  setState(state) {\n    if (state) {\n      this.state.name = setState(state.name);\n      this.state.id = setState(state.id);\n      this.state.description = setState(state.description);\n      this.state.notes = setState(state.notes, []);\n      this.state.sources = setState(state.sources, []);\n      this.state.date = setState(state.date, new RoughDate());\n\n      if (!this.state.name) {\n        throw new ValueError(\"You cannot have an Source without a name\");\n      }\n    }\n  }\n\n  _updateHooks(hook) {\n    this._getHook = hook;\n  }\n\n  merge() {\n    return this;\n  }\n\n  toString() {\n    return `Source(${this.getName()})`;\n  }\n\n  getName() {\n    return this.state.name;\n  }\n\n  getDescription() {\n    return this.state.description;\n  }\n\n  toDry() {\n    return { value: this.state };\n  }\n}\n\nSource.unDry = function (value) {\n  return new Source(value);\n};\n\nDry.registerClass(\"Source\", Source);\n\nexport default Source;\n","import Dry from \"json-dry\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport lodash from \"lodash\";\n\nimport Source from \"./Source\";\nimport { KeyError, MissingError } from \"./Errors\";\n\nfunction _generate_source_uid() {\n  let uid = uuidv4();\n  return \"S\" + uid.substring(uid.length - 7);\n}\n\nclass Sources {\n  constructor() {\n    this.state = {\n      registry: {},\n    };\n\n    this._names = {};\n    this._isASourcesObject = true;\n  }\n\n  _updateHooks(hook) {\n    this._getHook = hook;\n    for (let key in this.state.registry) {\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  static clone(item) {\n    let c = new Sources();\n    c.state = lodash.cloneDeep(item.state);\n    c._names = lodash.cloneDeep(item._names);\n    c._getHook = item._getHook;\n    return c;\n  }\n\n  values() {\n    let names = Object.keys(this._names);\n    names.sort();\n\n    let output = [];\n\n    names.forEach((key) => {\n      output.push(this.get(this._names[key]));\n    });\n\n    return output;\n  }\n\n  canAdd(item) {\n    return item instanceof Source || item._isASourceObject;\n  }\n\n  add(source) {\n    if (!this.canAdd(source)) {\n      return null;\n    }\n\n    let existing = null;\n\n    try {\n      existing = this.getByName(source.getName());\n    } catch (error) {\n      console.error(error);\n    }\n\n    if (existing) {\n      existing = existing.merge(source);\n      this.state.registry[existing.getID()] = existing;\n      return existing;\n    }\n\n    source = Source.clone(source);\n\n    let id = source.getID();\n\n    if (id) {\n      if (id in this.state.registry) {\n        throw new KeyError(`Duplicate Source ID ${source}`);\n      }\n\n      source._updateHooks(this._getHook);\n      this.state.registry[id] = source;\n    } else {\n      let uid = _generate_source_uid();\n\n      while (uid in this.state.registry) {\n        uid = _generate_source_uid();\n      }\n\n      source.state.id = uid;\n    }\n\n    source._updateHooks(this._getHook);\n    this._names[source.getName()] = source.getID();\n    this.state.registry[source.getID()] = source;\n\n    return source;\n  }\n\n  getByName(name) {\n    let id = this._names[name];\n\n    if (id) {\n      return this.get(id);\n    } else {\n      console.error(`No source with name ${name}`);\n    }\n  }\n\n  search(name) {\n    if (name instanceof Source || name._isASourceObject) {\n      name = name.getName();\n    }\n\n    name = name.trim().toLowerCase();\n\n    let results = [];\n\n    Object.keys(this.state.registry).forEach((key) => {\n      let item = this.state.registry[key];\n\n      let description = item.getDescription();\n\n      if (!description) {\n        description = \"\";\n      }\n\n      try {\n        if (item.getName().toLowerCase().indexOf(name) !== -1) {\n          results.push(item);\n        } else if (description.toLowerCase().indexOf(name) !== -1) {\n          results.push(item);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    });\n\n    if (results.length === 1) {\n      return results[0];\n    } else if (results.length > 1) {\n      return results;\n    } else {\n      return null;\n    }\n  }\n\n  find(name) {\n    if (name instanceof Source || name._isASourceObject) {\n      return this.get(name.getID());\n    }\n\n    name = name.trim().toLowerCase();\n\n    let results = [];\n\n    Object.keys(this._names).forEach((key) => {\n      if (key.toLowerCase().indexOf(name) !== -1) {\n        results.push(this.get(this._names[key]));\n      }\n    });\n\n    if (results.length === 1) {\n      return results[0];\n    } else if (results.length > 1) {\n      return results;\n    }\n\n    let keys = Object.keys(this._names).join(\"', '\");\n\n    throw new MissingError(`No source matches '${name}. Available sources are '${keys}'`);\n  }\n\n  get(id) {\n    let source = this.state.registry[id];\n\n    if (!source) {\n      throw new MissingError(`No Source with ID ${id}`);\n    }\n\n    return source;\n  }\n\n  toDry() {\n    return { value: this.state };\n  }\n}\n\nSources.unDry = function (value) {\n  let sources = new Sources();\n  sources.state = value;\n  sources._names = {};\n\n  Object.keys(value.registry).forEach((key) => {\n    let v = value.registry[key];\n    sources._names[v.getName()] = key;\n  });\n\n  return sources;\n};\n\nDry.registerClass(\"Sources\", Sources);\n\nexport default Sources;\n","import Dry from \"json-dry\";\nimport lodash from \"lodash\";\n\nfunction setState(val, def = null) {\n  if (val) {\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Note {\n  constructor(props) {\n    this.state = {\n      text: null,\n      id: null,\n      sources: [],\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n    this._isANoteObject = true;\n  }\n\n  static clone(item) {\n    let c = new Note();\n    c._getHook = item._getHook;\n    c.state = lodash.cloneDeep(item.state);\n    return c;\n  }\n\n  getID() {\n    return this.state.id;\n  }\n\n  setState(state) {\n    if (state) {\n      this.state.text = setState(state.text);\n      this.state.id = setState(state.id);\n      this.state.sources = setState(state.sources, []);\n    }\n  }\n\n  _updateHooks(hook) {\n    this._getHook = hook;\n  }\n\n  toString() {\n    return `Note(${this.getText()})`;\n  }\n\n  getText() {\n    return this.state.text;\n  }\n\n  toDry() {\n    return { value: this.state };\n  }\n}\n\nNote.unDry = function (value) {\n  return new Note(value);\n};\n\nDry.registerClass(\"Note\", Note);\n\nexport default Note;\n","import Dry from \"json-dry\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport lodash from \"lodash\";\n\nimport Note from \"./Note\";\nimport { KeyError, MissingError } from \"./Errors\";\n\nfunction _generate_note_uid() {\n  let uid = uuidv4();\n  return \"N\" + uid.substring(uid.length - 7);\n}\n\nclass Notes {\n  constructor() {\n    this.state = {\n      registry: {},\n    };\n\n    this._names = {};\n    this._isANotesObject = true;\n  }\n\n  _updateHooks(hook) {\n    this._getHook = hook;\n    for (let key in this.state.registry) {\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  static clone(item) {\n    let c = new Notes();\n    c.state = lodash.cloneDeep(item.state);\n    c._names = lodash.cloneDeep(item._names);\n    c._getHook = item._getHook;\n    return c;\n  }\n\n  canAdd(item) {\n    return item instanceof Note || item._isANoteObject;\n  }\n\n  add(note) {\n    if (!this.canAdd(note)) {\n      return null;\n    }\n\n    let existing = null;\n\n    try {\n      existing = this.getByName(note.getName());\n    } catch (error) {\n      console.error(error);\n    }\n\n    if (existing) {\n      existing = existing.merge(note);\n      this.state.registry[existing.getID()] = existing;\n      return existing;\n    }\n\n    note = note.clone(Note);\n\n    let id = note.getID();\n\n    if (id) {\n      if (id in this.state.registry) {\n        throw new KeyError(`Duplicate Note ID ${note}`);\n      }\n\n      note._updateHooks(this._getHook);\n      this.state.registry[id] = Note;\n    } else {\n      let uid = _generate_note_uid();\n\n      while (uid in this.state.registry) {\n        uid = _generate_note_uid();\n      }\n\n      note.state.id = uid;\n    }\n\n    note._updateHooks(this._getHook);\n    this._names[note.getName()] = note.getID();\n    this.state.registry[note.getID()] = note;\n\n    return note;\n  }\n\n  getByName(name) {\n    let id = this._names[name];\n\n    if (id) {\n      return this.get(id);\n    } else {\n      throw new MissingError(`No Note with name ${name}`);\n    }\n  }\n\n  find(name) {\n    if (name instanceof Note || name._isANoteObject) {\n      return this.get(name.getID());\n    }\n\n    name = name.trim().toLowerCase();\n\n    let results = [];\n\n    Object.keys(this._names).forEach((key) => {\n      if (key.toLowerCase().indexOf(name) !== -1) {\n        results.push(this.get(this._names[key]));\n      }\n    });\n\n    if (results.length === 1) {\n      return results[0];\n    } else if (results.length > 1) {\n      return results;\n    }\n\n    let keys = Object.keys(this._names).join(\"', '\");\n\n    throw new MissingError(`No Note matches '${name}. Available Notes are '${keys}'`);\n  }\n\n  get(id) {\n    let Note = this.state.registry[id];\n\n    if (!Note) {\n      throw new MissingError(`No Note with ID ${id}`);\n    }\n\n    return Note;\n  }\n\n  toDry() {\n    return { value: this.state };\n  }\n}\n\nNotes.unDry = function (value) {\n  let notes = new Notes();\n  notes.state = value;\n  notes._names = {};\n\n  Object.keys(value.registry).forEach((key) => {\n    let v = value.registry[key];\n    notes._names[v.getName()] = key;\n  });\n\n  return notes;\n};\n\nDry.registerClass(\"Notes\", Notes);\n\nexport default Notes;\n","import Dry from \"json-dry\";\nimport lodash from \"lodash\";\n\nimport DateRange from \"./DateRange\";\nimport { ValueError } from \"./Errors\";\n\nfunction setState(val, def = null) {\n  if (val) {\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Project {\n  constructor(props) {\n    this.state = {\n      name: null,\n      id: null,\n      url: null,\n      duration: new DateRange(),\n      notes: {},\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n    this._isAProjectObject = true;\n  }\n\n  static clone(item) {\n    let c = new Project();\n    c._getHook = item._getHook;\n    c.state = lodash.cloneDeep(item.state);\n    return c;\n  }\n\n  getID() {\n    return this.state.id;\n  }\n\n  setState(state) {\n    if (state) {\n      this.state.name = setState(state.name);\n      this.state.id = setState(state.id);\n      this.state.notes = setState(state.notes, {});\n      this.state.url = setState(state.url, null);\n      this.state.duration = new DateRange({ value: state.duration });\n\n      if (!this.state.name) {\n        throw new ValueError(\"You cannot have a Project without a name\");\n      }\n    }\n  }\n\n  _updateHooks(hook) {\n    this._getHook = hook;\n  }\n\n  merge() {\n    return this;\n  }\n\n  toString() {\n    return `Project(${this.getName()})`;\n  }\n\n  getName() {\n    return this.state.name;\n  }\n\n  getURL() {\n    return this.state.url;\n  }\n\n  getDuration() {\n    return this.state.duration;\n  }\n\n  getTimeLine() {\n    const duration = this.getDuration();\n\n    if (duration && duration.hasBounds()) {\n      return {\n        start: duration.getEarliestStart().toDate(),\n        end: duration.getLatestEnd().toDate(),\n        id: this.getID(),\n        content: this.getName(),\n      };\n    } else {\n      return null;\n    }\n  }\n\n  getNewTimeLine() {\n    const duration = this.getDuration();\n\n    if (duration && duration.hasBounds()) {\n      return {\n        start_time: duration.getEarliestStart().toMoment(),\n        end_time: duration.getLatestEnd().toMoment(),\n        project_id: this.getID(),\n        title: this.getName(),\n      };\n    } else {\n      return null;\n    }\n  }\n\n  toDry() {\n    return { value: this.state };\n  }\n}\n\nProject.unDry = function (value) {\n  return new Project(value);\n};\n\nDry.registerClass(\"Project\", Project);\n\nexport default Project;\n","import Dry from \"json-dry\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport lodash from \"lodash\";\n\nimport Project from \"./Project\";\nimport { KeyError, MissingError } from \"./Errors\";\n\nfunction _generate_project_uid() {\n  let uid = uuidv4();\n  return \"J\" + uid.substring(uid.length - 7);\n}\n\nclass Projects {\n  constructor() {\n    this.state = {\n      registry: {},\n    };\n\n    this._names = {};\n    this._isAProjectsObject = true;\n  }\n\n  _updateHooks(hook) {\n    this._getHook = hook;\n    for (let key in this.state.registry) {\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  static clone(item) {\n    let c = new Projects();\n    c.state = lodash.cloneDeep(item.state);\n    c._names = lodash.cloneDeep(item._names);\n    c._getHook = item._getHook;\n    return c;\n  }\n\n  values() {\n    let names = Object.keys(this._names);\n\n    let output = [];\n\n    names.forEach((key) => {\n      output.push(this.get(this._names[key]));\n    });\n\n    return output;\n  }\n\n  getNames() {\n    return Object.keys(this._names);\n  }\n\n  getIDs() {\n    return Object.values(this._names);\n  }\n\n  getDetails() {\n    return this._names;\n  }\n\n  canAdd(item) {\n    return item instanceof Project || item._isAProjectObject;\n  }\n\n  add(project) {\n    if (!this.canAdd(project)) {\n      return null;\n    }\n\n    let existing = null;\n\n    try {\n      existing = this.getByName(project.getName());\n    } catch (error) {\n      console.error(\"Cannot get project\", error);\n    }\n\n    if (existing) {\n      existing = existing.merge(project);\n      this.state.registry[existing.getID()] = existing;\n      return existing;\n    }\n\n    project = Project.clone(project);\n\n    let id = project.getID();\n\n    if (id) {\n      if (id in this.state.registry) {\n        throw new KeyError(`Duplicate Project ID ${project}`);\n      }\n\n      project._updateHooks(this._getHook);\n      this.state.registry[id] = project;\n    } else {\n      let uid = _generate_project_uid();\n\n      while (uid in this.state.registry) {\n        uid = _generate_project_uid();\n      }\n\n      project.state.id = uid;\n    }\n\n    project._updateHooks(this._getHook);\n    this._names[project.getName()] = project.getID();\n    this.state.registry[project.getID()] = project;\n\n    return project;\n  }\n\n  getByName(name) {\n    let id = this._names[name];\n\n    if (id) {\n      return this.get(id);\n    } else {\n      throw new MissingError(`No project with name ${name}`);\n    }\n  }\n\n  find(name) {\n    if (name instanceof Project || name._isAProjectObject) {\n      return this.get(name.getID());\n    }\n\n    name = name.trim().toLowerCase();\n\n    let results = [];\n\n    Object.keys(this._names).forEach((key) => {\n      if (key.toLowerCase().indexOf(name) !== -1) {\n        results.push(this.get(this._names[key]));\n      }\n    });\n\n    if (results.length === 1) {\n      return results[0];\n    } else if (results.length > 1) {\n      return results;\n    }\n\n    let keys = Object.keys(this._names).join(\"', '\");\n\n    throw new MissingError(`No project matches '${name}. Available projects are '${keys}'`);\n  }\n\n  get(id) {\n    let project = this.state.registry[id];\n\n    if (!project) {\n      throw new MissingError(`No Project with ID ${id}`);\n    }\n\n    return project;\n  }\n\n  getTimeLine() {\n    let items = [];\n\n    Object.keys(this.state.registry).forEach((key) => {\n      let project = this.state.registry[key];\n      if (project) {\n        let timeline = project.getTimeLine();\n        if (timeline) {\n          items.push(timeline);\n        }\n      }\n    });\n\n    return items;\n  }\n\n  toDry() {\n    return { value: this.state };\n  }\n}\n\nProjects.unDry = function (value) {\n  let projects = new Projects();\n  projects.state = value;\n  projects._names = {};\n\n  Object.keys(value.registry).forEach((key) => {\n    let v = value.registry[key];\n    projects._names[v.getName()] = key;\n  });\n\n  return projects;\n};\n\nDry.registerClass(\"Projects\", Projects);\n\nexport default Projects;\n","import Dry from \"json-dry\";\nimport lodash from \"lodash\";\n\nclass Biographies {\n  constructor() {\n    this.state = {\n      bios: {},\n    };\n\n    this._getHook = null;\n    this._isABiographiesObject = true;\n  }\n\n  _updateHooks(hook) {\n    this._getHook = hook;\n  }\n\n  static clone(item) {\n    let c = new Biographies();\n    c.state = lodash.cloneDeep(item.state);\n    c._getHook = item._getHook;\n    return c;\n  }\n\n  get(node) {\n    if (!node) {\n      return null;\n    } else if (node.getID) {\n      node = node.getID();\n    }\n\n    return this.state.bios[node];\n  }\n\n  getByID(id) {\n    if (!id) return null;\n\n    return this.state.bios[id];\n  }\n\n  getNode(id) {\n    if (this._getHook) {\n      return this._getHook(id);\n    } else {\n      return id;\n    }\n  }\n\n  search(text) {\n    if (!text) {\n      return null;\n    }\n\n    text = text.trim().toLowerCase();\n\n    let results = [];\n\n    Object.keys(this.state.bios).forEach((key) => {\n      if (this.state.bios[key].toLowerCase().indexOf(text) !== -1) {\n        results.push(this.getNode(key));\n      }\n    });\n\n    if (results.length === 1) {\n      return results[0];\n    } else if (results.length > 1) {\n      return results;\n    } else {\n      return null;\n    }\n  }\n\n  add(node, biography) {\n    if (!node || !biography) {\n      return null;\n    } else if (node.getID) {\n      node = node.getID();\n    }\n\n    let bio = this.state.bios[node];\n\n    if (bio) {\n      console.log(`There is already a bio for ${this.getNode(node)}`);\n      biography = `${bio}\\n${biography}`;\n    }\n\n    this.state.bios[node] = biography;\n  }\n}\n\nBiographies.unDry = function (value) {\n  let bios = new Biographies();\n  bios.state = value;\n  return bios;\n};\n\nDry.registerClass(\"Biographies\", Biographies);\n\nexport default Biographies;\n","import Dry from \"json-dry\";\nimport lodash from \"lodash\";\n\nimport People from \"./People\";\nimport Businesses from \"./Businesses\";\nimport Connections from \"./Connections\";\nimport Positions from \"./Positions\";\nimport Affiliations from \"./Affiliations\";\nimport Sources from \"./Sources\";\nimport Notes from \"./Notes\";\nimport Projects from \"./Projects\";\nimport Biographies from \"./Biographies\";\nimport DateRange from \"./DateRange\";\n\nimport { ValueError } from \"./Errors\";\n\nconst fast_physics = {\n  enabled: true,\n  timestep: 0.5,\n};\n\nconst slow_physics = { ...fast_physics };\nslow_physics.timestep = 0.1;\n\nfunction _push(values, list) {\n  if (!list) {\n    return;\n  }\n\n  if (values.length) {\n    for (let i = 0; i < values.length; ++i) {\n      list.push(values[i]);\n    }\n  } else {\n    list.push(values);\n  }\n}\n\nclass Social {\n  constructor(props) {\n    if (props) {\n      this.state = props;\n    } else {\n      this.state = {};\n    }\n\n    this.state.anchor = null;\n    this.state.filter = {};\n    this.state.cache = {\n      graph: null,\n      projectTimeLine: null,\n      itemTimeLine: null,\n      node_filters: null,\n      edge_filters: null,\n      people: null,\n      businesses: null,\n      connections: null,\n    };\n    this.state.window = new DateRange();\n    this.state.max_window = new DateRange();\n    this._rebuilding = 0;\n\n    this._isASocialObject = true;\n  }\n\n  static clone(item) {\n    let c = new Social();\n    c.state = lodash.cloneDeep(item.state);\n    return c;\n  }\n\n  _updateHooks() {\n    let getHook = (id) => {\n      return this.get(id);\n    };\n\n    let state = { ...this.state };\n\n    if (!(this.state.people instanceof People)) {\n      state.people = new People();\n    } else {\n      state.people = this.state.people;\n    }\n\n    if (!(this.state.businesses instanceof Businesses)) {\n      state.businesses = new Businesses();\n    } else {\n      state.businesses = this.state.businesses;\n    }\n\n    if (!(this.state.connections instanceof Connections)) {\n      state.connections = new Connections();\n    } else {\n      state.connections = this.state.connections;\n    }\n\n    if (!(this.state.positions instanceof Positions)) {\n      state.positions = new Positions();\n    } else {\n      state.positions = this.state.positions;\n    }\n\n    if (!(this.state.affiliations instanceof Affiliations)) {\n      state.affiliations = new Affiliations();\n    } else {\n      state.affiliations = this.state.affiliations;\n    }\n\n    if (!(this.state.sources instanceof Sources)) {\n      state.sources = new Sources();\n    } else {\n      state.sources = this.state.sources;\n    }\n\n    if (!(this.state.notes instanceof Notes)) {\n      state.notes = new Notes();\n    } else {\n      state.notes = this.state.notes;\n    }\n\n    if (!(this.state.projects instanceof Projects)) {\n      state.projects = new Projects();\n    } else {\n      state.projects = this.state.projects;\n    }\n\n    if (!(this.state.biographies instanceof Biographies)) {\n      state.biographies = new Biographies();\n    } else {\n      state.biographies = this.state.biographies;\n    }\n\n    this.state = state;\n\n    for (let key in this.state) {\n      try {\n        this.state[key]._updateHooks(getHook);\n      } catch (error) {\n        console.error(\"For key : \", key, \"\\nError: \", error);\n      }\n    }\n  }\n\n  clearCache() {\n    this.state.cache = {\n      graph: null,\n      projectTimeLine: null,\n      itemTimeLine: null,\n      node_filters: null,\n      edge_filters: null,\n      people: null,\n      businesses: null,\n      connections: null,\n    };\n    this._rebuilding = 0;\n  }\n\n  getNodeFilters() {\n    if (this.state.cache.node_filters) {\n      return this.state.cache.node_filters;\n    }\n\n    this._rebuilding += 1;\n    this.state.cache.node_filters = [];\n\n    // Must do time first, as this can affect all of the other filters!\n    let window = this.getWindow();\n\n    if (window.hasStart() || window.hasEnd()) {\n      this.state.cache.node_filters.push((item) => {\n        try {\n          return item.filterWindow(window);\n        } catch (error) {\n          console.log(`ERROR ${error}: ${item}`);\n          return item;\n        }\n      });\n    }\n\n    const project_filter = this.state.filter.project;\n\n    if (project_filter) {\n      this.state.cache.node_filters.push((item) => {\n        return item.filterProject(project_filter);\n      });\n    }\n\n    const source_filter = this.state.filter.source;\n\n    if (source_filter) {\n      this.state.cache.node_filters.push((item) => {\n        return item.filterSource(source_filter);\n      });\n    }\n\n    const node_filter = this.state.filter.node;\n\n    if (node_filter) {\n      let connections = this.getConnectionsTo(node_filter);\n      let filter = { ...node_filter };\n\n      for (let connection in connections) {\n        let node = connections[connection];\n        filter[node.getID()] = 1;\n      }\n\n      this.state.cache.node_filters.push((item) => {\n        if (item.getID() in filter) {\n          return item;\n        } else {\n          return null;\n        }\n      });\n    }\n\n    const group_filter = this.state.filter.group;\n\n    if (group_filter) {\n      this.state.cache.node_filters.push((item) => {\n        try {\n          if (item.inGroup(group_filter)) {\n            return item;\n          } else {\n            return null;\n          }\n        } catch (error) {\n          console.log(`Filter error: ${error}`);\n          return item;\n        }\n      });\n    }\n\n    this._rebuilding -= 1;\n    return this.state.cache.node_filters;\n  }\n\n  getEdgeFilters() {\n    if (!this.state.cache.edge_filters) {\n      this.state.cache.edge_filters = [];\n\n      // must do time first, as this can affect all of the other filters!\n      let window = this.getWindow();\n\n      if (window.hasStart() || window.hasEnd()) {\n        this.state.cache.edge_filters.push((item) => {\n          try {\n            return item.filterWindow(window);\n          } catch (error) {\n            console.log(`ERROR ${error}: ${item}`);\n            return item;\n          }\n        });\n      }\n\n      const project_filter = this.state.filter.project;\n\n      if (project_filter) {\n        this.state.cache.edge_filters.push((item) => {\n          try {\n            return item.filterProject(project_filter);\n          } catch (error) {\n            console.log(`ERROR ${error}: ${item}`);\n            return item;\n          }\n        });\n      }\n\n      const source_filter = this.state.filter.source;\n\n      if (source_filter) {\n        this.state.cache.edge_filters.push((item) => {\n          try {\n            return item.filterSource(source_filter);\n          } catch (error) {\n            console.log(`ERROR ${error}: ${item}`);\n            return item;\n          }\n        });\n      }\n    }\n\n    return this.state.cache.edge_filters;\n  }\n\n  getWindow() {\n    return this.state.window;\n  }\n\n  getMaxWindow() {\n    return this.state.max_window;\n  }\n\n  _fitWindow(window) {\n    let new_window = this.state.max_window.intersect(window);\n\n    let delta = window.getDelta();\n\n    if (new_window && new_window.getDelta() === delta) {\n      return window;\n    }\n\n    if (delta > this.state.max_window.getDelta()) {\n      return DateRange.clone(this.state.max_window);\n    }\n\n    if (window.getStartDate() < this.state.max_window.getStartDate()) {\n      return new DateRange({\n        start: this.state.max_window.getStartDate(),\n        end: this.state.max_window.getStartDate() + delta,\n      });\n    } else {\n      return new DateRange({\n        start: this.state.max_window.getEndDate() - delta,\n        end: this.state.max_window.getEndDate(),\n      });\n    }\n  }\n\n  setMaxWindow(window) {\n    if (!window._isADateRangeObject) {\n      window = new DateRange(window);\n    }\n\n    if (window === this.state.max_window) {\n      return;\n    }\n\n    this.state.max_window = window;\n\n    if (this.state.window && this.state.window.hasBounds()) {\n      let fitted = this._fitWindow(this.state.window);\n\n      if (fitted !== this.state.window) {\n        this.setWindow(fitted);\n      }\n    } else {\n      this.state.window = this.state.max_window;\n    }\n  }\n\n  setWindow(window) {\n    if (!window._isADateRangeObject) {\n      window = new DateRange(window);\n    }\n\n    if (DateRange.eq(window, this.state.window)) {\n      return false;\n    }\n\n    let fitted = this._fitWindow(window);\n\n    if (DateRange.eq(fitted, this.state.window)) {\n      return false;\n    }\n\n    this.state.window = fitted;\n    this.clearCache();\n    return true;\n  }\n\n  getPeople(filtered = true) {\n    if (this._rebuilding) {\n      filtered = false;\n    }\n\n    if (filtered) {\n      if (!this.state.cache.people) {\n        // console.log(\"REBUILD PEOPLE\");\n        this._rebuilding += 1;\n        this.state.cache.people = this.state.people.filter(this.getNodeFilters());\n        this._rebuilding -= 1;\n      }\n\n      return this.state.cache.people;\n    } else {\n      return this.state.people;\n    }\n  }\n\n  getBusinesses(filtered = true) {\n    if (this._rebuilding) {\n      filtered = false;\n    }\n\n    if (filtered) {\n      if (!this.state.cache.businesses) {\n        // console.log(\"REBUILD BUSINESSES\");\n        this._rebuilding += 1;\n        this.state.cache.businesses = this.state.businesses.filter(this.getNodeFilters());\n        this._rebuilding -= 1;\n      }\n\n      return this.state.cache.businesses;\n    } else {\n      return this.state.businesses;\n    }\n  }\n\n  getConnections(filtered = true) {\n    if (this._rebuilding) {\n      filtered = false;\n    }\n\n    if (filtered) {\n      if (!this.state.cache.connections) {\n        // console.log(\"REBUILD CONNECTIONS\");\n        this._rebuilding += 1;\n        this.state.cache.connections = this.state.connections.filter(this.getEdgeFilters());\n        this._rebuilding -= 1;\n      }\n\n      return this.state.cache.connections;\n    } else {\n      return this.state.connections;\n    }\n  }\n\n  getBiographies() {\n    return this.state.biographies;\n  }\n\n  getAffiliations() {\n    return this.state.affiliations;\n  }\n\n  getPositions() {\n    return this.state.positions;\n  }\n\n  getSources() {\n    return this.state.sources;\n  }\n\n  getNotes() {\n    return this.state.notes;\n  }\n\n  getProjects() {\n    return this.state.projects;\n  }\n\n  getConnectionsTo(item) {\n    return this.getConnections().getConnectionsTo(item);\n  }\n\n  getAnchor() {\n    return this.state.anchor;\n  }\n\n  getFilter() {\n    return { ...this.state.filter };\n  }\n\n  getFilterText() {\n    const filter = [];\n\n    let f = this.state.filter.node;\n\n    if (f) {\n      let parts = [];\n\n      Object.keys(f).forEach((key) => {\n        parts.push(this.get(key, false).getName());\n      });\n\n      parts.sort();\n\n      if (parts.length === 1) {\n        filter.push(`connected to ${parts[0]}`);\n      } else if (parts.length > 1) {\n        filter.push(`connected to (${parts.join(\" and \")})`);\n      }\n    }\n\n    f = this.state.filter.source;\n\n    if (f) {\n      let parts = [];\n\n      Object.keys(f).forEach((key) => {\n        parts.push(this.get(key, false).getName());\n      });\n\n      parts.sort();\n\n      if (parts.length === 1) {\n        filter.push(`with source ${parts[0]}`);\n      } else if (parts.length > 1) {\n        filter.push(`with sources (${parts.join(\" and \")})`);\n      }\n    }\n\n    f = this.state.filter.group;\n\n    if (f) {\n      let parts = [];\n\n      Object.keys(f).forEach((key) => {\n        parts.push(this.get(key, false).getName());\n      });\n\n      parts.sort();\n\n      if (parts.length === 1) {\n        filter.push(`in group ${parts[0]}`);\n      } else if (parts.length > 1) {\n        filter.push(`in groups (${parts.join(\" and \")})`);\n      }\n    }\n\n    f = this.state.filter.project;\n\n    if (f) {\n      let parts = [];\n\n      Object.keys(f).forEach((key) => {\n        parts.push(this.get(key, false).getName());\n      });\n\n      parts.sort();\n\n      if (parts.length === 1) {\n        filter.push(`in project ${parts[0]}`);\n      } else if (parts.length > 1) {\n        filter.push(`in projects (${parts.join(\" and \")})`);\n      }\n    }\n\n    if (filter.length === 1) {\n      return filter[0];\n    } else if (filter.length > 1) {\n      return `[${filter.join(\"] and [\")}]`;\n    } else {\n      return null;\n    }\n  }\n\n  _getType(item) {\n    if (item.getID) {\n      item = item.getID();\n    }\n\n    if (item[0] === \"P\" || item[0] === \"B\") {\n      return \"node\";\n    } else if (item[0] === \"J\") {\n      return \"project\";\n    } else if (item[0] === \"S\") {\n      return \"source\";\n    } else {\n      return \"group\";\n    }\n  }\n\n  isFiltered(item) {\n    if (item.getID) {\n      item = item.getID();\n    }\n\n    let type = this._getType(item);\n\n    const filter = this.state.filter[type];\n\n    if (filter) {\n      return item in filter;\n    } else {\n      return false;\n    }\n  }\n\n  find(text) {\n    let result = [];\n\n    try {\n      let items = this.getPeople(false).find(text);\n      _push(items, result);\n    } catch (error) {\n      console.error(error);\n    }\n\n    try {\n      let items = this.getBusinesses(false).find(text);\n      _push(items, result);\n    } catch (error) {\n      console.error(error);\n    }\n\n    try {\n      let items = this.getPositions().find(text);\n      _push(items, result);\n    } catch (error) {\n      console.error(error);\n    }\n\n    try {\n      let items = this.getAffiliations().find(text);\n      _push(items, result);\n    } catch (error) {\n      console.error(error);\n    }\n\n    try {\n      let items = this.getSources().search(text);\n      _push(items, result);\n    } catch (error) {\n      console.error(error);\n    }\n\n    try {\n      let items = this.getBiographies().search(text);\n      _push(items, result);\n    } catch (error) {\n      console.error(error);\n    }\n\n    return result;\n  }\n\n  resetAllFilters() {\n    this.state.filter = {};\n    this.clearCache();\n  }\n\n  resetFiltersNotShip() {\n    const projectFilter = this.state.filter[\"project\"];\n    this.state.filter = {};\n    this.state.filter[\"project\"] = projectFilter;\n    this.clearCache();\n  }\n\n  setAnchor(anchor) {\n    if (anchor) {\n      anchor = this.getPeople().find(anchor);\n    }\n\n    this.state.anchor = anchor;\n    this.clearCache();\n  }\n\n  toggleFilter(items) {\n    if (!Array.isArray(items)) {\n      items = [items];\n    }\n\n    for (let item of items) {\n      if (item.getID) {\n        item = item.getID();\n      }\n\n      let type = this._getType(item);\n\n      if (!(type in this.state.filter)) {\n        this.state.filter[type] = {};\n      }\n\n      if (item in this.state.filter[type]) {\n        delete this.state.filter[type][item];\n\n        if (Object.keys(this.state.filter[type]).length === 0) {\n          delete this.state.filter[type];\n        }\n      } else {\n        this.state.filter[type][item] = 1;\n      }\n    }\n\n    this.clearCache();\n  }\n\n  setFilters(...args) {\n    for (let items of args) {\n      if (!Array.isArray(items)) {\n        items = [items];\n      }\n\n      for (let item of items) {\n        if (item.getID) {\n          item = item.getID();\n        }\n\n        let type = this._getType(item);\n\n        if (!(type in this.state.filter)) {\n          this.state.filter[type] = {};\n        }\n\n        this.state.filter[type][item] = 1;\n      }\n    }\n\n    this.clearCache();\n  }\n\n  clearFilters(...args) {\n    for (let items of args) {\n      if (!Array.isArray(items)) {\n        items = [items];\n      }\n\n      for (let item of items) {\n        if (item.getID) {\n          item = item.getID();\n        }\n\n        let type = this._getType(item);\n\n        if (item in this.state.filter[type]) {\n          delete this.state.filter[type][item];\n\n          if (Object.keys(this.state.filter[type]).length === 0) {\n            delete this.state.filter[type];\n          }\n        }\n      }\n    }\n\n    this.clearCache();\n  }\n\n  toggleNodeFilter(nodes) {\n    this.toggleFilter(nodes);\n  }\n\n  clearProjectFilter() {\n    this.state.filter[\"project\"] = {};\n  }\n\n  toggleProjectFilter(project) {\n    if (!(\"project\" in this.state.filter)) {\n      this.state.filter[\"project\"] = {};\n    }\n\n    if (project in this.state.filter[\"project\"]) {\n      delete this.state.filter[\"project\"][project];\n    } else {\n      this.state.filter[\"project\"][project] = 1;\n    }\n  }\n\n  getProjectTimeLine() {\n    if (this.state.cache.projectTimeLine !== null) {\n      return this.state.cache.projectTimeLine;\n    }\n\n    let items = this.getProjects().getTimeLine();\n\n    this.state.cache.projectTimeLine = items;\n\n    return this.state.cache.projectTimeLine;\n  }\n\n  getItemTimeLine() {\n    if (this.state.cache.itemTimeLine !== null) {\n      return this.state.cache.itemTimeLine;\n    }\n\n    let items = this.getPeople().getTimeLine();\n\n    let projects = this.getProjects().getTimeLine();\n\n    projects.forEach((item) => {\n      item.type = \"background\";\n      items.push(item);\n    });\n\n    this.state.cache.itemTimeLine = items;\n\n    return this.state.cache.itemTimeLine;\n  }\n\n  getGraph() {\n    if (this.state.cache.graph !== null) {\n      return this.state.cache.graph;\n    }\n\n    const anchor = this.state.anchor;\n    let nodes = this.getPeople().getNodes({ anchor: anchor });\n    nodes = nodes.concat(this.getBusinesses().getNodes());\n\n    let n = {};\n    for (let i in nodes) {\n      n[nodes[i].id] = 1;\n    }\n\n    let edges = this.getConnections().getEdges(n);\n\n    this.state.cache.graph = { nodes: nodes, edges: edges };\n    return this.state.cache.graph;\n  }\n\n  add(item) {\n    if (!item) {\n      return;\n    }\n\n    let added = false;\n\n    Object.keys(this.state).forEach((key) => {\n      if (!added) {\n        let group = this.state[key];\n        if (group && group.canAdd) {\n          if (group.canAdd(item)) {\n            group.add(item);\n            added = true;\n          }\n        }\n      }\n    });\n\n    if (!added) {\n      throw new ValueError(`Do not know how to add ${item} to this Social group`);\n    }\n  }\n\n  get(id, filtered = true) {\n    if (id.getID) {\n      id = id.getID();\n    }\n\n    if (this._rebuilding) {\n      // we cannot get filtered data when rebuilding, else otherwise\n      // we get race conditions and weird results\n      filtered = false;\n    }\n\n    try {\n      if (id[0] === \"C\") {\n        return this.getConnections(filtered).get(id);\n      } else if (id[0] === \"P\") {\n        return this.getPeople(filtered).get(id);\n      } else if (id[0] === \"B\") {\n        return this.getBusinesses(filtered).get(id);\n      } else if (id[0] === \"Q\") {\n        return this.getPositions().get(id);\n      } else if (id[0] === \"A\") {\n        return this.getAffiliations().get(id);\n      } else if (id[0] === \"S\") {\n        return this.getSources().get(id);\n      } else if (id[0] === \"N\") {\n        return this.getNotes().get(id);\n      } else if (id[0] === \"J\") {\n        return this.getProjects().get(id);\n      } else {\n        return id;\n      }\n    } catch (error) {\n      if (filtered) {\n        return this.get(id, false);\n      } else {\n        throw error;\n      }\n    }\n  }\n\n  toDry() {\n    return { value: this.state };\n  }\n}\n\nSocial.unDry = function (value) {\n  let social = new Social(value);\n  social._updateHooks();\n\n  return social;\n};\n\nDry.registerClass(\"Social\", Social);\n\nexport default Social;\n","import React from \"react\";\n\nimport { Tabs, Tab, TabPanel, TabList } from \"react-web-tabs\";\n\nimport { Accordion, AccordionItem, AccordionTitle, AccordionPanel } from \"./Accordion\";\n\nimport GroupsList from \"./GroupsList\";\nimport ConnectionList from \"./ConnectionList\";\nimport SourceList from \"./SourceList\";\nimport WeightsList from \"./WeightsList\";\nimport DateRangeButton from \"./DateRangeButton\";\nimport DefaultButton from \"./DefaultButton\";\n\nimport Social from \"../model/Social\";\n\nimport styles from \"./InfoBox.module.css\";\n\nimport default_image from \"../images/RHowlett_IKB.jpg\";\nimport person_image from \"../images/IllustriteZeitung_SS_GreatBritain.png\";\nimport business_image from \"../images/320px-SS_Great_Britain_diagram.jpg\";\nimport source_image from \"../images/Sumerian_26th_c_Adab.jpg\";\nimport analysis_image from \"../images/320px-SS_Great_Britain_transverse_section.jpg\";\n\nlet default_title = \"Isambard's Social Network\";\n\nlet default_text = (\n  <div>\n    This is an interactive viewer of Isambard Kingdom Brunel&apos;s social network. Please click in the nodes and have\n    fun!\n  </div>\n);\n\nfunction null_function() {}\n\nfunction getBiography({ item, social, emitSelected = null_function, emitToggleFilter = null_function }) {\n  let pages = [];\n  let affiliations = {};\n  let positions = {};\n  let sources = {};\n  let connections = [];\n\n  try {\n    connections = social.getConnectionsTo(item);\n  } catch (error) {\n    console.log(`CONNECTIONS ERROR ${error}`);\n  }\n\n  if (item.getAffiliations) {\n    affiliations = item.getAffiliations();\n  }\n\n  if (item.getPositions) {\n    positions = item.getPositions();\n  }\n\n  if (item.getSources) {\n    sources = item.getSources();\n  }\n\n  let alive = null;\n\n  if (item.getAlive) {\n    let a = item.getAlive();\n    if (a) {\n      alive = (\n        <p>\n          They were alive from&nbsp;\n          {a.getStartString()}&nbsp; until {a.getEndString()}.\n        </p>\n      );\n    }\n  }\n\n  let bio = null;\n\n  try {\n    bio = social.getBiographies().get(item);\n  } catch (error) {\n    bio = null;\n  }\n\n  pages.push([\n    \"Biography\",\n    <div key=\"biography\">\n      <div>{bio}</div>\n      <div>{alive}</div>\n    </div>,\n  ]);\n\n  if (connections.length > 0) {\n    pages.push([\n      \"Connections\",\n      <div key=\"connections\">\n        <ConnectionList\n          connections={connections}\n          emitSelected={emitSelected}\n          emitToggleFilter={emitToggleFilter}\n          social={social}\n        />\n      </div>,\n    ]);\n  } else {\n    pages.push([\"Connections\", \"None\"]);\n  }\n\n  if (Object.keys(positions).length > 0) {\n    pages.push([\n      \"Positions\",\n      <div key=\"positions\">\n        <GroupsList\n          groups={positions}\n          emitSelected={emitSelected}\n          emitToggleFilter={emitToggleFilter}\n          social={social}\n        />\n      </div>,\n    ]);\n  } else {\n    pages.push([\"Positions\", \"None\"]);\n  }\n\n  if (Object.keys(affiliations).length > 0) {\n    pages.push([\n      \"Affiliations\",\n      <div key=\"affiliations\">\n        <GroupsList\n          groups={affiliations}\n          emitSelected={emitSelected}\n          emitToggleFilter={emitToggleFilter}\n          social={social}\n        />\n      </div>,\n    ]);\n  } else {\n    pages.push([\"Affiliations\", \"None\"]);\n  }\n\n  if (Object.keys(sources).length > 0) {\n    pages.push([\n      \"Sources\",\n      <div key=\"sources\">\n        <GroupsList groups={sources} emitSelected={emitSelected} emitToggleFilter={emitToggleFilter} social={social} />\n      </div>,\n    ]);\n  }\n\n  pages.push([\"Analysis\", <div key=\"analysis\">Here is space for graphs and analysis of {item.getName()}</div>]);\n\n  return pages;\n}\n\nfunction extractData({ item, social, emitSelected = null_function, emitToggleFilter = null_function }) {\n  let data = {\n    title: default_title,\n    image: default_image,\n    pages: [[\"Title\", default_text]],\n  };\n\n  if (!(social instanceof Social)) {\n    return data;\n  }\n\n  if (!item) {\n    return data;\n  }\n\n  //refresh the item in case of updates...\n  if (item.getID) {\n    item = item.getID();\n  }\n\n  try {\n    item = social.get(item);\n  } catch (error) {\n    item = null;\n  }\n\n  if (!item) {\n    return data;\n  }\n\n  if (item._isAPersonObject) {\n    data.title = (\n      <DefaultButton\n        onClick={() => {\n          emitToggleFilter(item);\n        }}\n      >\n        {item.getName()}\n      </DefaultButton>\n    );\n    data.pages = getBiography({\n      item: item,\n      social: social,\n      emitSelected: emitSelected,\n      emitToggleFilter: emitToggleFilter,\n    });\n\n    data.image = person_image;\n  } else if (item._isABusinessObject) {\n    data.title = (\n      <DefaultButton\n        onClick={() => {\n          emitToggleFilter(item);\n        }}\n      >\n        {item.getName()}\n      </DefaultButton>\n    );\n    data.pages = getBiography({\n      item: item,\n      social: social,\n      emitSelected: emitSelected,\n      emitToggleFilter: emitToggleFilter,\n    });\n\n    data.image = business_image;\n  } else if (item._isASourceObject) {\n    data.title = item.getName();\n    let description = item.getDescription();\n    if (!description) {\n      description = \"No description\";\n    }\n    data.pages = [\n      [\"Description\", description],\n      [\"Analysis\", \"Analysis for this source - where else has it been cited?\"],\n    ];\n    data.image = source_image;\n  } else if (item._isAConnectionObject) {\n    data.title = null;\n\n    let n0 = item.getNode0();\n    if (n0.getName) {\n      let node = n0;\n      n0 = (\n        <DefaultButton\n          onClick={() => {\n            emitSelected(node);\n          }}\n        >\n          {n0.getName()}\n        </DefaultButton>\n      );\n    }\n\n    let n1 = item.getNode1();\n    if (n1.getName) {\n      let node = n1;\n      n1 = (\n        <DefaultButton\n          onClick={() => {\n            emitSelected(node);\n          }}\n        >\n          {n1.getName()}\n        </DefaultButton>\n      );\n    }\n\n    let asources = item.getAffiliationSources();\n    let csources = item.getCorrespondanceSources();\n    let duration = item.getDuration();\n\n    if (duration) {\n      duration = (\n        <div>\n          <div>during</div>\n          <DateRangeButton value={duration} emitSelected={emitSelected} />\n        </div>\n      );\n    }\n\n    if (asources) {\n      asources = (\n        <AccordionItem uuid=\"asources\">\n          <AccordionTitle>Affiliation</AccordionTitle>\n          <AccordionPanel>\n            <SourceList social={social} sources={asources} emitSelected={emitSelected} />\n          </AccordionPanel>\n        </AccordionItem>\n      );\n    }\n\n    if (csources) {\n      csources = (\n        <AccordionItem uuid=\"csources\">\n          <AccordionTitle>Correspondance</AccordionTitle>\n          <AccordionPanel>\n            <SourceList social={social} sources={csources} emitSelected={emitSelected} />\n          </AccordionPanel>\n        </AccordionItem>\n      );\n    }\n\n    let accordion = null;\n\n    if (asources || csources) {\n      accordion = (\n        <Accordion allowMultipleExpanded={true} allowZeroExpanded={true} preExpanded={[\"asources\", \"csources\"]}>\n          {asources}\n          {csources}\n        </Accordion>\n      );\n    }\n\n    let pages = [];\n    pages.push([\n      \"Connection\",\n      <div key=\"connection\" style={{ textAlign: \"center\" }}>\n        {n0}\n        <div>||</div>\n        {n1}\n        <div>&nbsp;</div>\n        <div>{duration}</div>\n      </div>,\n    ]);\n\n    pages.push([\"Sources\", <div key=\"sources\">{accordion}</div>]);\n\n    pages.push([\n      \"Projects\",\n      <WeightsList\n        key=\"projects\"\n        weights={item.getWeights()}\n        type={item.getType()}\n        social={social}\n        emitSelected={emitSelected}\n        emitToggleFilter={emitToggleFilter}\n      />,\n    ]);\n\n    pages.push([\"Analysis\", \"Space for analysis of this Connection\"]);\n\n    data.image = analysis_image;\n\n    data.pages = pages;\n  }\n\n  return data;\n}\n\nfunction InfoBox(props) {\n  let data = {};\n\n  try {\n    data = extractData(props);\n  } catch (error) {\n    data = {\n      title: default_title,\n      image: default_image,\n      pages: [[\"Title\", default_text]],\n    };\n    console.log(`ERROR ${error}`);\n  }\n\n  const pages = data.pages;\n\n  if (pages.length > 1) {\n    let tabs = [];\n    let panes = [];\n\n    for (let i = 0; i < pages.length; ++i) {\n      panes.push(\n        <TabPanel key={pages[i][0]} tabId={pages[i][0]} className={styles.tabPanel}>\n          {pages[i][1]}\n        </TabPanel>\n      );\n      tabs.push(\n        <Tab key={pages[i][0]} className={styles.tab} tabFor={pages[i][0]}>\n          {pages[i][0]}\n        </Tab>\n      );\n    }\n\n    return (\n      <div className={styles.container}>\n        <img className={styles.heroImage} alt=\"\" src={data.image} />\n        <div className={styles.title}>{data.title}</div>\n        <Tabs\n          key={panes.length}\n          vertical\n          onChange={(tabId) => {\n            console.log(tabId);\n          }}\n          defaultTab={pages[0][0]}\n          className={styles.tabs}\n        >\n          <TabList className={styles.tablist}>{tabs}</TabList>\n          {panes}\n        </Tabs>\n      </div>\n    );\n  } else {\n    return (\n      <div className={styles.container}>\n        <img className={styles.heroImage} alt=\"\" src={data.image} />\n        <div className={styles.title}>{data.title}</div>\n        {pages[0][1]}\n      </div>\n    );\n  }\n}\n\nexport default InfoBox;\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport moment from \"moment\";\n\nimport Timeline, { TimelineHeaders, CustomHeader } from \"react-calendar-timeline\";\n\nimport \"./TimelineCSSOverride.css\";\n\nclass NewTimeline extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.setFilter = this.setFilter.bind(this);\n    this.itemRenderer = this.itemRenderer.bind(this);\n\n    this.state = {\n      defaultTimeStart: moment(\"1829-01-01\"),\n      defaultTimeEnd: moment(\"1846-12-31\"),\n      lastShip: null,\n    };\n\n    this.textStyle = {\n      overflow: \"hidden\",\n      paddingLeft: 3,\n      textOverflow: \"ellipsis\",\n      whiteSpace: \"nowrap\",\n    };\n\n    this.dateHeaderStyle = {\n      color: \"black\",\n      fontSize: \"16px\",\n      backgroundColor: \"#E8CEAA\",\n      //   backgroundColor: \"#E3D8A0\",\n      fontFamily: \"Playfair Display SC\",\n      border: \"white\",\n    };\n  }\n\n  setFilter(id, shipName) {\n    if (shipName === this.state.lastShip) {\n      this.props.resetFilters();\n      // Allows the ship to be selected again\n      this.setState({ lastShip: \"\" });\n      return;\n    }\n\n    this.setState({ lastShip: shipName });\n    this.props.onClick(id, shipName);\n  }\n\n  openOverview() {\n    return;\n  }\n\n  itemRenderer({ item, itemContext, getItemProps }) {\n    const background = itemContext.selected ? \"#3F592F\" : \"#003366\";\n    const border = itemContext.resizing ? \"#3F592F\" : \"#003366\";\n\n    return (\n      <div\n        {...getItemProps({\n          style: {\n            background,\n            border,\n            borderStyle: \"solid\",\n            fontSize: \"18px\",\n            fontFamily: \"Playfair Display SC\",\n            borderWidth: 0,\n          },\n          onMouseDown: () => {\n            this.setFilter(item[\"project_id\"], item[\"title\"]);\n          },\n        })}\n      >\n        <div style={this.textStyle}>{itemContext.title}</div>\n      </div>\n    );\n  }\n\n  render() {\n    const projects = this.props.projects;\n\n    const timeline_items = projects.values().map((project, index) => {\n      let item = project.getNewTimeLine();\n\n      item[\"id\"] = index;\n      item[\"group\"] = 1;\n\n      return item;\n    });\n\n    const groups = [{ id: 1, title: \"Projects\" }];\n\n    return (\n      <Timeline\n        groups={groups}\n        items={timeline_items}\n        sidebarWidth={0}\n        itemTouchSendsClick={true}\n        stackItems\n        lineHeight={60}\n        itemHeightRatio={0.8}\n        showCursorLine\n        canMove={false}\n        canResize={false}\n        traditionalZoom={true}\n        timeSteps={{ year: 1 }}\n        itemRenderer={this.itemRenderer}\n        defaultTimeStart={this.state.defaultTimeStart}\n        defaultTimeEnd={this.state.defaultTimeEnd}\n      >\n        <TimelineHeaders>\n          {/* <DateHeader unit=\"primaryHeader\" style={this.dateHeaderStyle} /> */}\n          <CustomHeader height={30} unit=\"year\">\n            {({ headerContext: { intervals }, getRootProps, getIntervalProps }) => {\n              return (\n                <div {...getRootProps()}>\n                  {intervals.map((interval, index) => {\n                    const intervalStyle = {\n                      lineHeight: \"30px\",\n                      textAlign: \"center\",\n                      borderLeft: \"1px solid white\",\n                      cursor: \"pointer\",\n                      backgroundColor: \"#E9CEAB\",\n                      color: \"black\",\n                      fontFamily: \"Playfair Display SC\",\n                    };\n                    return (\n                      <div\n                        key={index}\n                        {...getIntervalProps({\n                          interval,\n                          style: intervalStyle,\n                        })}\n                      >\n                        <div className=\"sticky\">{interval.startTime.format(\"YYYY\")}</div>\n                      </div>\n                    );\n                  })}\n                </div>\n              );\n            }}\n          </CustomHeader>\n        </TimelineHeaders>\n      </Timeline>\n    );\n  }\n}\n\nNewTimeline.propTypes = {\n  projects: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired,\n  resetFilters: PropTypes.func.isRequired,\n};\n\nexport default NewTimeline;\n","import PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport { Tabs, Tab, TabPanel, TabList } from \"react-web-tabs\";\n\nimport NewTimeline from \"./NewTimeline\";\n\nimport styles from \"./TimeLineBox.module.css\";\n\nclass TimeLineBox extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      dimensions: { height: 300, width: 600 },\n    };\n\n    this.tabs = {};\n    this.container = null;\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"resize\", () => {\n      this.updateSize();\n    });\n    this.updateSize();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", () => {\n      this.updateSize();\n    });\n  }\n\n  activate(tabId) {\n    Object.keys(this.tabs).forEach((key) => {\n      if (key !== tabId) {\n        let tab = this.tabs[key];\n        if (tab) {\n          tab.deactivate();\n        }\n      }\n    });\n\n    if (this.tabs[tabId]) {\n      this.tabs[tabId].activate();\n    }\n  }\n\n  updateSize() {\n    if (this.container) {\n      this.setState({\n        dimensions: {\n          width: this.container.offsetWidth,\n          height: this.container.offsetHeight,\n        },\n      });\n    }\n\n    Object.keys(this.tabs).forEach((key) => {\n      let tab = this.tabs[key];\n      if (tab) {\n        tab.updateSize(this.state.dimensions);\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div ref={(el) => (this.container = el)} className={styles.container}>\n        <Tabs\n          key=\"timeline-tabs\"\n          onChange={(tabId) => {\n            this.activate(tabId);\n            this.updateSize();\n          }}\n          className={styles.tabs}\n        >\n          <TabList className={styles.tabList}>\n            <Tab className={styles.tab} key=\"items\" tabFor=\"items\">\n              Timeline\n            </Tab>\n            {/* <Tab className={styles.tab} key=\"projects\" tabFor=\"projects\">\n              Projects\n            </Tab> */}\n            <Tab className={styles.tab} key=\"analysis\" tabFor=\"analysis\">\n              Analysis\n            </Tab>\n          </TabList>\n\n          <TabPanel key=\"items\" tabId=\"items\" className={styles.tabPanel}>\n            <NewTimeline\n              projects={this.props.projects}\n              onClick={this.props.shipSelect}\n              resetFilters={this.props.resetFilters}\n            />\n          </TabPanel>\n\n          {/* <TabPanel key=\"projects\" tabId=\"projects\" className={styles.tabPanel}>\n            <NewTimeline\n              projects={this.props.projects}\n              onClick={this.props.shipSelect}\n              resetFilters={this.props.resetFilters}\n            />\n          </TabPanel> */}\n\n          <TabPanel key=\"analysis\" tabId=\"analysis\" className={styles.tabPanel}>\n            <div className={styles.centerContainer}>\n              <p>This will contain tools and graphs for temporal social network analysis.</p>\n            </div>\n          </TabPanel>\n        </Tabs>\n      </div>\n    );\n  }\n}\n\nTimeLineBox.propTypes = {\n  projects: PropTypes.object.isRequired,\n  shipSelect: PropTypes.func.isRequired,\n  resetFilters: PropTypes.func.isRequired,\n  //   emitClicked: PropTypes.func.isRequired,\n  //   emitSelected: PropTypes.func.isRequired,\n  //   emitWindowChanged: PropTypes.func.isRequired,\n  //   getItemTimeLine: PropTypes.func.isRequired,\n  //   getItemWindow: PropTypes.func.isRequired,\n  //   getMaxWindow: PropTypes.func.isRequired,\n  //   getProjectTimeLine: PropTypes.func.isRequired,\n  //   getProjectWindow: PropTypes.func.isRequired,\n  //   selected: PropTypes.func,\n};\n\nexport default TimeLineBox;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { Accordion, AccordionItem, AccordionTitle, AccordionPanel } from \"./Accordion\";\n\nimport { ResponsiveList, ResponsiveListItem } from \"./ResponsiveList\";\nimport CheckBox from \"./CheckBox\";\nimport DefaultButton from \"./DefaultButton\";\n\nimport styles from \"./FilterBox.module.css\";\n\nfunction null_function() {}\n\nfunction filterList(items, props) {\n  let social = props.social;\n\n  let emitSelected = props.emitSelected;\n\n  if (!emitSelected) {\n    emitSelected = null_function;\n  }\n\n  let emitToggleFilter = props.emitToggleFilter;\n\n  if (!emitToggleFilter) {\n    emitToggleFilter = null_function;\n  }\n\n  let output = items.values().map((item) => {\n    let is_filtered = social.isFiltered(item);\n\n    return (\n      <ResponsiveListItem key={item.getName()}>\n        <DefaultButton\n          style={{ position: \"relative\", maxWidth: \"80%\" }}\n          onClick={() => {\n            emitSelected(item);\n          }}\n        >\n          {item.getName()}\n        </DefaultButton>\n        &nbsp;\n        <CheckBox\n          checked={is_filtered}\n          onChange={() => {\n            emitToggleFilter(item);\n          }}\n        />\n      </ResponsiveListItem>\n    );\n  });\n\n  return <ResponsiveList>{output}</ResponsiveList>;\n}\n\nfilterList.propTypes = {\n  social: PropTypes.object.isRequired,\n  emitSelected: PropTypes.func,\n  emitToggleFilter: PropTypes.func,\n};\n\nfunction FilterBox(props) {\n  let social = props.social;\n\n  if (!social) {\n    return <div>No social to display!</div>;\n  }\n\n  let filter_text = social.getFilterText();\n\n  if (!filter_text) {\n    filter_text = \"No filters\";\n  }\n\n  let emitClearFilters = props.emitClearFilters;\n\n  if (!emitClearFilters) {\n    emitClearFilters = null_function;\n  }\n\n  let filter_info = (\n    <AccordionItem uuid=\"filterinfo\">\n      <AccordionTitle>Current Filter</AccordionTitle>\n      <AccordionPanel>\n        <div className={styles.filterContainer}>\n          <div className={styles.filterText}>{filter_text}</div>\n          <div>\n            <DefaultButton onClick={emitClearFilters}>Clear Filters</DefaultButton>\n          </div>\n        </div>\n      </AccordionPanel>\n    </AccordionItem>\n  );\n\n  let projects = filterList(social.getProjects(false), props);\n  let sources = filterList(social.getSources(false), props);\n  let positions = filterList(social.getPositions(false), props);\n  let affiliations = filterList(social.getAffiliations(false), props);\n  let people = filterList(social.getPeople(false), props);\n  let businesses = filterList(social.getBusinesses(false), props);\n\n  return (\n    <Accordion allowMultipleExpanded={false} allowZeroExpanded={true}>\n      {filter_info}\n\n      <AccordionItem uuid=\"projects\">\n        <AccordionTitle>Projects</AccordionTitle>\n        <AccordionPanel>{projects}</AccordionPanel>\n      </AccordionItem>\n\n      <AccordionItem uuid=\"sources\">\n        <AccordionTitle>Sources</AccordionTitle>\n        <AccordionPanel>{sources}</AccordionPanel>\n      </AccordionItem>\n\n      <AccordionItem uuid=\"people\">\n        <AccordionTitle>People</AccordionTitle>\n        <AccordionPanel>{people}</AccordionPanel>\n      </AccordionItem>\n\n      <AccordionItem uuid=\"businesses\">\n        <AccordionTitle>Businesses</AccordionTitle>\n        <AccordionPanel>{businesses}</AccordionPanel>\n      </AccordionItem>\n\n      <AccordionItem uuid=\"positions\">\n        <AccordionTitle>Positions</AccordionTitle>\n        <AccordionPanel>{positions}</AccordionPanel>\n      </AccordionItem>\n\n      <AccordionItem uuid=\"affiliations\">\n        <AccordionTitle>Affiliations</AccordionTitle>\n        <AccordionPanel>{affiliations}</AccordionPanel>\n      </AccordionItem>\n    </Accordion>\n  );\n}\n\nFilterBox.propTypes = {\n  social: PropTypes.object.isRequired,\n  emitSelected: PropTypes.func,\n  emitClearFilters: PropTypes.func,\n};\n\nexport default FilterBox;\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { CSSTransition } from \"react-transition-group\";\n\nimport styles from \"./SlidingPanel.module.css\";\nimport SlideFromLeft from \"./transitions/SlideFromLeft.module.css\";\nimport SlideFromRight from \"./transitions/SlideFromRight.module.css\";\nimport SlideFromBottom from \"./transitions/SlideFromBottom.module.css\";\nimport SlideFromTop from \"./transitions/SlideFromTop.module.css\";\n\nclass SlidingPanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isOpen: false,\n      position: \"right\",\n      defaultSize: \"40%\",\n      minSize: \"300px\",\n      maxSize: null,\n    };\n  }\n\n  render() {\n    let container = styles.rightContainer;\n    let transition = SlideFromRight;\n\n    let width = this.props.width;\n    let height = this.props.height;\n\n    if (height && !width) {\n      width = \"100%\";\n    }\n\n    if (width && !height) {\n      height = \"100%\";\n    }\n\n    let horiz_size = { width: width };\n    let vert_size = { height: height };\n\n    let style = { width: width, height: height, minSize: this.state.minSize };\n\n    if (this.props.maxSize) {\n      horiz_size.maxWidth = this.props.maxSize;\n      vert_size.maxHeight = this.props.maxSize;\n    }\n\n    // let style = horiz_size;\n    // Get the passed in position\n    let position = this.props.position;\n\n    if (position === \"right\") {\n      container = styles.rightContainer;\n      transition = SlideFromRight;\n    } else if (position === \"bottom\") {\n      container = styles.bottomContainer;\n      transition = SlideFromBottom;\n    } else if (position === \"top\") {\n      container = styles.topContainer;\n      transition = SlideFromTop;\n    } else if (position === \"left\") {\n      container = styles.leftContainer;\n      transition = SlideFromLeft;\n    }\n\n    container = `${container} ${styles.container}`;\n\n    return (\n      <CSSTransition in={this.props.isOpen} timeout={200} classNames={transition} unmountOnExit>\n        <div className={container} style={style}>\n          {this.props.children}\n        </div>\n      </CSSTransition>\n    );\n  }\n}\n\nSlidingPanel.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.array, PropTypes.object]).isRequired,\n  isOpen: PropTypes.bool,\n  maxSize: PropTypes.string,\n  minSize: PropTypes.string,\n  position: PropTypes.string,\n  width: PropTypes.string,\n  height: PropTypes.string,\n};\n\nexport default SlidingPanel;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./ShipSelector.module.css\";\n\nclass ShipSelector extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const projects = this.props.projects;\n\n    // We want the graph to start with the GW selected\n    const ssGW = projects.getByName(\"SS Great Western\");\n    this.props.shipFilter(ssGW);\n\n    this.state = { lastShip: ssGW.getName() };\n  }\n\n  setFilter(item) {\n    const shipName = item.getName();\n\n    if (shipName === this.state.lastShip) {\n      //   this.props.resetFilters();\n      //   this.setState({ lastShip: \"\" });\n      return;\n    }\n\n    this.setState({ lastShip: shipName });\n    this.props.shipFilter(item);\n  }\n\n  render() {\n    let projects = this.props.projects;\n\n    let output = projects.values().map((item) => {\n      //   if (item.getName() === \"SS Great Eastern\") {\n      //     return (\n      //       <button href=\"#\" key={item.getName()} className={styles.disabledButton}>\n      //         {item.getName()}\n      //       </button>\n      //     );\n      //   } else {\n      return (\n        <button href=\"#\" key={item.getName()} className={styles.button} onClick={() => this.setFilter(item)}>\n          {item.getName()}\n        </button>\n      );\n      //   }\n    });\n\n    return output;\n  }\n}\n\nShipSelector.propTypes = {\n  projects: PropTypes.object.isRequired,\n  resetFilters: PropTypes.func.isRequired,\n  shipFilter: PropTypes.func.isRequired,\n};\n\nexport default ShipSelector;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./ShipTitle.module.css\";\n\nfunction ShipTitle(props) {\n  if (props.name == null) {\n    return null;\n  } else {\n    return <button className={styles.shipTitle}>{props.name}</button>;\n  }\n}\n\nShipTitle.propTypes = {\n  shipTitle: PropTypes.string,\n  style: PropTypes.string,\n};\n\nexport default ShipTitle;\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport Spinner from \"react-spinkit\";\n\nimport TextButton from \"./TextButton\";\n\nimport styles from \"./SearchBar.module.css\";\n\n// This class is heavily inspired by react-search-field\n// from https://github.com/nutboltu/react-search-field\n\nfunction _null_function() {}\n\nfunction SearchResults(props) {\n  let results = props.results;\n\n  if (!results) {\n    return null;\n  }\n\n  let items = [];\n\n  results.forEach((item, index) => {\n    items.push(<li key={index}>{item}</li>);\n  });\n\n  return <ul>{items}</ul>;\n}\n\nSearchResults.propTypes = {\n  results: PropTypes.any,\n};\n\nclass SearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: \"\",\n      suggestions: null,\n      searching: null,\n      results: null,\n    };\n  }\n\n  componentDidUpdate(nextProps) {\n    if (this.props.searchText !== nextProps.searchText) {\n      this.setState({\n        value: nextProps.searchText,\n      });\n    }\n  }\n\n  setResults(results) {\n    this.props.emitResults();\n    this.setState({ searching: null, suggestions: null, results: results });\n  }\n\n  setSuggestions(suggestions) {\n    this.props.emitResults();\n    this.setState({ searching: null, suggestions: suggestions, results: null });\n  }\n\n  createButton(item, index) {\n    const name = item.getName();\n    return (\n      <TextButton\n        key={name.concat(\"_\", index)}\n        textColor=\"#f1f1f1\"\n        hoverColor=\"#111\"\n        fontSize=\"2vh\"\n        onClick={() => {\n          this.props.emitSelected(item);\n        }}\n      >\n        {name}\n      </TextButton>\n    );\n  }\n\n  startSuggestion(text) {\n    let social = this.props.social;\n    if (!social) {\n      return;\n    }\n\n    let items = null;\n\n    try {\n      items = social.find(text);\n    } catch (error) {\n      items = null;\n    }\n\n    let emitSelected = this.props.emitSelected;\n\n    if (!emitSelected) {\n      emitSelected = _null_function;\n    }\n\n    if (items) {\n      let results = items.map((item, index) => {\n        return this.createButton(item, index);\n      });\n\n      this.setSuggestions(results);\n    } else {\n      this.setSuggestions(null);\n    }\n  }\n\n  startSearch(text) {\n    let social = this.props.social;\n\n    if (!social) {\n      this.setResults([<div key=\"noresults\">No results!</div>]);\n      return;\n    }\n\n    let items = null;\n\n    try {\n      items = social.find(text);\n    } catch (error) {\n      console.error(error);\n      items = null;\n    }\n\n    let emitSelected = this.props.emitSelected;\n\n    if (!emitSelected) {\n      emitSelected = _null_function;\n    }\n\n    if (items) {\n      let results = items.map((item, index) => {\n        return this.createButton(item, index);\n      });\n\n      this.setResults(results);\n    } else {\n      this.setResults([<div key=\"rnoresults\">Really no results!</div>]);\n    }\n  }\n\n  searchFor(text) {\n    if (text && text.length > 0) {\n      this.setState({ searching: text, suggestions: null, results: null });\n\n      setTimeout(() => {\n        this.startSearch(text);\n      }, 10);\n    } else {\n      this.setState({ suggestions: null, searching: null, results: null });\n    }\n  }\n\n  autocomplete(text) {\n    if (text && text.length > 0) {\n      this.startSuggestion(text);\n    } else {\n      this.setState({ suggestions: null, searching: null, results: null });\n    }\n  }\n\n  isSearching() {\n    return this.state.searching !== null;\n  }\n\n  isSuggesting() {\n    return this.state.suggestions !== null;\n  }\n\n  hasResults() {\n    return this.state.results !== null;\n  }\n\n  stopSearch() {\n    this.setState({ searching: null, suggestions: null, results: null });\n  }\n\n  onChange(event) {\n    if (this.isSearching()) {\n      return;\n    }\n\n    this.setState({ value: event.target.value });\n    this.autocomplete(event.target.value);\n  }\n\n  onEnter(event) {\n    if (this.isSearching() || this.isEmpty()) {\n      return;\n    }\n\n    const enterKey = 13;\n    const isEnterPressed = event.which === enterKey || event.keyCode === enterKey;\n\n    if (isEnterPressed) {\n      this.searchFor(event.target.value);\n    }\n  }\n\n  onSearch() {\n    if (this.isSearching() || this.isEmpty()) {\n      return;\n    }\n\n    this.searchFor(this.state.value);\n  }\n\n  isEmpty() {\n    return !(this.state.value && this.state.value.length > 0);\n  }\n\n  isSearchingComponent() {\n    return (\n      <div className={styles.searchContainer}>\n        <div className={styles.resultContainer}>\n          <div className={styles.searchPending}>\n            <div>Searching for &quot;{this.state.searching}&quot;...</div>\n            <div style={{ display: \"inline-block\" }}>\n              <Spinner name=\"ball-grid-pulse\" color=\"green\" fadeIn=\"none\" />\n            </div>\n          </div>\n          <div\n            className={styles.closeResultButton}\n            onClick={() => {\n              this.stopSearch();\n            }}\n          >\n            X\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  isSuggestingComponent() {\n    return (\n      <div className={styles.searchContainer}>\n        <div className={styles.resultContainer}>\n          <div className={styles.searchResult}>\n            <SearchResults results={this.state.suggestions} />\n          </div>\n          <div\n            className={styles.closeResultButton}\n            onClick={() => {\n              this.setState({ suggestions: null });\n            }}\n          >\n            X\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  resultsComponent() {\n    return (\n      <div className={styles.searchContainer}>\n        <div className={styles.resultContainer}>\n          <div className={styles.searchResult}>\n            <SearchResults results={this.state.results} />\n          </div>\n          <div\n            className={styles.closeResultButton}\n            onClick={() => {\n              this.setState({ results: null });\n            }}\n          >\n            X\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <div className={styles.searchContainer}>\n          <input\n            className={styles.searchBox}\n            onChange={(event) => {\n              this.onChange(event);\n            }}\n            onKeyPress={(event) => {\n              this.onEnter(event);\n            }}\n            placeholder={this.props.placeholder}\n            type=\"text\"\n            value={this.state.value}\n          />\n        </div>\n        {this.isSearching() ? this.isSearchingComponent() : null}\n        {this.isSuggesting() ? this.isSuggestingComponent() : null}\n        {this.hasResults() ? this.resultsComponent() : null}\n      </div>\n    );\n  }\n}\n\n// TODO - finish this\nSearchBar.propTypes = {\n  emitSelected: PropTypes.func.isRequired,\n  emitResults: PropTypes.func.isRequired,\n  social: PropTypes.object.isRequired,\n  placeholder: PropTypes.string,\n  searchText: PropTypes.string,\n};\n\nexport default SearchBar;\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\n\nimport SearchBar from \"./SearchBar\";\nimport Overlay from \"./Overlay\";\n\nimport styles from \"./SearchOverlay.module.css\";\nimport OverlayWrapper from \"./OverlayWrapper\";\n\nclass SearchOverlay extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.emitResults = this.emitResults.bind(this);\n    this.state = {\n      isOverlayOpen: true,\n      isBioOverlayOpen: true,\n      isSourceOverlayOpen: false,\n      haveResults: false,\n      selectedEntity: null,\n    };\n\n    this.toggleSourceOverlay = this.toggleSourceOverlay.bind(this);\n    this.toggleBioOverlay = this.toggleBioOverlay.bind(this);\n    this.emitSelected = this.emitSelected.bind(this);\n\n    this.toggleOverlay = this.toggleOverlay.bind(this);\n  }\n\n  emitResults() {\n    this.setState({ haveResults: true });\n  }\n\n  emitSelected(item) {\n    this.setState({ selectedEntity: item });\n  }\n\n  toggleOverlay() {\n    this.setState({ isOverlayOpen: !this.state.isOverlayOpen });\n  }\n\n  toggleSourceOverlay() {\n    this.setState({ isOverlayOpen: true, isSourceOverlayOpen: true, isBioOverlayOpen: false });\n  }\n\n  toggleBioOverlay() {\n    this.setState({ isOverlayOpen: true, isSourceOverlayOpen: false, isBioOverlayOpen: true });\n  }\n\n  render() {\n    // let searchStyle = this.state.haveResults ? styles.resultsContainer : styles.smallContainer;\n\n    const placeholderText = \"Search...\";\n    const socialSources = this.props.social.getSources();\n\n    // TODO - rework these classes, code duplication with Popover.js here\n    const selectedShipID = this.props.selectedShipID;\n\n    let infoOverlay = null;\n    if (this.state.selectedEntity) {\n      infoOverlay = <div style={{ background: \"white\", width: \"75%\", height: \"75%\", fontSize: \"5vh\" }}>Wooooo</div>;\n      const entity = this.state.selectedEntity;\n\n      // If we can't find it in the selected ship then get the sources for the other ship\n      const sourceIDs = entity.getSources()[selectedShipID];\n\n      let buttonStrings = [];\n      let sourceButtonText = \"\";\n\n      if (!sourceIDs) {\n        console.error(\"Cannot find sources for this project : \", selectedShipID, \"\\n Sources : \", socialSources);\n      } else {\n        for (const id of sourceIDs) {\n          buttonStrings.push(socialSources.get(id).getName());\n        }\n      }\n      sourceButtonText = buttonStrings.join(\", \");\n\n      infoOverlay = (\n        <OverlayWrapper\n          entity={entity}\n          isBioOverlayOpen={this.state.isBioOverlayOpen}\n          isOverlayOpen={this.state.isOverlayOpen}\n          isSourceOverlayOpen={this.state.isSourceOverlayOpen}\n          social={this.props.social}\n          sourceButtonText={sourceButtonText}\n          sourceIDs={sourceIDs}\n          toggleBioOverlay={this.toggleBioOverlay}\n          toggleOverlay={this.toggleOverlay}\n          toggleSourceOverlay={this.toggleSourceOverlay}\n        />\n      );\n    }\n\n    return (\n      <Overlay toggleOverlay={this.props.toggleSearchOverlay}>\n        <div className={styles.container}>\n          <div className={styles.smallContainer}>\n            <SearchBar\n              social={this.props.social}\n              emitHighlighted={this.props.emitHighlighted}\n              emitClicked={this.props.emitClicked}\n              emitResults={this.emitResults}\n              emitSelected={this.emitSelected}\n              placeholder={placeholderText}\n            ></SearchBar>\n          </div>\n          {infoOverlay}\n        </div>\n      </Overlay>\n    );\n  }\n}\n\nSearchOverlay.propTypes = {\n  toggleSearchOverlay: PropTypes.func.isRequired,\n  emitHighlighted: PropTypes.func.isRequired,\n  emitSelected: PropTypes.func.isRequired,\n  emitClicked: PropTypes.func.isRequired,\n  social: PropTypes.object.isRequired,\n  selectedShipID: PropTypes.string.isRequired,\n};\n\nexport default SearchOverlay;\n","// package imports\nimport React from \"react\";\nimport Dry from \"json-dry\";\n\n// Brunel components\nimport AnalysisPanel from \"./components/AnalysisPanel\";\nimport AnalysisButton from \"./components/AnalysisButton\";\nimport ForceGraph from \"./components/ForceGraph\";\nimport InfoBox from \"./components/InfoBox\";\nimport TimeLineBox from \"./components/TimeLineBox\";\nimport FilterBox from \"./components/FilterBox\";\nimport SlidingPanel from \"./components/SlidingPanel\";\nimport ShipSelector from \"./components/ShipSelector\";\nimport ShipTitle from \"./components/ShipTitle\";\nimport SearchOverlay from \"./components/SearchOverlay\";\nimport TextButton from \"./components/TextButton\";\nimport Overlay from \"./components/Overlay\";\n\n// Brunel model\nimport Social from \"./model/Social\";\n\n// Data for import\nimport graphData from \"./socialNetwork.json\";\nimport positionGroups from \"./data/positionGroups.json\";\n\n// Styling for the app\nimport styles from \"./SocialApp.module.css\";\nimport DateRange from \"./model/DateRange\";\n\nclass SocialApp extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.togglePhysicsEnabled = this.togglePhysicsEnabled.bind(this);\n    this.resetAllFilters = this.resetAllFilters.bind(this);\n    this.setOverlay = this.setOverlay.bind(this);\n    this.toggleOverlay = this.toggleOverlay.bind(this);\n\n    // Load in the Dried graph data from JSON\n    let social = Dry.parse(graphData);\n\n    if (!(social instanceof Social)) {\n      console.error(\"Could not parse!\");\n      social = new Social();\n    }\n\n    // Special cases for Brunel project...\n    social.setAnchor(\"Brunel\");\n    social.setMaxWindow(new DateRange({ start: \"1800-01-01\", end: \"1860-12-31\" }));\n\n    this.state = {\n      social: social,\n      highlighted_item: null,\n      selected_item: null,\n      overlayItem: null,\n      isInfoPanelOpen: false,\n      isTimeLinePanelOpen: false,\n      isFilterPanelOpen: false,\n      isHamburgerMenuOpen: false,\n      isSearchOverlayOpen: false,\n      isOptionsOverlayOpen: false,\n      indirectConnectionsVisible: false,\n      unconnectedNodesVisible: false,\n      investorsFiltered: false,\n      engineersFiltered: false,\n      standardSimulation: true,\n      commericalNodeFilter: [],\n      engineerNodeFilter: [],\n      connectedNodes: null,\n      timeline: new TimeLineBox(),\n      isOverlayOpen: false,\n      isAnalysisOpen: false,\n      physicsEnabled: false,\n      selectedShip: null,\n      selectedShipID: null,\n    };\n\n    // TODO - work out a cleaner way of doing this\n    // Is set in ShipSelector correctly\n    const ssGW = social.getProjects().getByName(\"SS Great Western\");\n    this.state.selectedShip = ssGW.getName();\n    this.state.selectedShipID = ssGW.getID();\n\n    // Find the investors and engineers for easy filtering\n    // This requires the\n    this.findInvestorsAndEngineers();\n    // Find the unconnected nodes for filtering\n    this.findConnectedNodes();\n\n    // // Hide the unconnected nodes\n    this.slotToggleFilter(this.state.connectedNodes);\n    // // setState doesn't fire as called from ctor so change it here\n    this.state.unconnectedNodesVisible = false;\n\n    this.socialGraph = null;\n  }\n\n  resetAllFilters() {\n    // This resets all filters including the ship filter\n    let social = this.state.social;\n    social.resetAllFilters();\n    this.setState({\n      social: social,\n      engineersFiltered: false,\n      investorsFiltered: false,\n      unconnectedNodesVisible: !this.state.unconnectedNodesVisible,\n    });\n  }\n\n  resetFiltersNotShip() {\n    // This resets all filters except the ship filter\n    let social = this.state.social;\n    social.resetFiltersNotShip();\n    this.setState({\n      social: social,\n      engineersFiltered: false,\n      investorsFiltered: false,\n      unconnectedNodesVisible: !this.state.unconnectedNodesVisible,\n    });\n  }\n\n  closePanels() {\n    this.setState({\n      isInfoPanelOpen: false,\n      isTimeLinePanelOpen: false,\n      isHamburgerMenuOpen: false,\n      isFilterPanelOpen: false,\n      isAnalysisOpen: false,\n      highlighted_item: null,\n    });\n  }\n\n  closeOverlay() {\n    this.setState({\n      isOverlayOpen: false,\n      overlayItem: null,\n    });\n  }\n\n  showInfo(item) {\n    if (item._isAProjectObject) {\n      this.setState({\n        overlayItem: item,\n        isOverlayOpen: true,\n      });\n    } else {\n      this.setState({\n        selected_item: item,\n        isInfoPanelOpen: true,\n      });\n    }\n  }\n\n  slotSetShip(item) {\n    if (!item._isAProjectObject) {\n      console.error(\"Cannot set item that is not a project.\");\n      return;\n    }\n\n    this.setState({ selectedShip: item.getName(), selectedShipID: item.getID() });\n    this.slotToggleFilter(item);\n  }\n\n  slotSetFilterbyID(id, name) {\n    // this.resetAllFilterss();\n    this.setState({ selectedShip: name, selectedShipID: id });\n    this.slotToggleFilter(id);\n  }\n\n  slotToggleProjectFilter(project) {\n    let social = this.state.social;\n    social.toggleProjectFilter(project);\n\n    this.setState({ social: social });\n  }\n\n  slotToggleFilter(item) {\n    if (!item) {\n      return;\n    }\n\n    let social = this.state.social;\n\n    // This feels clunky, is there a cleaner way of doing this?\n    // Currently we only want one ship selectable at a time\n    if (item._isAProjectObject) {\n      social.clearProjectFilter();\n    }\n\n    social.toggleFilter(item);\n\n    this.setState({ social: social });\n  }\n\n  slotSetFilters(...args) {\n    let social = this.state.social;\n    social.setFilters(...args);\n    this.setState({ social: social });\n  }\n\n  slotClearFilters(...args) {\n    let social = this.state.social;\n    social.clearFilters(...args);\n    this.setState({ social: social });\n  }\n\n  slotHighlighted(id) {\n    if (!id) {\n      return;\n    }\n\n    if (id._isADateRangeObject) {\n      return;\n    }\n\n    this.setState({ highlighted_item: id });\n  }\n\n  slotSelected(id) {\n    if (!id) {\n      this.closePanels();\n      return;\n    }\n\n    if (id._isADateRangeObject) {\n      let social = this.state.social;\n      if (social.setWindow(id)) {\n        this.setState({ social: social });\n      }\n      return;\n    }\n\n    const social = this.state.social;\n    const item = social.get(id);\n    this.showInfo(item);\n  }\n\n  slotWindowChanged(window) {\n    let social = this.state.social;\n\n    if (social.setWindow(window)) {\n      this.setState({ social: social });\n    }\n  }\n\n  gotConnections(id) {\n    // Does this have node have any connections, returns bool\n    return this.state.social.getConnections().gotConnections(id);\n  }\n\n  findInvestorsAndEngineers() {\n    // Creates a list of the IDs of all the nodes that belong to the commercial\n    // side of the projects\n    const people = this.state.social.getPeople(false).getRegistry();\n    const businesses = this.state.social.getBusinesses(false).getRegistry();\n\n    this.findAndGroupNodes(people);\n    this.findAndGroupNodes(businesses);\n  }\n\n  findAndGroupNodes(entities) {\n    // Add nodes to the commercial or engineering groups\n    let commericalNodeFilter = this.state.commericalNodeFilter;\n    let engineerNodeFilter = this.state.engineerNodeFilter;\n\n    const social = this.state.social;\n\n    for (const [id, entity] of Object.entries(entities)) {\n      // Should do this for each ship\n      for (const shipID of social.getProjects().getIDs()) {\n        // Lookup named position, here we'll only use the first position\n        // As each person may not have a role in every ship catch the error here\n        let positionID;\n        try {\n          positionID = entity.getPosition(shipID)[0];\n        } catch (error) {\n          continue;\n        }\n\n        // Trim any extra characters or whitespace from the position string\n        const namedPosition = social\n          .getPositions()\n          .getNameByID(positionID)\n          .toLowerCase()\n          .replace(/\\s/g, \"\")\n          .replace(/[.,/#!$%^&*;:{}=\\-_`~()]/g, \"\");\n\n        // Here we need to check if they've already been saved to stop double counting\n        if (positionGroups[\"commercial\"][\"members\"].includes(namedPosition)) {\n          if (!commericalNodeFilter.includes(id)) {\n            commericalNodeFilter.push(id);\n          }\n        }\n\n        if (positionGroups[\"engineering\"][\"members\"].includes(namedPosition)) {\n          if (!engineerNodeFilter.includes(id)) {\n            engineerNodeFilter.push(id);\n          }\n        }\n      }\n    }\n  }\n\n  findConnectedNodes() {\n    // Loop through and find the connected nodes and create a list of them\n    let connectedNodes = [];\n    let unconnectedNodes = [];\n\n    const people = this.state.social.getPeople(false).getNodes(\"noanchor\");\n\n    for (const p of people) {\n      //   if (this.gotConnections(p.id)) {\n      if (this.gotConnections(p.id)) {\n        connectedNodes.push(p.id);\n      } else {\n        unconnectedNodes.push(p.id);\n      }\n    }\n\n    const businesses = this.state.social.getBusinesses(false).getNodes(\"noanchor\");\n\n    for (const b of businesses) {\n      if (this.gotConnections(b.id)) {\n        connectedNodes.push(b.id);\n      } else {\n        unconnectedNodes.push(b.id);\n      }\n    }\n\n    // This function only called from within ctor so need to set directly here\n    /* eslint-disable react/no-direct-mutation-state */\n    this.state.connectedNodes = connectedNodes;\n    this.state.unconnectedNodes = unconnectedNodes;\n    /* eslint-enable react/no-direct-mutation-state */\n  }\n\n  toggleUnconnectedNodesVisible() {\n    this.slotToggleFilter(this.state.connectedNodes);\n    this.setState({ unconnectedNodesVisible: !this.state.unconnectedNodesVisible });\n  }\n\n  toggleSimulationType() {\n    // Using setState here leads to standardSimulation not being set in time for the rerender of the simulation\n    // this.setState({ standardSimulation: !this.state.standardSimulation });\n    /* eslint-disable react/no-direct-mutation-state */\n    this.state.standardSimulation = !this.state.standardSimulation;\n    /* eslint-enable react/no-direct-mutation-state */\n  }\n\n  // If unconnected nodes are enabled add them to the filter, if they're not remove them\n  filterEngineeringNodes() {\n    if (this.state.investorsFiltered) {\n      this.filterInvestorNodes();\n    }\n\n    // If we have unconnected nodes as part of this filter set, get rid of them\n    let nodesToFilter = this.state.engineerNodeFilter.filter((v) => !this.state.unconnectedNodes.includes(v));\n\n    if (this.state.engineersFiltered) {\n      this.resetFiltersNotShip();\n      this.toggleUnconnectedNodesVisible();\n    } else {\n      this.resetFiltersNotShip();\n      this.slotToggleFilter(nodesToFilter);\n    }\n\n    this.setState({ engineersFiltered: !this.state.engineersFiltered });\n    this.toggleSimulationType();\n  }\n\n  filterInvestorNodes() {\n    if (this.state.engineersFiltered) {\n      this.filterEngineeringNodes();\n    }\n\n    // If we have unconnected nodes as part of this filter set, get rid of them\n    let nodesToFilter = this.state.commericalNodeFilter.filter((v) => !this.state.unconnectedNodes.includes(v));\n\n    if (this.state.investorsFiltered) {\n      this.resetFiltersNotShip();\n      this.toggleUnconnectedNodesVisible();\n    } else {\n      this.resetFiltersNotShip();\n      this.slotToggleFilter(nodesToFilter);\n    }\n\n    this.setState({ investorsFiltered: !this.state.investorsFiltered });\n    this.toggleSimulationType();\n  }\n\n  toggleInfoPanel() {\n    this.setState({ isInfoPanelOpen: !this.state.isInfoPanelOpen });\n  }\n\n  toggleTimeLinePanel() {\n    this.setState({\n      isFilterPanelOpen: false,\n      isTimeLinePanelOpen: !this.state.isTimeLinePanelOpen,\n    });\n  }\n\n  toggleFilterPanel() {\n    this.setState({\n      isTimeLinePanelOpen: false,\n      isFilterPanelOpen: !this.state.isFilterPanelOpen,\n    });\n  }\n\n  toggleAnalysisPanel() {\n    this.setState({ isAnalysisOpen: !this.state.isAnalysisOpen });\n  }\n\n  toggleSearchOverlay() {\n    this.setState({ isSearchOverlayOpen: !this.state.isSearchOverlayOpen });\n  }\n\n  togglePhysicsEnabled() {\n    this.setState({ physicsEnabled: !this.state.physicsEnabled });\n  }\n\n  toggleOptionsOverlay() {\n    this.setState({ isOptionsOverlayOpen: !this.state.isOptionsOverlayOpen });\n  }\n\n  toggleindirectConnectionsVisible() {\n    this.setState({ indirectConnectionsVisible: !this.state.indirectConnectionsVisible });\n  }\n\n  setOverlay(item) {\n    this.setState({\n      overlayItem: item,\n      isOverlayOpen: true,\n    });\n  }\n\n  toggleOverlay() {\n    this.setState({ isOverlayOpen: !this.state.isOverlayOpen });\n  }\n\n  resetAll() {\n    window.location.reload(true);\n  }\n\n  render() {\n    const selected = this.state.selected_item;\n    const highlighted = this.state.highlighted_item;\n    const social = this.state.social;\n    let searchOverlay = null;\n\n    if (this.state.isSearchOverlayOpen) {\n      searchOverlay = (\n        <SearchOverlay\n          social={social}\n          toggleSearchOverlay={() => this.toggleSearchOverlay()}\n          emitSelected={(item) => {\n            this.slotSelected(item);\n          }}\n          emitHighlighted={(item) => {\n            this.slotHighlighted(item);\n          }}\n          emitClicked={(item) => {\n            this.slotClicked(item);\n          }}\n          selectedShipID={this.state.selectedShipID}\n        />\n      );\n    }\n\n    let overlay = null;\n    if (this.state.isOverlayOpen) {\n      overlay = <Overlay toggleOverlay={this.toggleOverlay}>{this.state.overlayItem}</Overlay>;\n    }\n\n    return (\n      <div>\n        <div className={styles.resetButtonContainer}>\n          <TextButton fontSize=\"28px\" hoverColor=\"#9CB6A4\" padding=\"2px 2px 2px 2px\" onClick={() => this.resetAll()}>\n            Reset\n          </TextButton>\n        </div>\n\n        <SlidingPanel isOpen={this.state.isTimeLinePanelOpen} position=\"bottom\" height=\"15%\">\n          <span\n            className={styles.closePanelButton}\n            onClick={() => {\n              this.setState({ isTimeLinePanelOpen: false });\n            }}\n          >\n            X\n          </span>\n          <TimeLineBox\n            selected={selected}\n            projects={this.state.social.getProjects()}\n            shipSelect={(item) => {\n              this.slotSetFilter(item);\n            }}\n            resetFilters={this.resetAllFilters}\n          />\n        </SlidingPanel>\n\n        {/* Info panel on the RHS */}\n        <SlidingPanel isOpen={this.state.isInfoPanelOpen} position=\"right\">\n          <span\n            className={styles.closePanelButton}\n            onClick={() => {\n              this.setState({ isInfoPanelOpen: false });\n            }}\n          >\n            X\n          </span>\n          <InfoBox\n            item={selected}\n            social={social}\n            emitSelected={(item) => {\n              this.slotSelected(item);\n            }}\n            emitHighlighted={(item) => {\n              this.slotHighlighted(item);\n            }}\n            emitToggleFilter={(item) => {\n              this.slotToggleFilter(item);\n            }}\n          />\n        </SlidingPanel>\n\n        {/* Filter on bottom of page */}\n        <SlidingPanel isOpen={this.state.isFilterPanelOpen} position=\"bottom\" height=\"25%\">\n          <span\n            className={styles.closePanelButton}\n            onClick={() => {\n              this.setState({ isFilterPanelOpen: false });\n            }}\n          >\n            X\n          </span>\n          <FilterBox\n            social={social}\n            emitToggleFilter={(item) => {\n              this.slotToggleFilter(item);\n            }}\n            emitSelected={(item) => {\n              this.slotSelected(item);\n            }}\n            emitHighlighted={(item) => {\n              this.slotHighlighted(item);\n            }}\n            emitClearFilters={() => {\n              this.resetAllFilters();\n            }}\n          />\n        </SlidingPanel>\n\n        <div className={styles.shipNameContainer}>\n          <ShipTitle name={this.state.selectedShip} />\n        </div>\n\n        <div className={styles.bottomContainer}>\n          <ShipSelector\n            projects={this.state.social.getProjects()}\n            shipFilter={(item) => this.slotSetShip(item)}\n            resetFilters={this.resetAllFilters}\n            selectedShip={this.state.selectedShip}\n          />\n        </div>\n\n        {/* The social graph itself */}\n        <div className={styles.mainContainer}>\n          <div className={styles.graphContainer}>\n            <ForceGraph\n              social={this.state.social}\n              selected={selected}\n              highlighted={highlighted}\n              emitClicked={(id) => this.slotSelected(id)}\n              setOverlay={this.setOverlay}\n              wobble={this.state.wobbleEnabled}\n              selectedShipID={this.state.selectedShipID}\n              indirectConnectionsVisible={this.state.indirectConnectionsVisible}\n              physicsEnabled={this.state.physicsEnabled}\n              standardSimulation={this.state.standardSimulation}\n            />\n          </div>\n        </div>\n\n        <div className={styles.rightSidePanel}>\n          <AnalysisButton togglePanel={() => this.toggleAnalysisPanel()} />\n        </div>\n\n        <SlidingPanel isOpen={this.state.isAnalysisOpen} position=\"right\" width=\"10%\">\n          <AnalysisPanel\n            setOverlay={this.setOverlay}\n            toggleSearchOverlay={() => this.toggleSearchOverlay()}\n            toggleOptionsOverlay={() => this.toggleOptionsOverlay()}\n            toggleFilterPanel={() => this.toggleFilterPanel()}\n            toggleTimeLinePanel={() => this.toggleTimeLinePanel()}\n            togglePanel={() => this.toggleAnalysisPanel()}\n            toggleUnconnectedNodesVisible={() => {\n              this.toggleUnconnectedNodesVisible();\n            }}\n            toggleindirectConnectionsVisible={() => this.toggleindirectConnectionsVisible()}\n            closeOverlay={() => this.closeOverlay()}\n            investorsFiltered={this.state.investorsFiltered}\n            engineersFiltered={this.state.engineersFiltered}\n            filterEngineeringNodes={() => this.filterEngineeringNodes()}\n            filterInvestorNodes={() => this.filterInvestorNodes()}\n            physicsEnabled={this.state.physicsEnabled}\n            togglePhysicsEnabled={this.togglePhysicsEnabled}\n            indirectConnectionsVisible={this.state.indirectConnectionsVisible}\n            unconnectedNodesVisible={this.state.unconnectedNodesVisible}\n            resetFilters={() => this.resetFiltersNotShip()}\n          />\n        </SlidingPanel>\n        {searchOverlay}\n        {overlay}\n      </div>\n    );\n  }\n}\n\nexport default SocialApp;\n","var map = {\n\t\"./320px-SS_Great_Britain_diagram.jpg\": 72,\n\t\"./320px-SS_Great_Britain_transverse_section.jpg\": 73,\n\t\"./800px-Gutenberg_Bible.jpg\": 123,\n\t\"./A_Specimen_by_William_Caslon.jpg\": 124,\n\t\"./Brunel_letter_GWR.jpg\": 125,\n\t\"./Great_Eastern_1866-crop.jpg\": 126,\n\t\"./Great_Western_maiden_voyage.jpg\": 127,\n\t\"./Great_eastern_launch_attempt.jpg\": 128,\n\t\"./IllustriteZeitung_SS_GreatBritain.png\": 74,\n\t\"./Launch-of-the-SS-GB.jpg\": 129,\n\t\"./Launch-of-the-SS-GB.small.jpg\": 130,\n\t\"./RHowlett_IKB.jpg\": 75,\n\t\"./Sumerian_26th_c_Adab.jpg\": 76,\n\t\"./The_Steamer_Great_Western_small.jpg\": 131,\n\t\"./bg-128-168.jpg\": 132,\n\t\"./people/Joshua_field.jpg\": 133,\n\t\"./ssgb_logo.png\": 134\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 71;","module.exports = __webpack_public_path__ + \"static/media/320px-SS_Great_Britain_diagram.898c32f6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/320px-SS_Great_Britain_transverse_section.7767cb60.jpg\";","module.exports = __webpack_public_path__ + \"static/media/IllustriteZeitung_SS_GreatBritain.946104e0.png\";","module.exports = __webpack_public_path__ + \"static/media/RHowlett_IKB.68e88d10.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Sumerian_26th_c_Adab.757d98b8.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AboutOverlay_container__fzMAB\",\"closeButton\":\"AboutOverlay_closeButton__2M8EC\",\"textContainer\":\"AboutOverlay_textContainer__2A-mP\",\"header\":\"AboutOverlay_header__3hHMT\",\"intro\":\"AboutOverlay_intro__2XyY_\",\"introBody\":\"AboutOverlay_introBody__2-zQS\",\"sectionHeader\":\"AboutOverlay_sectionHeader__3I8nD\",\"body\":\"AboutOverlay_body__25TZB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"TextButton_button__2yNkD\",\"verticalSpaceTitle\":\"TextButton_verticalSpaceTitle__2Tk5T\",\"verticalSpace\":\"TextButton_verticalSpace__2Q6Km\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"titleText\":\"AnalysisPanel_titleText__b6UZM\",\"wholePanel\":\"AnalysisPanel_wholePanel__yyW2P\",\"buttonPanel\":\"AnalysisPanel_buttonPanel__1nbYH\",\"button\":\"AnalysisPanel_button__297y3\",\"verticalSpaceTitle\":\"AnalysisPanel_verticalSpaceTitle__zFl5A\",\"verticalSpace\":\"AnalysisPanel_verticalSpace__ZeDzh\",\"enter\":\"AnalysisPanel_enter__1WPvO\",\"enterActive\":\"AnalysisPanel_enterActive__pHxbg\",\"exit\":\"AnalysisPanel_exit__3aXKR\",\"exitActive\":\"AnalysisPanel_exitActive__3179E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"AnalysisButton_button__27DRu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"closeButton\":\"Popover_closeButton__1Msfq\",\"popOver\":\"Popover_popOver__10jzZ\",\"header\":\"Popover_header__2TOZN\",\"bioSection\":\"Popover_bioSection__2BMbS\",\"sourceHeader\":\"Popover_sourceHeader__CJzXo\",\"sourceSection\":\"Popover_sourceSection__Njk1M\",\"edgeCount\":\"Popover_edgeCount__3R3z1\",\"edgeCountNumber\":\"Popover_edgeCountNumber__2tsEu\",\"readMore\":\"Popover_readMore__2c7rW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"BioOverlay_container__JNbgi\",\"closeButton\":\"BioOverlay_closeButton__3kwkz\",\"divider\":\"BioOverlay_divider__3RQPn\",\"textSection\":\"BioOverlay_textSection__1J4B5\",\"header\":\"BioOverlay_header__1tDmE\",\"nameHeader\":\"BioOverlay_nameHeader__cTRJ5\",\"positions\":\"BioOverlay_positions__1UpUj\",\"bio\":\"BioOverlay_bio__1QjHO\",\"sourcesHeader\":\"BioOverlay_sourcesHeader__2je7T\",\"sources\":\"BioOverlay_sources__XzlBO\",\"imageSection\":\"BioOverlay_imageSection__2wd2d\",\"imageDescription\":\"BioOverlay_imageDescription__1hLYH\"};","module.exports = __webpack_public_path__ + \"static/media/800px-Gutenberg_Bible.89cc4cbe.jpg\";","module.exports = __webpack_public_path__ + \"static/media/A_Specimen_by_William_Caslon.6240f5ce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Brunel_letter_GWR.ee7f061c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Great_Eastern_1866-crop.2f706ba7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Great_Western_maiden_voyage.f85d382e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Great_eastern_launch_attempt.a7a63d56.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Launch-of-the-SS-GB.a64b15af.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Launch-of-the-SS-GB.small.23ac08de.jpg\";","module.exports = __webpack_public_path__ + \"static/media/The_Steamer_Great_Western_small.8756970f.jpg\";","module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAAPAAA/+4ADkFkb2JlAGTAAAAAAf/bAIQABgQEBAUEBgUFBgkGBQYJCwgGBggLDAoKCwoKDBAMDAwMDAwQDA4PEA8ODBMTFBQTExwbGxscHx8fHx8fHx8fHwEHBwcNDA0YEBAYGhURFRofHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8f/8AAEQgAgACAAwERAAIRAQMRAf/EAFIAAQEAAAAAAAAAAAAAAAAAAAAIAQEAAAAAAAAAAAAAAAAAAAAAEAABBAMAAAAAAAAAAAAAAADwATFBUaECIhEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AppNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwBNG4uQwH//2Q==\"","module.exports = __webpack_public_path__ + \"static/media/Joshua_field.73a0da7c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/ssgb_logo.ee48e16d.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SourceOverlay_container__19Q2o\",\"closeButton\":\"SourceOverlay_closeButton__2LDeH\",\"divider\":\"SourceOverlay_divider__3b3gS\",\"nameHeader\":\"SourceOverlay_nameHeader__2hk5a\",\"sourceName\":\"SourceOverlay_sourceName__12n91\",\"body\":\"SourceOverlay_body__3Ilgc\",\"biography\":\"SourceOverlay_biography__rfNz9\",\"imageSection\":\"SourceOverlay_imageSection__2dP8A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Overlay_overlay__3n4WI\",\"container\":\"Overlay_container__Mgt_A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ForceGraph_container__TQtWA\",\"graph\":\"ForceGraph_graph__wst6B\",\"node\":\"ForceGraph_node__27s5W\",\"highlight\":\"ForceGraph_highlight__DhZbw\",\"link\":\"ForceGraph_link__2qaVU\",\"linkWeak\":\"ForceGraph_linkWeak__2lOg3\",\"linkIndirect\":\"ForceGraph_linkIndirect__1hzat\",\"linkInvisible\":\"ForceGraph_linkInvisible__2lF55\",\"node_text\":\"ForceGraph_node_text__3ovHB\",\"tooltip\":\"ForceGraph_tooltip__3ttDG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"accordion\":\"Accordion_accordion__34t4_\",\"accordionItem\":\"Accordion_accordionItem__VO6pK\",\"accordionButton\":\"Accordion_accordionButton__hVXWw\",\"accordionPanel\":\"Accordion_accordionPanel__1rZAH\",\"fadein\":\"Accordion_fadein__2cKpJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"DefaultButton_button__1Uv_G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkBox\":\"CheckBox_checkBox__36R4T\",\"checkMark\":\"CheckBox_checkMark__2h9Jd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ResponsiveList_list__1-ZoE\",\"item\":\"ResponsiveList_item__3jhI7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"project\":\"GroupsList_project__1pnkG\",\"projectHeader\":\"GroupsList_projectHeader__1YDl_\",\"projectBody\":\"GroupsList_projectBody__2Joe0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"connections\":\"ConnectionList_connections__2QbO3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"project\":\"WeightsList_project__3m0SJ\",\"projectHeader\":\"WeightsList_projectHeader__25IKl\",\"projectBody\":\"WeightsList_projectBody__3JVF3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"InfoBox_container__2EWGz\",\"heroImage\":\"InfoBox_heroImage__34BXw\",\"title\":\"InfoBox_title__2rO4Z\",\"button\":\"InfoBox_button__3w2z7\",\"tabs\":\"InfoBox_tabs__32XI5\",\"tablist\":\"InfoBox_tablist__3mBju\",\"tab\":\"InfoBox_tab__qp9XR\",\"tabPanel\":\"InfoBox_tabPanel__3FpOY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"TimeLineBox_container__3XwaK\",\"centerContainer\":\"TimeLineBox_centerContainer__16Ujh\",\"tabs\":\"TimeLineBox_tabs__yHSvr\",\"tablist\":\"TimeLineBox_tablist__yB2UA\",\"tab\":\"TimeLineBox_tab__157Wu\",\"tabPanel\":\"TimeLineBox_tabPanel__3u0d3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filterContainer\":\"FilterBox_filterContainer__2KAxt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SlidingPanel_container__360Fr\",\"leftContainer\":\"SlidingPanel_leftContainer__hQNC6\",\"rightContainer\":\"SlidingPanel_rightContainer__57qYr\",\"topContainer\":\"SlidingPanel_topContainer__YiYRz\",\"bottomContainer\":\"SlidingPanel_bottomContainer__2dEzd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"SlideFromLeft_enter__jKjRY\",\"enterActive\":\"SlideFromLeft_enterActive__159kE\",\"exit\":\"SlideFromLeft_exit___gRJ9\",\"exitActive\":\"SlideFromLeft_exitActive__YfXDY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"SlideFromRight_enter__3at5G\",\"enterActive\":\"SlideFromRight_enterActive__qhcn3\",\"exit\":\"SlideFromRight_exit__C9Did\",\"exitActive\":\"SlideFromRight_exitActive__2HcMW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"SlideFromBottom_enter__1iOKm\",\"enterActive\":\"SlideFromBottom_enterActive__248cg\",\"exit\":\"SlideFromBottom_exit__1SBqa\",\"exitActive\":\"SlideFromBottom_exitActive__1TiIq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"SlideFromTop_enter__2sGUw\",\"enterActive\":\"SlideFromTop_enterActive__3jElj\",\"exit\":\"SlideFromTop_exit__28rU4\",\"exitActive\":\"SlideFromTop_exitActive__2_Nxz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"ShipSelector_button__1cPR1\",\"disabledButton\":\"ShipSelector_disabledButton__2aQfJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"shipTitle\":\"ShipTitle_shipTitle__3ELcB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchContainer\":\"SearchBar_searchContainer__2xOxT\",\"resultContainer\":\"SearchBar_resultContainer__1_9Lx\",\"searchPending\":\"SearchBar_searchPending__1uhP9\",\"searchResult\":\"SearchBar_searchResult__1iaaf\",\"searchBox\":\"SearchBar_searchBox__3PHmH\",\"disabledButton\":\"SearchBar_disabledButton__2PWwO\",\"searchButton\":\"SearchBar_searchButton__1GItM\",\"magnifier\":\"SearchBar_magnifier__2xBEb\",\"closeResultButton\":\"SearchBar_closeResultButton__MIs2K\",\"hamburgerButton\":\"SearchBar_hamburgerButton__1PuEk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SearchOverlay_container__oPvtI\",\"smallContainer\":\"SearchOverlay_smallContainer__cokAy\",\"resultsContainer\":\"SearchOverlay_resultsContainer__3qrfB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"module\":\"SocialApp_module__3Cefy\",\"mainContainer\":\"SocialApp_mainContainer__1mJaw\",\"graphContainer\":\"SocialApp_graphContainer__1fIZ_\",\"shipNameContainer\":\"SocialApp_shipNameContainer__3G7ll\",\"resetButtonContainer\":\"SocialApp_resetButtonContainer__2FOA9\",\"hamburgerContainer\":\"SocialApp_hamburgerContainer__1snWy\",\"hamburgerButton\":\"SocialApp_hamburgerButton__UDSfq\",\"controlButton\":\"SocialApp_controlButton__dd05U\",\"analysisButtons\":\"SocialApp_analysisButtons__1quBU\",\"bottomContainer\":\"SocialApp_bottomContainer__7teeO\",\"rightSidePanel\":\"SocialApp_rightSidePanel__3D6TX\",\"filterText\":\"SocialApp_filterText__12DDf\",\"citationText\":\"SocialApp_citationText__m100A\",\"closePanelButton\":\"SocialApp_closePanelButton__S0EAB\",\"closeOverlayButton\":\"SocialApp_closeOverlayButton__38BCO\",\"modal\":\"SocialApp_modal__7Dp7u\",\"modalOverlay\":\"SocialApp_modalOverlay__8objV\",\"modalOverlayAfterOpen\":\"SocialApp_modalOverlayAfterOpen__3azyt\",\"modalOverlayBeforeClose\":\"SocialApp_modalOverlayBeforeClose__3K48w\",\"sidebarVis\":\"SocialApp_sidebarVis__eSMUM\",\"sidebarInvis\":\"SocialApp_sidebarInvis__2tJ2j\"};"],"sourceRoot":""}